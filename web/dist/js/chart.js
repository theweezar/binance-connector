/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./web/js/chart.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/papaparse/papaparse.min.js":
/*!*************************************************!*\
  !*** ./node_modules/papaparse/papaparse.min.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* @license\nPapa Parse\nv5.5.3\nhttps://github.com/mholt/PapaParse\nLicense: MIT\n*/\n((e,t)=>{ true?!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):undefined})(this,function r(){var n=\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:void 0!==n?n:{};var d,s=!n.document&&!!n.postMessage,a=n.IS_PAPA_WORKER||!1,o={},h=0,v={};function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine=\"\",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null);this._handle=new i(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(t,e){var i=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<i){let e=this._config.newline;e||(r=this._config.quoteChar||'\"',e=this._handle.guessLineEndings(t,r)),t=[...t.split(e).slice(i)].join(e)}this.isFirstChunk&&U(this._config.beforeFirstChunk)&&void 0!==(r=this._config.beforeFirstChunk(t))&&(t=r),this.isFirstChunk=!1,this._halted=!1;var i=this._partialLine+t,r=(this._partialLine=\"\",this._handle.parse(i,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){t=r.meta.cursor,i=(this._finished||(this._partialLine=i.substring(t-this._baseIndex),this._baseIndex=t),r&&r.data&&(this._rowCount+=r.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview);if(a)n.postMessage({results:r,workerId:v.WORKER_ID,finished:i});else if(U(this._config.chunk)&&!e){if(this._config.chunk(r,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=r=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),this._completed||!i||!U(this._config.complete)||r&&r.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),i||r&&r.meta.paused||this._nextChunk(),r}this._halted=!0},this._sendError=function(e){U(this._config.error)?this._config.error(e):a&&this._config.error&&n.postMessage({workerId:v.WORKER_ID,error:e,finished:!1})}}function f(e){var r;(e=e||{}).chunkSize||(e.chunkSize=v.RemoteChunkSize),u.call(this,e),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(r=new XMLHttpRequest,this._config.withCredentials&&(r.withCredentials=this._config.withCredentials),s||(r.onload=y(this._chunkLoaded,this),r.onerror=y(this._chunkError,this)),r.open(this._config.downloadRequestBody?\"POST\":\"GET\",this._input,!s),this._config.downloadRequestHeaders){var e,t=this._config.downloadRequestHeaders;for(e in t)r.setRequestHeader(e,t[e])}var i;this._config.chunkSize&&(i=this._start+this._config.chunkSize-1,r.setRequestHeader(\"Range\",\"bytes=\"+this._start+\"-\"+i));try{r.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}s&&0===r.status&&this._chunkError()}},this._chunkLoaded=function(){4===r.readyState&&(r.status<200||400<=r.status?this._chunkError():(this._start+=this._config.chunkSize||r.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader(\"Content-Range\"))?parseInt(e.substring(e.lastIndexOf(\"/\")+1)):-1)(r),this.parseChunk(r.responseText)))},this._chunkError=function(e){e=r.statusText||e;this._sendError(new Error(e))}}function l(e){(e=e||{}).chunkSize||(e.chunkSize=v.LocalChunkSize),u.call(this,e);var i,r,n=\"undefined\"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,n?((i=new FileReader).onload=y(this._chunkLoaded,this),i.onerror=y(this._chunkError,this)):i=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,t=(this._config.chunkSize&&(t=Math.min(this._start+this._config.chunkSize,this._input.size),e=r.call(e,this._start,t)),i.readAsText(e,this._config.encoding));n||this._chunkLoaded({target:{result:t}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(i.error)}}function c(e){var i;u.call(this,e=e||{}),this.stream=function(e){return i=e,this._nextChunk()},this._nextChunk=function(){var e,t;if(!this._finished)return e=this._config.chunkSize,i=e?(t=i.substring(0,e),i.substring(e)):(t=i,\"\"),this._finished=!i,this.parseChunk(t)}}function p(e){u.call(this,e=e||{});var t=[],i=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on(\"data\",this._streamData),this._input.on(\"end\",this._streamEnd),this._input.on(\"error\",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):i=!0},this._streamData=y(function(e){try{t.push(\"string\"==typeof e?e:e.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),r=!0,this._streamData(\"\")},this),this._streamCleanUp=y(function(){this._input.removeListener(\"data\",this._streamData),this._input.removeListener(\"end\",this._streamEnd),this._input.removeListener(\"error\",this._streamError)},this)}function i(m){var n,s,a,t,o=Math.pow(2,53),h=-o,u=/^\\s*-?(\\d+\\.?|\\.\\d+|\\d+\\.\\d+)([eE][-+]?\\d+)?\\s*$/,d=/^((\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z))|(\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d([+-][0-2]\\d:[0-5]\\d|Z)))$/,i=this,r=0,f=0,l=!1,e=!1,c=[],p={data:[],errors:[],meta:{}};function y(e){return\"greedy\"===m.skipEmptyLines?\"\"===e.join(\"\").trim():1===e.length&&0===e[0].length}function g(){if(p&&a&&(k(\"Delimiter\",\"UndetectableDelimiter\",\"Unable to auto-detect delimiting character; defaulted to '\"+v.DefaultDelimiter+\"'\"),a=!1),m.skipEmptyLines&&(p.data=p.data.filter(function(e){return!y(e)})),_()){if(p)if(Array.isArray(p.data[0])){for(var e=0;_()&&e<p.data.length;e++)p.data[e].forEach(t);p.data.splice(0,1)}else p.data.forEach(t);function t(e,t){U(m.transformHeader)&&(e=m.transformHeader(e,t)),c.push(e)}}function i(e,t){for(var i=m.header?{}:[],r=0;r<e.length;r++){var n=r,s=e[r],s=((e,t)=>(e=>(m.dynamicTypingFunction&&void 0===m.dynamicTyping[e]&&(m.dynamicTyping[e]=m.dynamicTypingFunction(e)),!0===(m.dynamicTyping[e]||m.dynamicTyping)))(e)?\"true\"===t||\"TRUE\"===t||\"false\"!==t&&\"FALSE\"!==t&&((e=>{if(u.test(e)){e=parseFloat(e);if(h<e&&e<o)return 1}})(t)?parseFloat(t):d.test(t)?new Date(t):\"\"===t?null:t):t)(n=m.header?r>=c.length?\"__parsed_extra\":c[r]:n,s=m.transform?m.transform(s,n):s);\"__parsed_extra\"===n?(i[n]=i[n]||[],i[n].push(s)):i[n]=s}return m.header&&(r>c.length?k(\"FieldMismatch\",\"TooManyFields\",\"Too many fields: expected \"+c.length+\" fields but parsed \"+r,f+t):r<c.length&&k(\"FieldMismatch\",\"TooFewFields\",\"Too few fields: expected \"+c.length+\" fields but parsed \"+r,f+t)),i}var r;p&&(m.header||m.dynamicTyping||m.transform)&&(r=1,!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(i),r=p.data.length):p.data=i(p.data,0),m.header&&p.meta&&(p.meta.fields=c),f+=r)}function _(){return m.header&&0===c.length}function k(e,t,i,r){e={type:e,code:t,message:i};void 0!==r&&(e.row=r),p.errors.push(e)}U(m.step)&&(t=m.step,m.step=function(e){p=e,_()?g():(g(),0!==p.data.length&&(r+=e.data.length,m.preview&&r>m.preview?s.abort():(p.data=p.data[0],t(p,i))))}),this.parse=function(e,t,i){var r=m.quoteChar||'\"',r=(m.newline||(m.newline=this.guessLineEndings(e,r)),a=!1,m.delimiter?U(m.delimiter)&&(m.delimiter=m.delimiter(e),p.meta.delimiter=m.delimiter):((r=((e,t,i,r,n)=>{var s,a,o,h;n=n||[\",\",\"\\t\",\"|\",\";\",v.RECORD_SEP,v.UNIT_SEP];for(var u=0;u<n.length;u++){for(var d,f=n[u],l=0,c=0,p=0,g=(o=void 0,new E({comments:r,delimiter:f,newline:t,preview:10}).parse(e)),_=0;_<g.data.length;_++)i&&y(g.data[_])?p++:(d=g.data[_].length,c+=d,void 0===o?o=d:0<d&&(l+=Math.abs(d-o),o=d));0<g.data.length&&(c/=g.data.length-p),(void 0===a||l<=a)&&(void 0===h||h<c)&&1.99<c&&(a=l,s=f,h=c)}return{successful:!!(m.delimiter=s),bestDelimiter:s}})(e,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess)).successful?m.delimiter=r.bestDelimiter:(a=!0,m.delimiter=v.DefaultDelimiter),p.meta.delimiter=m.delimiter),b(m));return m.preview&&m.header&&r.preview++,n=e,s=new E(r),p=s.parse(n,t,i),g(),l?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,s.abort(),n=U(m.chunk)?\"\":n.substring(s.getCharIndex())},this.resume=function(){i.streamer._halted?(l=!1,i.streamer.parseChunk(n,!0)):setTimeout(i.resume,3)},this.aborted=function(){return e},this.abort=function(){e=!0,s.abort(),p.meta.aborted=!0,U(m.complete)&&m.complete(p),n=\"\"},this.guessLineEndings=function(e,t){e=e.substring(0,1048576);var t=new RegExp(P(t)+\"([^]*?)\"+P(t),\"gm\"),i=(e=e.replace(t,\"\")).split(\"\\r\"),t=e.split(\"\\n\"),e=1<t.length&&t[0].length<i[0].length;if(1===i.length||e)return\"\\n\";for(var r=0,n=0;n<i.length;n++)\"\\n\"===i[n][0]&&r++;return r>=i.length/2?\"\\r\\n\":\"\\r\"}}function P(e){return e.replace(/[.*+?^${}()|[\\]\\\\]/g,\"\\\\$&\")}function E(C){var S=(C=C||{}).delimiter,O=C.newline,x=C.comments,I=C.step,A=C.preview,T=C.fastMode,D=null,L=!1,F=null==C.quoteChar?'\"':C.quoteChar,j=F;if(void 0!==C.escapeChar&&(j=C.escapeChar),(\"string\"!=typeof S||-1<v.BAD_DELIMITERS.indexOf(S))&&(S=\",\"),x===S)throw new Error(\"Comment character same as delimiter\");!0===x?x=\"#\":(\"string\"!=typeof x||-1<v.BAD_DELIMITERS.indexOf(x))&&(x=!1),\"\\n\"!==O&&\"\\r\"!==O&&\"\\r\\n\"!==O&&(O=\"\\n\");var z=0,M=!1;this.parse=function(i,t,r){if(\"string\"!=typeof i)throw new Error(\"Input must be a string\");var n=i.length,e=S.length,s=O.length,a=x.length,o=U(I),h=[],u=[],d=[],f=z=0;if(!i)return w();if(T||!1!==T&&-1===i.indexOf(F)){for(var l=i.split(O),c=0;c<l.length;c++){if(d=l[c],z+=d.length,c!==l.length-1)z+=O.length;else if(r)return w();if(!x||d.substring(0,a)!==x){if(o){if(h=[],k(d.split(S)),R(),M)return w()}else k(d.split(S));if(A&&A<=c)return h=h.slice(0,A),w(!0)}}return w()}for(var p=i.indexOf(S,z),g=i.indexOf(O,z),_=new RegExp(P(j)+P(F),\"g\"),m=i.indexOf(F,z);;)if(i[z]===F)for(m=z,z++;;){if(-1===(m=i.indexOf(F,m+1)))return r||u.push({type:\"Quotes\",code:\"MissingQuotes\",message:\"Quoted field unterminated\",row:h.length,index:z}),E();if(m===n-1)return E(i.substring(z,m).replace(_,F));if(F===j&&i[m+1]===j)m++;else if(F===j||0===m||i[m-1]!==j){-1!==p&&p<m+1&&(p=i.indexOf(S,m+1));var y=v(-1===(g=-1!==g&&g<m+1?i.indexOf(O,m+1):g)?p:Math.min(p,g));if(i.substr(m+1+y,e)===S){d.push(i.substring(z,m).replace(_,F)),i[z=m+1+y+e]!==F&&(m=i.indexOf(F,z)),p=i.indexOf(S,z),g=i.indexOf(O,z);break}y=v(g);if(i.substring(m+1+y,m+1+y+s)===O){if(d.push(i.substring(z,m).replace(_,F)),b(m+1+y+s),p=i.indexOf(S,z),m=i.indexOf(F,z),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0);break}u.push({type:\"Quotes\",code:\"InvalidQuotes\",message:\"Trailing quote on quoted field is malformed\",row:h.length,index:z}),m++}}else if(x&&0===d.length&&i.substring(z,z+a)===x){if(-1===g)return w();z=g+s,g=i.indexOf(O,z),p=i.indexOf(S,z)}else if(-1!==p&&(p<g||-1===g))d.push(i.substring(z,p)),z=p+e,p=i.indexOf(S,z);else{if(-1===g)break;if(d.push(i.substring(z,g)),b(g+s),o&&(R(),M))return w();if(A&&h.length>=A)return w(!0)}return E();function k(e){h.push(e),f=z}function v(e){var t=0;return t=-1!==e&&(e=i.substring(m+1,e))&&\"\"===e.trim()?e.length:t}function E(e){return r||(void 0===e&&(e=i.substring(z)),d.push(e),z=n,k(d),o&&R()),w()}function b(e){z=e,k(d),d=[],g=i.indexOf(O,z)}function w(e){if(C.header&&!t&&h.length&&!L){var s=h[0],a=Object.create(null),o=new Set(s);let n=!1;for(let r=0;r<s.length;r++){let i=s[r];if(a[i=U(C.transformHeader)?C.transformHeader(i,r):i]){let e,t=a[i];for(;e=i+\"_\"+t,t++,o.has(e););o.add(e),s[r]=e,a[i]++,n=!0,(D=null===D?{}:D)[e]=i}else a[i]=1,s[r]=i;o.add(i)}n&&console.warn(\"Duplicate headers found and renamed.\"),L=!0}return{data:h,errors:u,meta:{delimiter:S,linebreak:O,aborted:M,truncated:!!e,cursor:f+(t||0),renamedHeaders:D}}}function R(){I(w()),h=[],u=[]}},this.abort=function(){M=!0},this.getCharIndex=function(){return z}}function g(e){var t=e.data,i=o[t.workerId],r=!1;if(t.error)i.userError(t.error,t.file);else if(t.results&&t.results.data){var n={abort:function(){r=!0,_(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:m,resume:m};if(U(i.userStep)){for(var s=0;s<t.results.data.length&&(i.userStep({data:t.results.data[s],errors:t.results.errors,meta:t.results.meta},n),!r);s++);delete t.results}else U(i.userChunk)&&(i.userChunk(t.results,n,t.file),delete t.results)}t.finished&&!r&&_(t.workerId,t.results)}function _(e,t){var i=o[e];U(i.userComplete)&&i.userComplete(t),i.terminate(),delete o[e]}function m(){throw new Error(\"Not implemented.\")}function b(e){if(\"object\"!=typeof e||null===e)return e;var t,i=Array.isArray(e)?[]:{};for(t in e)i[t]=b(e[t]);return i}function y(e,t){return function(){e.apply(t,arguments)}}function U(e){return\"function\"==typeof e}return v.parse=function(e,t){var i=(t=t||{}).dynamicTyping||!1;U(i)&&(t.dynamicTypingFunction=i,i={});if(t.dynamicTyping=i,t.transform=!!U(t.transform)&&t.transform,!t.worker||!v.WORKERS_SUPPORTED)return i=null,v.NODE_STREAM_INPUT,\"string\"==typeof e?(e=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(e),i=new(t.download?f:c)(t)):!0===e.readable&&U(e.read)&&U(e.on)?i=new p(t):(n.File&&e instanceof File||e instanceof Object)&&(i=new l(t)),i.stream(e);(i=(()=>{var e;return!!v.WORKERS_SUPPORTED&&(e=(()=>{var e=n.URL||n.webkitURL||null,t=r.toString();return v.BLOB_URL||(v.BLOB_URL=e.createObjectURL(new Blob([\"var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; \",\"(\",t,\")();\"],{type:\"text/javascript\"})))})(),(e=new n.Worker(e)).onmessage=g,e.id=h++,o[e.id]=e)})()).userStep=t.step,i.userChunk=t.chunk,i.userComplete=t.complete,i.userError=t.error,t.step=U(t.step),t.chunk=U(t.chunk),t.complete=U(t.complete),t.error=U(t.error),delete t.worker,i.postMessage({input:e,config:t,workerId:i.id})},v.unparse=function(e,t){var n=!1,_=!0,m=\",\",y=\"\\r\\n\",s='\"',a=s+s,i=!1,r=null,o=!1,h=((()=>{if(\"object\"==typeof t){if(\"string\"!=typeof t.delimiter||v.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(m=t.delimiter),\"boolean\"!=typeof t.quotes&&\"function\"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),\"boolean\"!=typeof t.skipEmptyLines&&\"string\"!=typeof t.skipEmptyLines||(i=t.skipEmptyLines),\"string\"==typeof t.newline&&(y=t.newline),\"string\"==typeof t.quoteChar&&(s=t.quoteChar),\"boolean\"==typeof t.header&&(_=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error(\"Option columns is empty\");r=t.columns}void 0!==t.escapeChar&&(a=t.escapeChar+s),t.escapeFormulae instanceof RegExp?o=t.escapeFormulae:\"boolean\"==typeof t.escapeFormulae&&t.escapeFormulae&&(o=/^[=+\\-@\\t\\r].*$/)}})(),new RegExp(P(s),\"g\"));\"string\"==typeof e&&(e=JSON.parse(e));if(Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return u(null,e,i);if(\"object\"==typeof e[0])return u(r||Object.keys(e[0]),e,i)}else if(\"object\"==typeof e)return\"string\"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||r),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:\"object\"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||\"object\"==typeof e.data[0]||(e.data=[e.data])),u(e.fields||[],e.data||[],i);throw new Error(\"Unable to serialize unrecognized input\");function u(e,t,i){var r=\"\",n=(\"string\"==typeof e&&(e=JSON.parse(e)),\"string\"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),s=!Array.isArray(t[0]);if(n&&_){for(var a=0;a<e.length;a++)0<a&&(r+=m),r+=k(e[a],a);0<t.length&&(r+=y)}for(var o=0;o<t.length;o++){var h=(n?e:t[o]).length,u=!1,d=n?0===Object.keys(t[o]).length:0===t[o].length;if(i&&!n&&(u=\"greedy\"===i?\"\"===t[o].join(\"\").trim():1===t[o].length&&0===t[o][0].length),\"greedy\"===i&&n){for(var f=[],l=0;l<h;l++){var c=s?e[l]:l;f.push(t[o][c])}u=\"\"===f.join(\"\").trim()}if(!u){for(var p=0;p<h;p++){0<p&&!d&&(r+=m);var g=n&&s?e[p]:p;r+=k(t[o][g],p)}o<t.length-1&&(!i||0<h&&!d)&&(r+=y)}}return r}function k(e,t){var i,r;return null==e?\"\":e.constructor===Date?JSON.stringify(e).slice(1,25):(r=!1,o&&\"string\"==typeof e&&o.test(e)&&(e=\"'\"+e,r=!0),i=e.toString().replace(h,a),(r=r||!0===n||\"function\"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var i=0;i<t.length;i++)if(-1<e.indexOf(t[i]))return!0;return!1})(i,v.BAD_DELIMITERS)||-1<i.indexOf(m)||\" \"===i.charAt(0)||\" \"===i.charAt(i.length-1))?s+i+s:i)}},v.RECORD_SEP=String.fromCharCode(30),v.UNIT_SEP=String.fromCharCode(31),v.BYTE_ORDER_MARK=\"\\ufeff\",v.BAD_DELIMITERS=[\"\\r\",\"\\n\",'\"',v.BYTE_ORDER_MARK],v.WORKERS_SUPPORTED=!s&&!!n.Worker,v.NODE_STREAM_INPUT=1,v.LocalChunkSize=10485760,v.RemoteChunkSize=5242880,v.DefaultDelimiter=\",\",v.Parser=E,v.ParserHandle=i,v.NetworkStreamer=f,v.FileStreamer=l,v.StringStreamer=c,v.ReadableStreamStreamer=p,n.jQuery&&((d=n.jQuery).fn.parse=function(o){var i=o.config||{},h=[];return this.each(function(e){if(!(\"INPUT\"===d(this).prop(\"tagName\").toUpperCase()&&\"file\"===d(this).attr(\"type\").toLowerCase()&&n.FileReader)||!this.files||0===this.files.length)return!0;for(var t=0;t<this.files.length;t++)h.push({file:this.files[t],inputElem:this,instanceConfig:d.extend({},i)})}),e(),this;function e(){if(0===h.length)U(o.complete)&&o.complete();else{var e,t,i,r,n=h[0];if(U(o.before)){var s=o.before(n.file,n.inputElem);if(\"object\"==typeof s){if(\"abort\"===s.action)return e=\"AbortError\",t=n.file,i=n.inputElem,r=s.reason,void(U(o.error)&&o.error({name:e},t,i,r));if(\"skip\"===s.action)return void u();\"object\"==typeof s.config&&(n.instanceConfig=d.extend(n.instanceConfig,s.config))}else if(\"skip\"===s)return void u()}var a=n.instanceConfig.complete;n.instanceConfig.complete=function(e){U(a)&&a(e,n.file,n.inputElem),u()},v.parse(n.file,n.instanceConfig)}}function u(){h.splice(0,1),e()}}),a&&(n.onmessage=function(e){e=e.data;void 0===v.WORKER_ID&&e&&(v.WORKER_ID=e.workerId);\"string\"==typeof e.input?n.postMessage({workerId:v.WORKER_ID,results:v.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=v.parse(e.input,e.config))&&n.postMessage({workerId:v.WORKER_ID,results:e,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(l.prototype=Object.create(u.prototype)).constructor=l,(c.prototype=Object.create(c.prototype)).constructor=c,(p.prototype=Object.create(u.prototype)).constructor=p,v});\n\n//# sourceURL=webpack:///./node_modules/papaparse/papaparse.min.js?");

/***/ }),

/***/ "./web/dist/js/lightweight-charts.standalone.production.js":
/*!*****************************************************************!*\
  !*** ./web/dist/js/lightweight-charts.standalone.production.js ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var _excluded = [\"time\", \"color\"];\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _regenerator() { /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */ var e, t, r = \"function\" == typeof Symbol ? Symbol : {}, n = r.iterator || \"@@iterator\", o = r.toStringTag || \"@@toStringTag\"; function i(r, n, o, i) { var c = n && n.prototype instanceof Generator ? n : Generator, u = Object.create(c.prototype); return _regeneratorDefine2(u, \"_invoke\", function (r, n, o) { var i, c, u, f = 0, p = o || [], y = !1, G = { p: 0, n: 0, v: e, a: d, f: d.bind(e, 4), d: function d(t, r) { return i = t, c = 0, u = e, G.n = r, a; } }; function d(r, n) { for (c = r, u = n, t = 0; !y && f && !o && t < p.length; t++) { var o, i = p[t], d = G.p, l = i[2]; r > 3 ? (o = l === n) && (u = i[(c = i[4]) ? 5 : (c = 3, 3)], i[4] = i[5] = e) : i[0] <= d && ((o = r < 2 && d < i[1]) ? (c = 0, G.v = n, G.n = i[1]) : d < l && (o = r < 3 || i[0] > n || n > l) && (i[4] = r, i[5] = n, G.n = l, c = 0)); } if (o || r > 1) return a; throw y = !0, n; } return function (o, p, l) { if (f > 1) throw TypeError(\"Generator is already running\"); for (y && 1 === p && d(p, l), c = p, u = l; (t = c < 2 ? e : u) || !y;) { i || (c ? c < 3 ? (c > 1 && (G.n = -1), d(c, u)) : G.n = u : G.v = u); try { if (f = 2, i) { if (c || (o = \"next\"), t = i[o]) { if (!(t = t.call(i, u))) throw TypeError(\"iterator result is not an object\"); if (!t.done) return t; u = t.value, c < 2 && (c = 0); } else 1 === c && (t = i[\"return\"]) && t.call(i), c < 2 && (u = TypeError(\"The iterator does not provide a '\" + o + \"' method\"), c = 1); i = e; } else if ((t = (y = G.n < 0) ? u : r.call(n, G)) !== a) break; } catch (t) { i = e, c = 1, u = t; } finally { f = 1; } } return { value: t, done: y }; }; }(r, o, i), !0), u; } var a = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} t = Object.getPrototypeOf; var c = [][n] ? t(t([][n]())) : (_regeneratorDefine2(t = {}, n, function () { return this; }), t), u = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(c); function f(e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, GeneratorFunctionPrototype) : (e.__proto__ = GeneratorFunctionPrototype, _regeneratorDefine2(e, o, \"GeneratorFunction\")), e.prototype = Object.create(u), e; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, _regeneratorDefine2(u, \"constructor\", GeneratorFunctionPrototype), _regeneratorDefine2(GeneratorFunctionPrototype, \"constructor\", GeneratorFunction), GeneratorFunction.displayName = \"GeneratorFunction\", _regeneratorDefine2(GeneratorFunctionPrototype, o, \"GeneratorFunction\"), _regeneratorDefine2(u), _regeneratorDefine2(u, o, \"Generator\"), _regeneratorDefine2(u, n, function () { return this; }), _regeneratorDefine2(u, \"toString\", function () { return \"[object Generator]\"; }), (_regenerator = function _regenerator() { return { w: i, m: f }; })(); }\nfunction _regeneratorDefine2(e, r, n, t) { var i = Object.defineProperty; try { i({}, \"\", {}); } catch (e) { i = 0; } _regeneratorDefine2 = function _regeneratorDefine(e, r, n, t) { if (r) i ? i(e, r, { value: n, enumerable: !t, configurable: !t, writable: !t }) : e[r] = n;else { var o = function o(r, n) { _regeneratorDefine2(e, r, function (e) { return this._invoke(r, n, e); }); }; o(\"next\", 0), o(\"throw\", 1), o(\"return\", 2); } }, _regeneratorDefine2(e, r, n, t); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _superPropGet(t, o, e, r) { var p = _get(_getPrototypeOf(1 & r ? t.prototype : t), o, e); return 2 & r && \"function\" == typeof p ? function (t) { return p.apply(e, t); } : p; }\nfunction _get() { return _get = \"undefined\" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, r) { var p = _superPropBase(e, t); if (p) { var n = Object.getOwnPropertyDescriptor(p, t); return n.get ? n.get.call(arguments.length < 3 ? e : r) : n.value; } }, _get.apply(null, arguments); }\nfunction _superPropBase(t, o) { for (; !{}.hasOwnProperty.call(t, o) && null !== (t = _getPrototypeOf(t));); return t; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n47 = 0, F = function F() {}; return { s: F, n: function n() { return _n47 >= r.length ? { done: !0 } : { done: !1, value: r[_n47++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/*!\n * @license\n * TradingView Lightweight Chartsâ„¢ v5.0.8\n * Copyright (c) 2025 TradingView, Inc.\n * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n */\n!function (_navigator, _navigator$userAgentD) {\n  \"use strict\";\n\n  var t = {\n    title: \"\",\n    visible: !0,\n    lastValueVisible: !0,\n    priceLineVisible: !0,\n    priceLineSource: 0,\n    priceLineWidth: 1,\n    priceLineColor: \"\",\n    priceLineStyle: 2,\n    baseLineVisible: !0,\n    baseLineWidth: 1,\n    baseLineColor: \"#B2B5BE\",\n    baseLineStyle: 0,\n    priceFormat: {\n      type: \"price\",\n      precision: 2,\n      minMove: .01\n    }\n  };\n  var i, s;\n  function n(t, i) {\n    var s = {\n      0: [],\n      1: [t.lineWidth, t.lineWidth],\n      2: [2 * t.lineWidth, 2 * t.lineWidth],\n      3: [6 * t.lineWidth, 6 * t.lineWidth],\n      4: [t.lineWidth, 4 * t.lineWidth]\n    }[i];\n    t.setLineDash(s);\n  }\n  function e(t, i, s, n) {\n    t.beginPath();\n    var e = t.lineWidth % 2 ? .5 : 0;\n    t.moveTo(s, i + e), t.lineTo(n, i + e), t.stroke();\n  }\n  function r(t, i) {\n    if (!t) throw new Error(\"Assertion failed\" + (i ? \": \" + i : \"\"));\n  }\n  function h(t) {\n    if (void 0 === t) throw new Error(\"Value is undefined\");\n    return t;\n  }\n  function a(t) {\n    if (null === t) throw new Error(\"Value is null\");\n    return t;\n  }\n  function l(t) {\n    return a(h(t));\n  }\n  !function (t) {\n    t[t.Simple = 0] = \"Simple\", t[t.WithSteps = 1] = \"WithSteps\", t[t.Curved = 2] = \"Curved\";\n  }(i || (i = {})), function (t) {\n    t[t.Solid = 0] = \"Solid\", t[t.Dotted = 1] = \"Dotted\", t[t.Dashed = 2] = \"Dashed\", t[t.LargeDashed = 3] = \"LargeDashed\", t[t.SparseDotted = 4] = \"SparseDotted\";\n  }(s || (s = {}));\n  var o = /*#__PURE__*/function () {\n    function o() {\n      _classCallCheck(this, o);\n      this.t = [];\n    }\n    return _createClass(o, [{\n      key: \"i\",\n      value: function i(t, _i2, s) {\n        var n = {\n          h: t,\n          l: _i2,\n          o: !0 === s\n        };\n        this.t.push(n);\n      }\n    }, {\n      key: \"_\",\n      value: function _(t) {\n        var i = this.t.findIndex(function (i) {\n          return t === i.h;\n        });\n        i > -1 && this.t.splice(i, 1);\n      }\n    }, {\n      key: \"u\",\n      value: function u(t) {\n        this.t = this.t.filter(function (i) {\n          return i.l !== t;\n        });\n      }\n    }, {\n      key: \"p\",\n      value: function p(t, i, s) {\n        var n = _toConsumableArray(this.t);\n        this.t = this.t.filter(function (t) {\n          return !t.o;\n        }), n.forEach(function (n) {\n          return n.h(t, i, s);\n        });\n      }\n    }, {\n      key: \"v\",\n      value: function v() {\n        return this.t.length > 0;\n      }\n    }, {\n      key: \"m\",\n      value: function m() {\n        this.t = [];\n      }\n    }]);\n  }();\n  function _(t) {\n    for (var _len = arguments.length, i = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      i[_key - 1] = arguments[_key];\n    }\n    for (var _i4 = 0, _i3 = i; _i4 < _i3.length; _i4++) {\n      var _s2 = _i3[_i4];\n      for (var _i5 in _s2) void 0 !== _s2[_i5] && Object.prototype.hasOwnProperty.call(_s2, _i5) && ![\"__proto__\", \"constructor\", \"prototype\"].includes(_i5) && (\"object\" != _typeof(_s2[_i5]) || void 0 === t[_i5] || Array.isArray(_s2[_i5]) ? t[_i5] = _s2[_i5] : _(t[_i5], _s2[_i5]));\n    }\n    return t;\n  }\n  function u(t) {\n    return \"number\" == typeof t && isFinite(t);\n  }\n  function c(t) {\n    return \"number\" == typeof t && t % 1 == 0;\n  }\n  function d(t) {\n    return \"string\" == typeof t;\n  }\n  function f(t) {\n    return \"boolean\" == typeof t;\n  }\n  function p(t) {\n    var i = t;\n    if (!i || \"object\" != _typeof(i)) return i;\n    var s, n, e;\n    for (n in s = Array.isArray(i) ? [] : {}, i) i.hasOwnProperty(n) && (e = i[n], s[n] = e && \"object\" == _typeof(e) ? p(e) : e);\n    return s;\n  }\n  function v(t) {\n    return null !== t;\n  }\n  function m(t) {\n    return null === t ? void 0 : t;\n  }\n  var w = \"-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif\";\n  function g(t, i, s) {\n    return void 0 === i && (i = w), \"\".concat(s = void 0 !== s ? \"\".concat(s, \" \") : \"\").concat(t, \"px \").concat(i);\n  }\n  var M = /*#__PURE__*/function () {\n    function M(t) {\n      _classCallCheck(this, M);\n      this.M = {\n        S: 1,\n        C: 5,\n        P: NaN,\n        k: \"\",\n        T: \"\",\n        R: \"\",\n        D: \"\",\n        V: 0,\n        B: 0,\n        I: 0,\n        A: 0,\n        O: 0\n      }, this.L = t;\n    }\n    return _createClass(M, [{\n      key: \"N\",\n      value: function N() {\n        var t = this.M,\n          i = this.W(),\n          s = this.F();\n        return t.P === i && t.T === s || (t.P = i, t.T = s, t.k = g(i, s), t.A = 2.5 / 12 * i, t.V = t.A, t.B = i / 12 * t.C, t.I = i / 12 * t.C, t.O = 0), t.R = this.H(), t.D = this.U(), this.M;\n      }\n    }, {\n      key: \"H\",\n      value: function H() {\n        return this.L.N().layout.textColor;\n      }\n    }, {\n      key: \"U\",\n      value: function U() {\n        return this.L.$();\n      }\n    }, {\n      key: \"W\",\n      value: function W() {\n        return this.L.N().layout.fontSize;\n      }\n    }, {\n      key: \"F\",\n      value: function F() {\n        return this.L.N().layout.fontFamily;\n      }\n    }]);\n  }();\n  function b(t) {\n    return t < 0 ? 0 : t > 255 ? 255 : Math.round(t) || 0;\n  }\n  function x(t) {\n    return .199 * t[0] + .687 * t[1] + .114 * t[2];\n  }\n  var S = /*#__PURE__*/function () {\n    function S(t, i) {\n      _classCallCheck(this, S);\n      this.j = new Map(), this.q = t, i && (this.j = i);\n    }\n    return _createClass(S, [{\n      key: \"Y\",\n      value: function Y(t, i) {\n        if (\"transparent\" === t) return t;\n        var s = this.K(t),\n          n = s[3];\n        return \"rgba(\".concat(s[0], \", \").concat(s[1], \", \").concat(s[2], \", \").concat(i * n, \")\");\n      }\n    }, {\n      key: \"X\",\n      value: function X(t) {\n        var i = this.K(t);\n        return {\n          Z: \"rgb(\".concat(i[0], \", \").concat(i[1], \", \").concat(i[2], \")\"),\n          G: x(i) > 160 ? \"black\" : \"white\"\n        };\n      }\n    }, {\n      key: \"J\",\n      value: function J(t) {\n        return x(this.K(t));\n      }\n    }, {\n      key: \"tt\",\n      value: function tt(t, i, s) {\n        var _this$K = this.K(t),\n          _this$K2 = _slicedToArray(_this$K, 4),\n          n = _this$K2[0],\n          e = _this$K2[1],\n          r = _this$K2[2],\n          h = _this$K2[3],\n          _this$K3 = this.K(i),\n          _this$K4 = _slicedToArray(_this$K3, 4),\n          a = _this$K4[0],\n          l = _this$K4[1],\n          o = _this$K4[2],\n          _ = _this$K4[3],\n          u = [b(n + s * (a - n)), b(e + s * (l - e)), b(r + s * (o - r)), (c = h + s * (_ - h), c <= 0 || c > 1 ? Math.min(Math.max(c, 0), 1) : Math.round(1e4 * c) / 1e4)];\n        var c;\n        return \"rgba(\".concat(u[0], \", \").concat(u[1], \", \").concat(u[2], \", \").concat(u[3], \")\");\n      }\n    }, {\n      key: \"K\",\n      value: function K(t) {\n        var i = this.j.get(t);\n        if (i) return i;\n        var s = function (t) {\n            var i = document.createElement(\"div\");\n            i.style.display = \"none\", document.body.appendChild(i), i.style.color = t;\n            var s = window.getComputedStyle(i).color;\n            return document.body.removeChild(i), s;\n          }(t),\n          n = s.match(/^rgba?\\s*\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d*\\.?\\d+))?\\)$/);\n        if (!n) {\n          if (this.q.length) {\n            var _iterator = _createForOfIteratorHelper(this.q),\n              _step;\n            try {\n              for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                var _i6 = _step.value;\n                var _s3 = _i6(t);\n                if (_s3) return this.j.set(t, _s3), _s3;\n              }\n            } catch (err) {\n              _iterator.e(err);\n            } finally {\n              _iterator.f();\n            }\n          }\n          throw new Error(\"Failed to parse color: \".concat(t));\n        }\n        var e = [parseInt(n[1], 10), parseInt(n[2], 10), parseInt(n[3], 10), n[4] ? parseFloat(n[4]) : 1];\n        return this.j.set(t, e), e;\n      }\n    }]);\n  }();\n  var C = /*#__PURE__*/function () {\n    function C() {\n      _classCallCheck(this, C);\n      this.it = [];\n    }\n    return _createClass(C, [{\n      key: \"st\",\n      value: function st(t) {\n        this.it = t;\n      }\n    }, {\n      key: \"nt\",\n      value: function nt(t, i, s) {\n        this.it.forEach(function (n) {\n          n.nt(t, i, s);\n        });\n      }\n    }]);\n  }();\n  var P = /*#__PURE__*/function () {\n    function P() {\n      _classCallCheck(this, P);\n    }\n    return _createClass(P, [{\n      key: \"nt\",\n      value: function nt(t, i, s) {\n        var _this = this;\n        t.useBitmapCoordinateSpace(function (t) {\n          return _this.et(t, i, s);\n        });\n      }\n    }]);\n  }();\n  var y = /*#__PURE__*/function (_P) {\n    function y() {\n      var _this2;\n      _classCallCheck(this, y);\n      _this2 = _callSuper(this, y, arguments), _this2.rt = null;\n      return _this2;\n    }\n    _inherits(y, _P);\n    return _createClass(y, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.rt = t;\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref) {\n        var t = _ref.context,\n          i = _ref.horizontalPixelRatio,\n          s = _ref.verticalPixelRatio;\n        if (null === this.rt || null === this.rt.lt) return;\n        var n = this.rt.lt,\n          e = this.rt,\n          r = Math.max(1, Math.floor(i)) % 2 / 2,\n          h = function h(_h) {\n            t.beginPath();\n            for (var _a = n.to - 1; _a >= n.from; --_a) {\n              var _n2 = e.ot[_a],\n                _l = Math.round(_n2._t * i) + r,\n                _o = _n2.ut * s,\n                _2 = _h * s + r;\n              t.moveTo(_l, _o), t.arc(_l, _o, _2, 0, 2 * Math.PI);\n            }\n            t.fill();\n          };\n        e.ct > 0 && (t.fillStyle = e.dt, h(e.ft + e.ct)), t.fillStyle = e.vt, h(e.ft);\n      }\n    }]);\n  }(P);\n  function k() {\n    return {\n      ot: [{\n        _t: 0,\n        ut: 0,\n        wt: 0,\n        gt: 0\n      }],\n      vt: \"\",\n      dt: \"\",\n      ft: 0,\n      ct: 0,\n      lt: null\n    };\n  }\n  var T = {\n    from: 0,\n    to: 1\n  };\n  var R = /*#__PURE__*/function () {\n    function R(t, i, s) {\n      _classCallCheck(this, R);\n      this.Mt = new C(), this.bt = [], this.xt = [], this.St = !0, this.L = t, this.Ct = i, this.Pt = s, this.Mt.st(this.bt);\n    }\n    return _createClass(R, [{\n      key: \"yt\",\n      value: function yt(t) {\n        this.kt(), this.St = !0;\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt() {\n        return this.St && (this.Rt(), this.St = !1), this.Mt;\n      }\n    }, {\n      key: \"kt\",\n      value: function kt() {\n        var t = this.Pt.Dt();\n        t.length !== this.bt.length && (this.xt = t.map(k), this.bt = this.xt.map(function (t) {\n          var i = new y();\n          return i.ht(t), i;\n        }), this.Mt.st(this.bt));\n      }\n    }, {\n      key: \"Rt\",\n      value: function Rt() {\n        var _this3 = this;\n        var t = 2 === this.Ct.N().mode || !this.Ct.Et(),\n          i = this.Pt.Vt(),\n          s = this.Ct.Bt(),\n          n = this.L.It();\n        this.kt(), i.forEach(function (i, e) {\n          var _h$Ht;\n          var r = _this3.xt[e],\n            h = i.At(s),\n            a = i.zt();\n          !t && null !== h && i.Et() && null !== a ? (r.vt = h.Ot, r.ft = h.ft, r.ct = h.Lt, r.ot[0].gt = h.gt, r.ot[0].ut = i.Wt().Nt(h.gt, a.Ft), r.dt = (_h$Ht = h.Ht) !== null && _h$Ht !== void 0 ? _h$Ht : _this3.L.Ut(r.ot[0].ut / i.Wt().$t()), r.ot[0].wt = s, r.ot[0]._t = n.jt(s), r.lt = T) : r.lt = null;\n        });\n      }\n    }]);\n  }();\n  var D = /*#__PURE__*/function (_P2) {\n    function D(t) {\n      var _this4;\n      _classCallCheck(this, D);\n      _this4 = _callSuper(this, D), _this4.qt = t;\n      return _this4;\n    }\n    _inherits(D, _P2);\n    return _createClass(D, [{\n      key: \"et\",\n      value: function et(_ref2) {\n        var t = _ref2.context,\n          i = _ref2.bitmapSize,\n          s = _ref2.horizontalPixelRatio,\n          r = _ref2.verticalPixelRatio;\n        if (null === this.qt) return;\n        var h = this.qt.Yt.Et,\n          a = this.qt.Kt.Et;\n        if (!h && !a) return;\n        var l = Math.round(this.qt._t * s),\n          o = Math.round(this.qt.ut * r);\n        t.lineCap = \"butt\", h && l >= 0 && (t.lineWidth = Math.floor(this.qt.Yt.ct * s), t.strokeStyle = this.qt.Yt.R, t.fillStyle = this.qt.Yt.R, n(t, this.qt.Yt.Xt), function (t, i, s, n) {\n          t.beginPath();\n          var e = t.lineWidth % 2 ? .5 : 0;\n          t.moveTo(i + e, s), t.lineTo(i + e, n), t.stroke();\n        }(t, l, 0, i.height)), a && o >= 0 && (t.lineWidth = Math.floor(this.qt.Kt.ct * r), t.strokeStyle = this.qt.Kt.R, t.fillStyle = this.qt.Kt.R, n(t, this.qt.Kt.Xt), e(t, o, 0, i.width));\n      }\n    }]);\n  }(P);\n  var E = /*#__PURE__*/function () {\n    function E(t, i) {\n      _classCallCheck(this, E);\n      this.St = !0, this.Zt = {\n        Yt: {\n          ct: 1,\n          Xt: 0,\n          R: \"\",\n          Et: !1\n        },\n        Kt: {\n          ct: 1,\n          Xt: 0,\n          R: \"\",\n          Et: !1\n        },\n        _t: 0,\n        ut: 0\n      }, this.Gt = new D(this.Zt), this.Jt = t, this.Pt = i;\n    }\n    return _createClass(E, [{\n      key: \"yt\",\n      value: function yt() {\n        this.St = !0;\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt(t) {\n        return this.St && (this.Rt(), this.St = !1), this.Gt;\n      }\n    }, {\n      key: \"Rt\",\n      value: function Rt() {\n        var t = this.Jt.Et(),\n          i = this.Pt.Qt().N().crosshair,\n          s = this.Zt;\n        if (2 === i.mode) return s.Kt.Et = !1, void (s.Yt.Et = !1);\n        s.Kt.Et = t && this.Jt.ti(this.Pt), s.Yt.Et = t && this.Jt.ii(), s.Kt.ct = i.horzLine.width, s.Kt.Xt = i.horzLine.style, s.Kt.R = i.horzLine.color, s.Yt.ct = i.vertLine.width, s.Yt.Xt = i.vertLine.style, s.Yt.R = i.vertLine.color, s._t = this.Jt.si(), s.ut = this.Jt.ni();\n      }\n    }]);\n  }();\n  function V(t, i, s, n, e, r) {\n    t.fillRect(i + r, s, n - 2 * r, r), t.fillRect(i + r, s + e - r, n - 2 * r, r), t.fillRect(i, s, r, e), t.fillRect(i + n - r, s, r, e);\n  }\n  function B(t, i, s, n, e, r) {\n    t.save(), t.globalCompositeOperation = \"copy\", t.fillStyle = r, t.fillRect(i, s, n, e), t.restore();\n  }\n  function I(t, i, s, n, e, r) {\n    t.beginPath(), t.roundRect ? t.roundRect(i, s, n, e, r) : (t.lineTo(i + n - r[1], s), 0 !== r[1] && t.arcTo(i + n, s, i + n, s + r[1], r[1]), t.lineTo(i + n, s + e - r[2]), 0 !== r[2] && t.arcTo(i + n, s + e, i + n - r[2], s + e, r[2]), t.lineTo(i + r[3], s + e), 0 !== r[3] && t.arcTo(i, s + e, i, s + e - r[3], r[3]), t.lineTo(i, s + r[0]), 0 !== r[0] && t.arcTo(i, s, i + r[0], s, r[0]));\n  }\n  function A(t, i, s, n, e, r) {\n    var h = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0;\n    var a = arguments.length > 7 && arguments[7] !== undefined ? arguments[7] : [0, 0, 0, 0];\n    var l = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : \"\";\n    if (t.save(), !h || !l || l === r) return I(t, i, s, n, e, a), t.fillStyle = r, t.fill(), void t.restore();\n    var o = h / 2;\n    var _;\n    I(t, i + o, s + o, n - h, e - h, (_ = -o, a.map(function (t) {\n      return 0 === t ? t : t + _;\n    }))), \"transparent\" !== r && (t.fillStyle = r, t.fill()), \"transparent\" !== l && (t.lineWidth = h, t.strokeStyle = l, t.closePath(), t.stroke()), t.restore();\n  }\n  function z(t, i, s, n, e, r, h) {\n    t.save(), t.globalCompositeOperation = \"copy\";\n    var a = t.createLinearGradient(0, 0, 0, e);\n    a.addColorStop(0, r), a.addColorStop(1, h), t.fillStyle = a, t.fillRect(i, s, n, e), t.restore();\n  }\n  var O = /*#__PURE__*/function () {\n    function O(t, i) {\n      _classCallCheck(this, O);\n      this.ht(t, i);\n    }\n    return _createClass(O, [{\n      key: \"ht\",\n      value: function ht(t, i) {\n        this.qt = t, this.ei = i;\n      }\n    }, {\n      key: \"$t\",\n      value: function $t(t, i) {\n        return this.qt.Et ? t.P + t.A + t.V : 0;\n      }\n    }, {\n      key: \"nt\",\n      value: function nt(t, i, s, n) {\n        var _this5 = this;\n        if (!this.qt.Et || 0 === this.qt.ri.length) return;\n        var e = this.qt.R,\n          r = this.ei.Z,\n          h = t.useBitmapCoordinateSpace(function (t) {\n            var h = t.context;\n            h.font = i.k;\n            var a = _this5.hi(t, i, s, n),\n              l = a.ai;\n            return a.li ? A(h, l.oi, l._i, l.ui, l.ci, r, l.di, [l.ft, 0, 0, l.ft], r) : A(h, l.fi, l._i, l.ui, l.ci, r, l.di, [0, l.ft, l.ft, 0], r), _this5.qt.pi && (h.fillStyle = e, h.fillRect(l.fi, l.mi, l.wi - l.fi, l.gi)), _this5.qt.Mi && (h.fillStyle = i.D, h.fillRect(a.li ? l.bi - l.di : 0, l._i, l.di, l.xi - l._i)), a;\n          });\n        t.useMediaCoordinateSpace(function (_ref3) {\n          var t = _ref3.context;\n          var s = h.Si;\n          t.font = i.k, t.textAlign = h.li ? \"right\" : \"left\", t.textBaseline = \"middle\", t.fillStyle = e, t.fillText(_this5.qt.ri, s.Ci, (s._i + s.xi) / 2 + s.Pi);\n        });\n      }\n    }, {\n      key: \"hi\",\n      value: function hi(t, i, s, n) {\n        var _this$ei$Vi;\n        var e = t.context,\n          r = t.bitmapSize,\n          h = t.mediaSize,\n          a = t.horizontalPixelRatio,\n          l = t.verticalPixelRatio,\n          o = this.qt.pi || !this.qt.yi ? i.C : 0,\n          _ = this.qt.ki ? i.S : 0,\n          u = i.A + this.ei.Ti,\n          c = i.V + this.ei.Ri,\n          d = i.B,\n          f = i.I,\n          p = this.qt.ri,\n          v = i.P,\n          m = s.Di(e, p),\n          w = Math.ceil(s.Ei(e, p)),\n          g = v + u + c,\n          M = i.S + d + f + w + o,\n          b = Math.max(1, Math.floor(l));\n        var x = Math.round(g * l);\n        x % 2 != b % 2 && (x += 1);\n        var S = _ > 0 ? Math.max(1, Math.floor(_ * a)) : 0,\n          C = Math.round(M * a),\n          P = Math.round(o * a),\n          y = (_this$ei$Vi = this.ei.Vi) !== null && _this$ei$Vi !== void 0 ? _this$ei$Vi : this.ei.Bi,\n          k = Math.round(y * l) - Math.floor(.5 * l),\n          T = Math.floor(k + b / 2 - x / 2),\n          R = T + x,\n          D = \"right\" === n,\n          E = D ? h.width - _ : _,\n          V = D ? r.width - S : S;\n        var B, I, A;\n        return D ? (B = V - C, I = V - P, A = E - o - d - _) : (B = V + C, I = V + P, A = E + o + d), {\n          li: D,\n          ai: {\n            _i: T,\n            mi: k,\n            xi: R,\n            ui: C,\n            ci: x,\n            ft: 2 * a,\n            di: S,\n            oi: B,\n            fi: V,\n            wi: I,\n            gi: b,\n            bi: r.width\n          },\n          Si: {\n            _i: T / l,\n            xi: R / l,\n            Ci: A,\n            Pi: m\n          }\n        };\n      }\n    }]);\n  }();\n  var L = /*#__PURE__*/function () {\n    function L(t) {\n      _classCallCheck(this, L);\n      this.Ii = {\n        Bi: 0,\n        Z: \"#000\",\n        Ri: 0,\n        Ti: 0\n      }, this.Ai = {\n        ri: \"\",\n        Et: !1,\n        pi: !0,\n        yi: !1,\n        Ht: \"\",\n        R: \"#FFF\",\n        Mi: !1,\n        ki: !1\n      }, this.zi = {\n        ri: \"\",\n        Et: !1,\n        pi: !1,\n        yi: !0,\n        Ht: \"\",\n        R: \"#FFF\",\n        Mi: !0,\n        ki: !0\n      }, this.St = !0, this.Oi = new (t || O)(this.Ai, this.Ii), this.Li = new (t || O)(this.zi, this.Ii);\n    }\n    return _createClass(L, [{\n      key: \"ri\",\n      value: function ri() {\n        return this.Ni(), this.Ai.ri;\n      }\n    }, {\n      key: \"Bi\",\n      value: function Bi() {\n        return this.Ni(), this.Ii.Bi;\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        this.St = !0;\n      }\n    }, {\n      key: \"$t\",\n      value: function $t(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n        return Math.max(this.Oi.$t(t, i), this.Li.$t(t, i));\n      }\n    }, {\n      key: \"Wi\",\n      value: function Wi() {\n        return this.Ii.Vi || 0;\n      }\n    }, {\n      key: \"Fi\",\n      value: function Fi(t) {\n        this.Ii.Vi = t;\n      }\n    }, {\n      key: \"Hi\",\n      value: function Hi() {\n        return this.Ni(), this.Ai.Et || this.zi.Et;\n      }\n    }, {\n      key: \"Ui\",\n      value: function Ui() {\n        return this.Ni(), this.Ai.Et;\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt(t) {\n        return this.Ni(), this.Ai.pi = this.Ai.pi && t.N().ticksVisible, this.zi.pi = this.zi.pi && t.N().ticksVisible, this.Oi.ht(this.Ai, this.Ii), this.Li.ht(this.zi, this.Ii), this.Oi;\n      }\n    }, {\n      key: \"$i\",\n      value: function $i() {\n        return this.Ni(), this.Oi.ht(this.Ai, this.Ii), this.Li.ht(this.zi, this.Ii), this.Li;\n      }\n    }, {\n      key: \"Ni\",\n      value: function Ni() {\n        this.St && (this.Ai.pi = !0, this.zi.pi = !1, this.ji(this.Ai, this.zi, this.Ii));\n      }\n    }]);\n  }();\n  var N = /*#__PURE__*/function (_L) {\n    function N(t, i, s) {\n      var _this6;\n      _classCallCheck(this, N);\n      _this6 = _callSuper(this, N), _this6.Jt = t, _this6.qi = i, _this6.Yi = s;\n      return _this6;\n    }\n    _inherits(N, _L);\n    return _createClass(N, [{\n      key: \"ji\",\n      value: function ji(t, i, s) {\n        if (t.Et = !1, 2 === this.Jt.N().mode) return;\n        var n = this.Jt.N().horzLine;\n        if (!n.labelVisible) return;\n        var e = this.qi.zt();\n        if (!this.Jt.Et() || this.qi.Ki() || null === e) return;\n        var r = this.qi.Xi().X(n.labelBackgroundColor);\n        s.Z = r.Z, t.R = r.G;\n        var h = 2 / 12 * this.qi.P();\n        s.Ti = h, s.Ri = h;\n        var a = this.Yi(this.qi);\n        s.Bi = a.Bi, t.ri = this.qi.Zi(a.gt, e), t.Et = !0;\n      }\n    }]);\n  }(L);\n  var W = /[1-9]/g;\n  var F = /*#__PURE__*/function () {\n    function F() {\n      _classCallCheck(this, F);\n      this.qt = null;\n    }\n    return _createClass(F, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"nt\",\n      value: function nt(t, i) {\n        var _this7 = this;\n        if (null === this.qt || !1 === this.qt.Et || 0 === this.qt.ri.length) return;\n        var s = t.useMediaCoordinateSpace(function (_ref4) {\n          var t = _ref4.context;\n          return t.font = i.k, Math.round(i.Gi.Ei(t, a(_this7.qt).ri, W));\n        });\n        if (s <= 0) return;\n        var n = i.Ji,\n          e = s + 2 * n,\n          r = e / 2,\n          h = this.qt.Qi;\n        var l = this.qt.Bi,\n          o = Math.floor(l - r) + .5;\n        o < 0 ? (l += Math.abs(0 - o), o = Math.floor(l - r) + .5) : o + e > h && (l -= Math.abs(h - (o + e)), o = Math.floor(l - r) + .5);\n        var _ = o + e,\n          u = Math.ceil(0 + i.S + i.C + i.A + i.P + i.V);\n        t.useBitmapCoordinateSpace(function (_ref5) {\n          var t = _ref5.context,\n            s = _ref5.horizontalPixelRatio,\n            n = _ref5.verticalPixelRatio;\n          var e = a(_this7.qt);\n          t.fillStyle = e.Z;\n          var r = Math.round(o * s),\n            h = Math.round(0 * n),\n            l = Math.round(_ * s),\n            c = Math.round(u * n),\n            d = Math.round(2 * s);\n          if (t.beginPath(), t.moveTo(r, h), t.lineTo(r, c - d), t.arcTo(r, c, r + d, c, d), t.lineTo(l - d, c), t.arcTo(l, c, l, c - d, d), t.lineTo(l, h), t.fill(), e.pi) {\n            var _r2 = Math.round(e.Bi * s),\n              _a2 = h,\n              _l2 = Math.round((_a2 + i.C) * n);\n            t.fillStyle = e.R;\n            var _o2 = Math.max(1, Math.floor(s)),\n              _3 = Math.floor(.5 * s);\n            t.fillRect(_r2 - _3, _a2, _o2, _l2 - _a2);\n          }\n        }), t.useMediaCoordinateSpace(function (_ref6) {\n          var t = _ref6.context;\n          var s = a(_this7.qt),\n            e = 0 + i.S + i.C + i.A + i.P / 2;\n          t.font = i.k, t.textAlign = \"left\", t.textBaseline = \"middle\", t.fillStyle = s.R;\n          var r = i.Gi.Di(t, \"Apr0\");\n          t.translate(o + n, e + r), t.fillText(s.ri, 0, 0);\n        });\n      }\n    }]);\n  }();\n  var H = /*#__PURE__*/function () {\n    function H(t, i, s) {\n      _classCallCheck(this, H);\n      this.St = !0, this.Gt = new F(), this.Zt = {\n        Et: !1,\n        Z: \"#4c525e\",\n        R: \"white\",\n        ri: \"\",\n        Qi: 0,\n        Bi: NaN,\n        pi: !0\n      }, this.Ct = t, this.ts = i, this.Yi = s;\n    }\n    return _createClass(H, [{\n      key: \"yt\",\n      value: function yt() {\n        this.St = !0;\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt() {\n        return this.St && (this.Rt(), this.St = !1), this.Gt.ht(this.Zt), this.Gt;\n      }\n    }, {\n      key: \"Rt\",\n      value: function Rt() {\n        var t = this.Zt;\n        if (t.Et = !1, 2 === this.Ct.N().mode) return;\n        var i = this.Ct.N().vertLine;\n        if (!i.labelVisible) return;\n        var s = this.ts.It();\n        if (s.Ki()) return;\n        t.Qi = s.Qi();\n        var n = this.Yi();\n        if (null === n) return;\n        t.Bi = n.Bi;\n        var e = s.ss(this.Ct.Bt());\n        t.ri = s.ns(a(e)), t.Et = !0;\n        var r = this.ts.Xi().X(i.labelBackgroundColor);\n        t.Z = r.Z, t.R = r.G, t.pi = s.N().ticksVisible;\n      }\n    }]);\n  }();\n  var U = /*#__PURE__*/function () {\n    function U() {\n      _classCallCheck(this, U);\n      this.es = null, this.rs = 0;\n    }\n    return _createClass(U, [{\n      key: \"hs\",\n      value: function hs() {\n        return this.rs;\n      }\n    }, {\n      key: \"ls\",\n      value: function ls(t) {\n        this.rs = t;\n      }\n    }, {\n      key: \"Wt\",\n      value: function Wt() {\n        return this.es;\n      }\n    }, {\n      key: \"_s\",\n      value: function _s(t) {\n        this.es = t;\n      }\n    }, {\n      key: \"us\",\n      value: function us(t) {\n        return [];\n      }\n    }, {\n      key: \"cs\",\n      value: function cs() {\n        return [];\n      }\n    }, {\n      key: \"Et\",\n      value: function Et() {\n        return !0;\n      }\n    }]);\n  }();\n  var $;\n  !function (t) {\n    t[t.Normal = 0] = \"Normal\", t[t.Magnet = 1] = \"Magnet\", t[t.Hidden = 2] = \"Hidden\", t[t.MagnetOHLC = 3] = \"MagnetOHLC\";\n  }($ || ($ = {}));\n  var j = /*#__PURE__*/function (_U) {\n    function j(t, i) {\n      var _this8;\n      _classCallCheck(this, j);\n      _this8 = _callSuper(this, j), _this8.Pt = null, _this8.ds = NaN, _this8.fs = 0, _this8.ps = !1, _this8.vs = new Map(), _this8.ws = !1, _this8.gs = new WeakMap(), _this8.Ms = new WeakMap(), _this8.bs = NaN, _this8.xs = NaN, _this8.Ss = NaN, _this8.Cs = NaN, _this8.ts = t, _this8.Ps = i;\n      _this8.ys = function (t, i) {\n        return function (s) {\n          var n = i(),\n            e = t();\n          if (s === a(_this8.Pt).ks()) return {\n            gt: e,\n            Bi: n\n          };\n          {\n            var _t2 = a(s.zt());\n            return {\n              gt: s.Ts(n, _t2),\n              Bi: n\n            };\n          }\n        };\n      }(function () {\n        return _this8.ds;\n      }, function () {\n        return _this8.xs;\n      });\n      var s = function (t, i) {\n        return function () {\n          var s = _this8.ts.It().Rs(t()),\n            n = i();\n          return s && Number.isFinite(n) ? {\n            wt: s,\n            Bi: n\n          } : null;\n        };\n      }(function () {\n        return _this8.fs;\n      }, function () {\n        return _this8.si();\n      });\n      _this8.Ds = new H(_this8, t, s);\n      return _this8;\n    }\n    _inherits(j, _U);\n    return _createClass(j, [{\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"Es\",\n      value: function Es(t, i) {\n        this.Ss = t, this.Cs = i;\n      }\n    }, {\n      key: \"Vs\",\n      value: function Vs() {\n        this.Ss = NaN, this.Cs = NaN;\n      }\n    }, {\n      key: \"Bs\",\n      value: function Bs() {\n        return this.Ss;\n      }\n    }, {\n      key: \"Is\",\n      value: function Is() {\n        return this.Cs;\n      }\n    }, {\n      key: \"As\",\n      value: function As(t, i, s) {\n        this.ws || (this.ws = !0), this.ps = !0, this.zs(t, i, s);\n      }\n    }, {\n      key: \"Bt\",\n      value: function Bt() {\n        return this.fs;\n      }\n    }, {\n      key: \"si\",\n      value: function si() {\n        return this.bs;\n      }\n    }, {\n      key: \"ni\",\n      value: function ni() {\n        return this.xs;\n      }\n    }, {\n      key: \"Et\",\n      value: function Et() {\n        return this.ps;\n      }\n    }, {\n      key: \"Os\",\n      value: function Os() {\n        this.ps = !1, this.Ls(), this.ds = NaN, this.bs = NaN, this.xs = NaN, this.Pt = null, this.Vs(), this.Ns();\n      }\n    }, {\n      key: \"Ws\",\n      value: function Ws(t) {\n        var i = this.gs.get(t);\n        i || (i = new E(this, t), this.gs.set(t, i));\n        var s = this.Ms.get(t);\n        return s || (s = new R(this.ts, this, t), this.Ms.set(t, s)), [i, s];\n      }\n    }, {\n      key: \"ti\",\n      value: function ti(t) {\n        return t === this.Pt && this.Ps.horzLine.visible;\n      }\n    }, {\n      key: \"ii\",\n      value: function ii() {\n        return this.Ps.vertLine.visible;\n      }\n    }, {\n      key: \"Fs\",\n      value: function Fs(t, i) {\n        this.ps && this.Pt === t || this.vs.clear();\n        var s = [];\n        return this.Pt === t && s.push(this.Hs(this.vs, i, this.ys)), s;\n      }\n    }, {\n      key: \"cs\",\n      value: function cs() {\n        return this.ps ? [this.Ds] : [];\n      }\n    }, {\n      key: \"Us\",\n      value: function Us() {\n        return this.Pt;\n      }\n    }, {\n      key: \"Ns\",\n      value: function Ns() {\n        var _this9 = this;\n        this.ts.$s().forEach(function (t) {\n          var _this9$gs$get, _this9$Ms$get;\n          (_this9$gs$get = _this9.gs.get(t)) !== null && _this9$gs$get !== void 0 && _this9$gs$get.yt(), (_this9$Ms$get = _this9.Ms.get(t)) === null || _this9$Ms$get === void 0 ? void 0 : _this9$Ms$get.yt();\n        }), this.vs.forEach(function (t) {\n          return t.yt();\n        }), this.Ds.yt();\n      }\n    }, {\n      key: \"js\",\n      value: function js(t) {\n        return t && !t.ks().Ki() ? t.ks() : null;\n      }\n    }, {\n      key: \"zs\",\n      value: function zs(t, i, s) {\n        this.qs(t, i, s) && this.Ns();\n      }\n    }, {\n      key: \"qs\",\n      value: function qs(t, i, s) {\n        var n = this.bs,\n          e = this.xs,\n          r = this.ds,\n          h = this.fs,\n          a = this.Pt,\n          l = this.js(s);\n        this.fs = t, this.bs = isNaN(t) ? NaN : this.ts.It().jt(t), this.Pt = s;\n        var o = null !== l ? l.zt() : null;\n        return null !== l && null !== o ? (this.ds = i, this.xs = l.Nt(i, o)) : (this.ds = NaN, this.xs = NaN), n !== this.bs || e !== this.xs || h !== this.fs || r !== this.ds || a !== this.Pt;\n      }\n    }, {\n      key: \"Ls\",\n      value: function Ls() {\n        var t = this.ts.Ys().map(function (t) {\n            return t.Xs().Ks();\n          }).filter(v),\n          i = 0 === t.length ? null : Math.max.apply(Math, _toConsumableArray(t));\n        this.fs = null !== i ? i : NaN;\n      }\n    }, {\n      key: \"Hs\",\n      value: function Hs(t, i, s) {\n        var n = t.get(i);\n        return void 0 === n && (n = new N(this, i, s), t.set(i, n)), n;\n      }\n    }]);\n  }(U);\n  function q(t) {\n    return \"left\" === t || \"right\" === t;\n  }\n  var Y = /*#__PURE__*/function () {\n    function Y(t) {\n      _classCallCheck(this, Y);\n      this.Zs = new Map(), this.Gs = [], this.Js = t;\n    }\n    return _createClass(Y, [{\n      key: \"Qs\",\n      value: function Qs(t, i) {\n        var s = function (t, i) {\n          return void 0 === t ? i : {\n            tn: Math.max(t.tn, i.tn),\n            sn: t.sn || i.sn\n          };\n        }(this.Zs.get(t), i);\n        this.Zs.set(t, s);\n      }\n    }, {\n      key: \"nn\",\n      value: function nn() {\n        return this.Js;\n      }\n    }, {\n      key: \"en\",\n      value: function en(t) {\n        var i = this.Zs.get(t);\n        return void 0 === i ? {\n          tn: this.Js\n        } : {\n          tn: Math.max(this.Js, i.tn),\n          sn: i.sn\n        };\n      }\n    }, {\n      key: \"rn\",\n      value: function rn() {\n        this.hn(), this.Gs = [{\n          an: 0\n        }];\n      }\n    }, {\n      key: \"ln\",\n      value: function ln(t) {\n        this.hn(), this.Gs = [{\n          an: 1,\n          Ft: t\n        }];\n      }\n    }, {\n      key: \"_n\",\n      value: function _n(t) {\n        this.un(), this.Gs.push({\n          an: 5,\n          Ft: t\n        });\n      }\n    }, {\n      key: \"hn\",\n      value: function hn() {\n        this.un(), this.Gs.push({\n          an: 6\n        });\n      }\n    }, {\n      key: \"cn\",\n      value: function cn() {\n        this.hn(), this.Gs = [{\n          an: 4\n        }];\n      }\n    }, {\n      key: \"dn\",\n      value: function dn(t) {\n        this.hn(), this.Gs.push({\n          an: 2,\n          Ft: t\n        });\n      }\n    }, {\n      key: \"fn\",\n      value: function fn(t) {\n        this.hn(), this.Gs.push({\n          an: 3,\n          Ft: t\n        });\n      }\n    }, {\n      key: \"pn\",\n      value: function pn() {\n        return this.Gs;\n      }\n    }, {\n      key: \"vn\",\n      value: function vn(t) {\n        var _this0 = this;\n        var _iterator2 = _createForOfIteratorHelper(t.Gs),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _i7 = _step2.value;\n            this.mn(_i7);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        this.Js = Math.max(this.Js, t.Js), t.Zs.forEach(function (t, i) {\n          _this0.Qs(i, t);\n        });\n      }\n    }, {\n      key: \"mn\",\n      value: function mn(t) {\n        switch (t.an) {\n          case 0:\n            this.rn();\n            break;\n          case 1:\n            this.ln(t.Ft);\n            break;\n          case 2:\n            this.dn(t.Ft);\n            break;\n          case 3:\n            this.fn(t.Ft);\n            break;\n          case 4:\n            this.cn();\n            break;\n          case 5:\n            this._n(t.Ft);\n            break;\n          case 6:\n            this.un();\n        }\n      }\n    }, {\n      key: \"un\",\n      value: function un() {\n        var t = this.Gs.findIndex(function (t) {\n          return 5 === t.an;\n        });\n        -1 !== t && this.Gs.splice(t, 1);\n      }\n    }], [{\n      key: \"wn\",\n      value: function wn() {\n        return new Y(2);\n      }\n    }, {\n      key: \"gn\",\n      value: function gn() {\n        return new Y(3);\n      }\n    }]);\n  }();\n  var K = /*#__PURE__*/function () {\n    function K() {\n      _classCallCheck(this, K);\n    }\n    return _createClass(K, [{\n      key: \"formatTickmarks\",\n      value: function formatTickmarks(t) {\n        var _this1 = this;\n        return t.map(function (t) {\n          return _this1.format(t);\n        });\n      }\n    }]);\n  }();\n  var X = \".\";\n  function Z(t, i) {\n    if (!u(t)) return \"n/a\";\n    if (!c(i)) throw new TypeError(\"invalid length\");\n    if (i < 0 || i > 16) throw new TypeError(\"invalid length\");\n    if (0 === i) return t.toString();\n    return (\"0000000000000000\" + t.toString()).slice(-i);\n  }\n  var G = /*#__PURE__*/function (_K) {\n    function G(t, i) {\n      var _this10;\n      _classCallCheck(this, G);\n      if (_this10 = _callSuper(this, G), i || (i = 1), u(t) && c(t) || (t = 100), t < 0) throw new TypeError(\"invalid base\");\n      _this10.qi = t, _this10.Mn = i, _this10.bn();\n      return _this10;\n    }\n    _inherits(G, _K);\n    return _createClass(G, [{\n      key: \"format\",\n      value: function format(t) {\n        var i = t < 0 ? \"âˆ’\" : \"\";\n        return t = Math.abs(t), i + this.xn(t);\n      }\n    }, {\n      key: \"bn\",\n      value: function bn() {\n        if (this.Sn = 0, this.qi > 0 && this.Mn > 0) {\n          var _t3 = this.qi;\n          for (; _t3 > 1;) _t3 /= 10, this.Sn++;\n        }\n      }\n    }, {\n      key: \"xn\",\n      value: function xn(t) {\n        var i = this.qi / this.Mn;\n        var s = Math.floor(t),\n          n = \"\";\n        var e = void 0 !== this.Sn ? this.Sn : NaN;\n        if (i > 1) {\n          var _r3 = +(Math.round(t * i) - s * i).toFixed(this.Sn);\n          _r3 >= i && (_r3 -= i, s += 1), n = X + Z(+_r3.toFixed(this.Sn) * this.Mn, e);\n        } else s = Math.round(s * i) / i, e > 0 && (n = X + Z(0, e));\n        return s.toFixed(0) + n;\n      }\n    }]);\n  }(K);\n  var J = /*#__PURE__*/function (_G) {\n    function J() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n      _classCallCheck(this, J);\n      return _callSuper(this, J, [t]);\n    }\n    _inherits(J, _G);\n    return _createClass(J, [{\n      key: \"format\",\n      value: function format(t) {\n        return \"\".concat(_superPropGet(J, \"format\", this, 3)([t]), \"%\");\n      }\n    }]);\n  }(G);\n  var Q = /*#__PURE__*/function (_K2) {\n    function Q(t) {\n      var _this11;\n      _classCallCheck(this, Q);\n      _this11 = _callSuper(this, Q), _this11.Cn = t;\n      return _this11;\n    }\n    _inherits(Q, _K2);\n    return _createClass(Q, [{\n      key: \"format\",\n      value: function format(t) {\n        var i = \"\";\n        return t < 0 && (i = \"-\", t = -t), t < 995 ? i + this.Pn(t) : t < 999995 ? i + this.Pn(t / 1e3) + \"K\" : t < 999999995 ? (t = 1e3 * Math.round(t / 1e3), i + this.Pn(t / 1e6) + \"M\") : (t = 1e6 * Math.round(t / 1e6), i + this.Pn(t / 1e9) + \"B\");\n      }\n    }, {\n      key: \"Pn\",\n      value: function Pn(t) {\n        var i;\n        var s = Math.pow(10, this.Cn);\n        return i = (t = Math.round(t * s) / s) >= 1e-15 && t < 1 ? t.toFixed(this.Cn).replace(/\\.?0+$/, \"\") : String(t), i.replace(/(\\.[1-9]*)0+$/, function (t, i) {\n          return i;\n        });\n      }\n    }]);\n  }(K);\n  var tt = /[2-9]/g;\n  var it = /*#__PURE__*/function () {\n    function it() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;\n      _classCallCheck(this, it);\n      this.yn = 0, this.kn = 1, this.Tn = 1, this.Rn = {}, this.Dn = new Map(), this.En = t;\n    }\n    return _createClass(it, [{\n      key: \"Vn\",\n      value: function Vn() {\n        this.yn = 0, this.Dn.clear(), this.kn = 1, this.Tn = 1, this.Rn = {};\n      }\n    }, {\n      key: \"Ei\",\n      value: function Ei(t, i, s) {\n        return this.Bn(t, i, s).width;\n      }\n    }, {\n      key: \"Di\",\n      value: function Di(t, i, s) {\n        var n = this.Bn(t, i, s);\n        return ((n.actualBoundingBoxAscent || 0) - (n.actualBoundingBoxDescent || 0)) / 2;\n      }\n    }, {\n      key: \"Bn\",\n      value: function Bn(t, i, s) {\n        var n = s || tt,\n          e = String(i).replace(n, \"0\");\n        if (this.Dn.has(e)) return h(this.Dn.get(e)).In;\n        if (this.yn === this.En) {\n          var _t4 = this.Rn[this.Tn];\n          delete this.Rn[this.Tn], this.Dn[\"delete\"](_t4), this.Tn++, this.yn--;\n        }\n        t.save(), t.textBaseline = \"middle\";\n        var r = t.measureText(e);\n        return t.restore(), 0 === r.width && i.length || (this.Dn.set(e, {\n          In: r,\n          An: this.kn\n        }), this.Rn[this.kn] = e, this.yn++, this.kn++), r;\n      }\n    }]);\n  }();\n  var st = /*#__PURE__*/function () {\n    function st(t) {\n      _classCallCheck(this, st);\n      this.zn = null, this.M = null, this.On = \"right\", this.Ln = t;\n    }\n    return _createClass(st, [{\n      key: \"Nn\",\n      value: function Nn(t, i, s) {\n        this.zn = t, this.M = i, this.On = s;\n      }\n    }, {\n      key: \"nt\",\n      value: function nt(t) {\n        null !== this.M && null !== this.zn && this.zn.nt(t, this.M, this.Ln, this.On);\n      }\n    }]);\n  }();\n  var nt = /*#__PURE__*/function () {\n    function nt(t, i, s) {\n      _classCallCheck(this, nt);\n      this.Wn = t, this.Ln = new it(50), this.Fn = i, this.L = s, this.W = -1, this.Gt = new st(this.Ln);\n    }\n    return _createClass(nt, [{\n      key: \"Tt\",\n      value: function Tt() {\n        var t = this.L.Hn(this.Fn);\n        if (null === t) return null;\n        var i = t.Un(this.Fn) ? t.$n() : this.Fn.Wt();\n        if (null === i) return null;\n        var s = t.jn(i);\n        if (\"overlay\" === s) return null;\n        var n = this.L.qn();\n        return n.P !== this.W && (this.W = n.P, this.Ln.Vn()), this.Gt.Nn(this.Wn.$i(), n, s), this.Gt;\n      }\n    }]);\n  }();\n  var et = /*#__PURE__*/function (_P3) {\n    function et() {\n      var _this12;\n      _classCallCheck(this, et);\n      _this12 = _callSuper(this, et, arguments), _this12.qt = null;\n      return _this12;\n    }\n    _inherits(et, _P3);\n    return _createClass(et, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"Yn\",\n      value: function Yn(t, i) {\n        var _this$qt;\n        if (!((_this$qt = this.qt) !== null && _this$qt !== void 0 && _this$qt.Et)) return null;\n        var _this$qt2 = this.qt,\n          s = _this$qt2.ut,\n          n = _this$qt2.ct,\n          e = _this$qt2.Kn;\n        return i >= s - n - 7 && i <= s + n + 7 ? {\n          Xn: this.qt,\n          Kn: e\n        } : null;\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref7) {\n        var t = _ref7.context,\n          i = _ref7.bitmapSize,\n          s = _ref7.horizontalPixelRatio,\n          r = _ref7.verticalPixelRatio;\n        if (null === this.qt) return;\n        if (!1 === this.qt.Et) return;\n        var h = Math.round(this.qt.ut * r);\n        h < 0 || h > i.height || (t.lineCap = \"butt\", t.strokeStyle = this.qt.R, t.lineWidth = Math.floor(this.qt.ct * s), n(t, this.qt.Xt), e(t, h, 0, i.width));\n      }\n    }]);\n  }(P);\n  var rt = /*#__PURE__*/function () {\n    function rt(t) {\n      _classCallCheck(this, rt);\n      this.Zn = {\n        ut: 0,\n        R: \"rgba(0, 0, 0, 0)\",\n        ct: 1,\n        Xt: 0,\n        Et: !1\n      }, this.Gn = new et(), this.St = !0, this.Jn = t, this.Qn = t.Qt(), this.Gn.ht(this.Zn);\n    }\n    return _createClass(rt, [{\n      key: \"yt\",\n      value: function yt() {\n        this.St = !0;\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt() {\n        return this.Jn.Et() ? (this.St && (this.te(), this.St = !1), this.Gn) : null;\n      }\n    }]);\n  }();\n  var ht = /*#__PURE__*/function (_rt) {\n    function ht(t) {\n      _classCallCheck(this, ht);\n      return _callSuper(this, ht, [t]);\n    }\n    _inherits(ht, _rt);\n    return _createClass(ht, [{\n      key: \"te\",\n      value: function te() {\n        this.Zn.Et = !1;\n        var t = this.Jn.Wt(),\n          i = t.ie().ie;\n        if (2 !== i && 3 !== i) return;\n        var s = this.Jn.N();\n        if (!s.baseLineVisible || !this.Jn.Et()) return;\n        var n = this.Jn.zt();\n        null !== n && (this.Zn.Et = !0, this.Zn.ut = t.Nt(n.Ft, n.Ft), this.Zn.R = s.baseLineColor, this.Zn.ct = s.baseLineWidth, this.Zn.Xt = s.baseLineStyle);\n      }\n    }]);\n  }(rt);\n  var at = /*#__PURE__*/function (_P4) {\n    function at() {\n      var _this13;\n      _classCallCheck(this, at);\n      _this13 = _callSuper(this, at, arguments), _this13.qt = null;\n      return _this13;\n    }\n    _inherits(at, _P4);\n    return _createClass(at, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"se\",\n      value: function se() {\n        return this.qt;\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref8) {\n        var t = _ref8.context,\n          i = _ref8.horizontalPixelRatio,\n          s = _ref8.verticalPixelRatio;\n        var n = this.qt;\n        if (null === n) return;\n        var e = Math.max(1, Math.floor(i)),\n          r = e % 2 / 2,\n          h = Math.round(n.ne.x * i) + r,\n          a = n.ne.y * s;\n        t.fillStyle = n.ee, t.beginPath();\n        var l = Math.max(2, 1.5 * n.re) * i;\n        t.arc(h, a, l, 0, 2 * Math.PI, !1), t.fill(), t.fillStyle = n.he, t.beginPath(), t.arc(h, a, n.ft * i, 0, 2 * Math.PI, !1), t.fill(), t.lineWidth = e, t.strokeStyle = n.ae, t.beginPath(), t.arc(h, a, n.ft * i + e / 2, 0, 2 * Math.PI, !1), t.stroke();\n      }\n    }]);\n  }(P);\n  var lt = [{\n    le: 0,\n    oe: .25,\n    _e: 4,\n    ue: 10,\n    ce: .25,\n    de: 0,\n    fe: .4,\n    pe: .8\n  }, {\n    le: .25,\n    oe: .525,\n    _e: 10,\n    ue: 14,\n    ce: 0,\n    de: 0,\n    fe: .8,\n    pe: 0\n  }, {\n    le: .525,\n    oe: 1,\n    _e: 14,\n    ue: 14,\n    ce: 0,\n    de: 0,\n    fe: 0,\n    pe: 0\n  }];\n  var ot = /*#__PURE__*/function () {\n    function ot(t) {\n      _classCallCheck(this, ot);\n      this.Gt = new at(), this.St = !0, this.ve = !0, this.me = performance.now(), this.we = this.me - 1, this.ge = t;\n    }\n    return _createClass(ot, [{\n      key: \"Me\",\n      value: function Me() {\n        this.we = this.me - 1, this.yt();\n      }\n    }, {\n      key: \"be\",\n      value: function be() {\n        if (this.yt(), 2 === this.ge.N().lastPriceAnimation) {\n          var _t5 = performance.now(),\n            _i8 = this.we - _t5;\n          if (_i8 > 0) return void (_i8 < 650 && (this.we += 2600));\n          this.me = _t5, this.we = _t5 + 2600;\n        }\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        this.St = !0;\n      }\n    }, {\n      key: \"xe\",\n      value: function xe() {\n        this.ve = !0;\n      }\n    }, {\n      key: \"Et\",\n      value: function Et() {\n        return 0 !== this.ge.N().lastPriceAnimation;\n      }\n    }, {\n      key: \"Se\",\n      value: function Se() {\n        switch (this.ge.N().lastPriceAnimation) {\n          case 0:\n            return !1;\n          case 1:\n            return !0;\n          case 2:\n            return performance.now() <= this.we;\n        }\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt() {\n        return this.St ? (this.Rt(), this.St = !1, this.ve = !1) : this.ve && (this.Ce(), this.ve = !1), this.Gt;\n      }\n    }, {\n      key: \"Rt\",\n      value: function Rt() {\n        this.Gt.ht(null);\n        var t = this.ge.Qt().It(),\n          i = t.Pe(),\n          s = this.ge.zt();\n        if (null === i || null === s) return;\n        var n = this.ge.ye(!0);\n        if (n.ke || !i.Te(n.Re)) return;\n        var e = {\n            x: t.jt(n.Re),\n            y: this.ge.Wt().Nt(n.gt, s.Ft)\n          },\n          r = n.R,\n          h = this.ge.N().lineWidth,\n          a = this.De(this.Ee(), r);\n        this.Gt.ht({\n          ee: r,\n          re: h,\n          he: a.he,\n          ae: a.ae,\n          ft: a.ft,\n          ne: e\n        });\n      }\n    }, {\n      key: \"Ce\",\n      value: function Ce() {\n        var t = this.Gt.se();\n        if (null !== t) {\n          var _i9 = this.De(this.Ee(), t.ee);\n          t.he = _i9.he, t.ae = _i9.ae, t.ft = _i9.ft;\n        }\n      }\n    }, {\n      key: \"Ee\",\n      value: function Ee() {\n        return this.Se() ? performance.now() - this.me : 2599;\n      }\n    }, {\n      key: \"Ve\",\n      value: function Ve(t, i, s, n) {\n        var e = s + (n - s) * i;\n        return this.ge.Qt().Xi().Y(t, e);\n      }\n    }, {\n      key: \"De\",\n      value: function De(t, i) {\n        var s = t % 2600 / 2600;\n        var n;\n        for (var _i0 = 0, _lt = lt; _i0 < _lt.length; _i0++) {\n          var _t6 = _lt[_i0];\n          if (s >= _t6.le && s <= _t6.oe) {\n            n = _t6;\n            break;\n          }\n        }\n        r(void 0 !== n, \"Last price animation internal logic error\");\n        var e = (s - n.le) / (n.oe - n.le);\n        return {\n          he: this.Ve(i, e, n.ce, n.de),\n          ae: this.Ve(i, e, n.fe, n.pe),\n          ft: (h = e, a = n._e, l = n.ue, a + (l - a) * h)\n        };\n        var h, a, l;\n      }\n    }]);\n  }();\n  var _t = /*#__PURE__*/function (_rt2) {\n    function _t(t) {\n      _classCallCheck(this, _t);\n      return _callSuper(this, _t, [t]);\n    }\n    _inherits(_t, _rt2);\n    return _createClass(_t, [{\n      key: \"te\",\n      value: function te() {\n        var t = this.Zn;\n        t.Et = !1;\n        var i = this.Jn.N();\n        if (!i.priceLineVisible || !this.Jn.Et()) return;\n        var s = this.Jn.ye(0 === i.priceLineSource);\n        s.ke || (t.Et = !0, t.ut = s.Bi, t.R = this.Jn.Be(s.R), t.ct = i.priceLineWidth, t.Xt = i.priceLineStyle);\n      }\n    }]);\n  }(rt);\n  var ut = /*#__PURE__*/function (_L2) {\n    function ut(t) {\n      var _this14;\n      _classCallCheck(this, ut);\n      _this14 = _callSuper(this, ut), _this14.Jt = t;\n      return _this14;\n    }\n    _inherits(ut, _L2);\n    return _createClass(ut, [{\n      key: \"ji\",\n      value: function ji(t, i, s) {\n        t.Et = !1, i.Et = !1;\n        var n = this.Jt;\n        if (!n.Et()) return;\n        var e = n.N(),\n          r = e.lastValueVisible,\n          h = \"\" !== n.Ie(),\n          a = 0 === e.seriesLastValueMode,\n          l = n.ye(!1);\n        if (l.ke) return;\n        r && (t.ri = this.Ae(l, r, a), t.Et = 0 !== t.ri.length), (h || a) && (i.ri = this.ze(l, r, h, a), i.Et = i.ri.length > 0);\n        var o = n.Be(l.R),\n          _ = this.Jt.Qt().Xi().X(o);\n        s.Z = _.Z, s.Bi = l.Bi, i.Ht = n.Qt().Ut(l.Bi / n.Wt().$t()), t.Ht = o, t.R = _.G, i.R = _.G;\n      }\n    }, {\n      key: \"ze\",\n      value: function ze(t, i, s, n) {\n        var e = \"\";\n        var r = this.Jt.Ie();\n        return s && 0 !== r.length && (e += \"\".concat(r, \" \")), i && n && (e += this.Jt.Wt().Oe() ? t.Le : t.Ne), e.trim();\n      }\n    }, {\n      key: \"Ae\",\n      value: function Ae(t, i, s) {\n        return i ? s ? this.Jt.Wt().Oe() ? t.Ne : t.Le : t.ri : \"\";\n      }\n    }]);\n  }(L);\n  function ct(t, i, s, n) {\n    var e = Number.isFinite(i),\n      r = Number.isFinite(s);\n    return e && r ? t(i, s) : e || r ? e ? i : s : n;\n  }\n  var dt = /*#__PURE__*/function () {\n    function dt(t, i) {\n      _classCallCheck(this, dt);\n      this.We = t, this.Fe = i;\n    }\n    return _createClass(dt, [{\n      key: \"He\",\n      value: function He(t) {\n        return null !== t && this.We === t.We && this.Fe === t.Fe;\n      }\n    }, {\n      key: \"Ue\",\n      value: function Ue() {\n        return new dt(this.We, this.Fe);\n      }\n    }, {\n      key: \"$e\",\n      value: function $e() {\n        return this.We;\n      }\n    }, {\n      key: \"je\",\n      value: function je() {\n        return this.Fe;\n      }\n    }, {\n      key: \"qe\",\n      value: function qe() {\n        return this.Fe - this.We;\n      }\n    }, {\n      key: \"Ki\",\n      value: function Ki() {\n        return this.Fe === this.We || Number.isNaN(this.Fe) || Number.isNaN(this.We);\n      }\n    }, {\n      key: \"vn\",\n      value: function vn(t) {\n        return null === t ? this : new dt(ct(Math.min, this.$e(), t.$e(), -1 / 0), ct(Math.max, this.je(), t.je(), 1 / 0));\n      }\n    }, {\n      key: \"Ye\",\n      value: function Ye(t) {\n        if (!u(t)) return;\n        if (0 === this.Fe - this.We) return;\n        var i = .5 * (this.Fe + this.We);\n        var s = this.Fe - i,\n          n = this.We - i;\n        s *= t, n *= t, this.Fe = i + s, this.We = i + n;\n      }\n    }, {\n      key: \"Ke\",\n      value: function Ke(t) {\n        u(t) && (this.Fe += t, this.We += t);\n      }\n    }, {\n      key: \"Xe\",\n      value: function Xe() {\n        return {\n          minValue: this.We,\n          maxValue: this.Fe\n        };\n      }\n    }], [{\n      key: \"Ze\",\n      value: function Ze(t) {\n        return null === t ? null : new dt(t.minValue, t.maxValue);\n      }\n    }]);\n  }();\n  var ft = /*#__PURE__*/function () {\n    function ft(t, i) {\n      _classCallCheck(this, ft);\n      this.Ge = t, this.Je = i || null;\n    }\n    return _createClass(ft, [{\n      key: \"Qe\",\n      value: function Qe() {\n        return this.Ge;\n      }\n    }, {\n      key: \"tr\",\n      value: function tr() {\n        return this.Je;\n      }\n    }, {\n      key: \"Xe\",\n      value: function Xe() {\n        return {\n          priceRange: null === this.Ge ? null : this.Ge.Xe(),\n          margins: this.Je || void 0\n        };\n      }\n    }], [{\n      key: \"Ze\",\n      value: function Ze(t) {\n        return null === t ? null : new ft(dt.Ze(t.priceRange), t.margins);\n      }\n    }]);\n  }();\n  var pt = /*#__PURE__*/function (_rt3) {\n    function pt(t, i) {\n      var _this15;\n      _classCallCheck(this, pt);\n      _this15 = _callSuper(this, pt, [t]), _this15.ir = i;\n      return _this15;\n    }\n    _inherits(pt, _rt3);\n    return _createClass(pt, [{\n      key: \"te\",\n      value: function te() {\n        var t = this.Zn;\n        t.Et = !1;\n        var i = this.ir.N();\n        if (!this.Jn.Et() || !i.lineVisible) return;\n        var s = this.ir.sr();\n        null !== s && (t.Et = !0, t.ut = s, t.R = i.color, t.ct = i.lineWidth, t.Xt = i.lineStyle, t.Kn = this.ir.N().id);\n      }\n    }]);\n  }(rt);\n  var vt = /*#__PURE__*/function (_L3) {\n    function vt(t, i) {\n      var _this16;\n      _classCallCheck(this, vt);\n      _this16 = _callSuper(this, vt), _this16.ge = t, _this16.ir = i;\n      return _this16;\n    }\n    _inherits(vt, _L3);\n    return _createClass(vt, [{\n      key: \"ji\",\n      value: function ji(t, i, s) {\n        t.Et = !1, i.Et = !1;\n        var n = this.ir.N(),\n          e = n.axisLabelVisible,\n          r = \"\" !== n.title,\n          h = this.ge;\n        if (!e || !h.Et()) return;\n        var a = this.ir.sr();\n        if (null === a) return;\n        r && (i.ri = n.title, i.Et = !0), i.Ht = h.Qt().Ut(a / h.Wt().$t()), t.ri = this.nr(n.price), t.Et = !0;\n        var l = this.ge.Qt().Xi().X(n.axisLabelColor || n.color);\n        s.Z = l.Z;\n        var o = n.axisLabelTextColor || l.G;\n        t.R = o, i.R = o, s.Bi = a;\n      }\n    }, {\n      key: \"nr\",\n      value: function nr(t) {\n        var i = this.ge.zt();\n        return null === i ? \"\" : this.ge.Wt().Zi(t, i.Ft);\n      }\n    }]);\n  }(L);\n  var mt = /*#__PURE__*/function () {\n    function mt(t, i) {\n      _classCallCheck(this, mt);\n      this.ge = t, this.Ps = i, this.er = new pt(t, this), this.Wn = new vt(t, this), this.rr = new nt(this.Wn, t, t.Qt());\n    }\n    return _createClass(mt, [{\n      key: \"hr\",\n      value: function hr(t) {\n        _(this.Ps, t), this.yt(), this.ge.Qt().ar();\n      }\n    }, {\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"lr\",\n      value: function lr() {\n        return this.er;\n      }\n    }, {\n      key: \"_r\",\n      value: function _r() {\n        return this.rr;\n      }\n    }, {\n      key: \"ur\",\n      value: function ur() {\n        return this.Wn;\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        this.er.yt(), this.Wn.yt();\n      }\n    }, {\n      key: \"sr\",\n      value: function sr() {\n        var t = this.ge,\n          i = t.Wt();\n        if (t.Qt().It().Ki() || i.Ki()) return null;\n        var s = t.zt();\n        return null === s ? null : i.Nt(this.Ps.price, s.Ft);\n      }\n    }]);\n  }();\n  var wt = /*#__PURE__*/function (_U2) {\n    function wt(t) {\n      var _this17;\n      _classCallCheck(this, wt);\n      _this17 = _callSuper(this, wt), _this17.ts = t;\n      return _this17;\n    }\n    _inherits(wt, _U2);\n    return _createClass(wt, [{\n      key: \"Qt\",\n      value: function Qt() {\n        return this.ts;\n      }\n    }]);\n  }(U);\n  var gt = {\n    Bar: function Bar(t, i, s, n) {\n      var _h$R;\n      var e = i.upColor,\n        r = i.downColor,\n        h = a(t(s, n)),\n        o = l(h.Ft[0]) <= l(h.Ft[3]);\n      return {\n        cr: (_h$R = h.R) !== null && _h$R !== void 0 ? _h$R : o ? e : r\n      };\n    },\n    Candlestick: function Candlestick(t, i, s, n) {\n      var _c$R, _c$Ht, _c$vr;\n      var e = i.upColor,\n        r = i.downColor,\n        h = i.borderUpColor,\n        o = i.borderDownColor,\n        _ = i.wickUpColor,\n        u = i.wickDownColor,\n        c = a(t(s, n)),\n        d = l(c.Ft[0]) <= l(c.Ft[3]);\n      return {\n        cr: (_c$R = c.R) !== null && _c$R !== void 0 ? _c$R : d ? e : r,\n        dr: (_c$Ht = c.Ht) !== null && _c$Ht !== void 0 ? _c$Ht : d ? h : o,\n        pr: (_c$vr = c.vr) !== null && _c$vr !== void 0 ? _c$vr : d ? _ : u\n      };\n    },\n    Custom: function Custom(t, i, s, n) {\n      var _a$R;\n      return {\n        cr: (_a$R = a(t(s, n)).R) !== null && _a$R !== void 0 ? _a$R : i.color\n      };\n    },\n    Area: function Area(t, i, s, n) {\n      var _e$vt, _e$vt2, _e$mr, _e$wr;\n      var e = a(t(s, n));\n      return {\n        cr: (_e$vt = e.vt) !== null && _e$vt !== void 0 ? _e$vt : i.lineColor,\n        vt: (_e$vt2 = e.vt) !== null && _e$vt2 !== void 0 ? _e$vt2 : i.lineColor,\n        mr: (_e$mr = e.mr) !== null && _e$mr !== void 0 ? _e$mr : i.topColor,\n        wr: (_e$wr = e.wr) !== null && _e$wr !== void 0 ? _e$wr : i.bottomColor\n      };\n    },\n    Baseline: function Baseline(t, i, s, n) {\n      var _e$gr, _e$Mr, _e$br, _e$Sr, _e$Cr, _e$Pr;\n      var e = a(t(s, n));\n      return {\n        cr: e.Ft[3] >= i.baseValue.price ? i.topLineColor : i.bottomLineColor,\n        gr: (_e$gr = e.gr) !== null && _e$gr !== void 0 ? _e$gr : i.topLineColor,\n        Mr: (_e$Mr = e.Mr) !== null && _e$Mr !== void 0 ? _e$Mr : i.bottomLineColor,\n        br: (_e$br = e.br) !== null && _e$br !== void 0 ? _e$br : i.topFillColor1,\n        Sr: (_e$Sr = e.Sr) !== null && _e$Sr !== void 0 ? _e$Sr : i.topFillColor2,\n        Cr: (_e$Cr = e.Cr) !== null && _e$Cr !== void 0 ? _e$Cr : i.bottomFillColor1,\n        Pr: (_e$Pr = e.Pr) !== null && _e$Pr !== void 0 ? _e$Pr : i.bottomFillColor2\n      };\n    },\n    Line: function Line(t, i, s, n) {\n      var _e$R, _e$R2;\n      var e = a(t(s, n));\n      return {\n        cr: (_e$R = e.R) !== null && _e$R !== void 0 ? _e$R : i.color,\n        vt: (_e$R2 = e.R) !== null && _e$R2 !== void 0 ? _e$R2 : i.color\n      };\n    },\n    Histogram: function Histogram(t, i, s, n) {\n      var _a$R2;\n      return {\n        cr: (_a$R2 = a(t(s, n)).R) !== null && _a$R2 !== void 0 ? _a$R2 : i.color\n      };\n    }\n  };\n  var Mt = /*#__PURE__*/function () {\n    function Mt(t) {\n      var _this18 = this;\n      _classCallCheck(this, Mt);\n      this.yr = function (t, i) {\n        return void 0 !== i ? i.Ft : _this18.ge.Xs().kr(t);\n      }, this.ge = t, this.Tr = gt[t.Rr()];\n    }\n    return _createClass(Mt, [{\n      key: \"Dr\",\n      value: function Dr(t, i) {\n        return this.Tr(this.yr, this.ge.N(), t, i);\n      }\n    }]);\n  }();\n  function bt(t, i, s, n) {\n    var e = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;\n    var r = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : i.length;\n    var h = r - e;\n    for (; 0 < h;) {\n      var _r4 = h >> 1,\n        _a3 = e + _r4;\n      n(i[_a3], s) === t ? (e = _a3 + 1, h -= _r4 + 1) : h = _r4;\n    }\n    return e;\n  }\n  var xt = bt.bind(null, !0),\n    St = bt.bind(null, !1);\n  var Ct;\n  !function (t) {\n    t[t.NearestLeft = -1] = \"NearestLeft\", t[t.None = 0] = \"None\", t[t.NearestRight = 1] = \"NearestRight\";\n  }(Ct || (Ct = {}));\n  var Pt = 30;\n  var yt = /*#__PURE__*/function () {\n    function yt() {\n      _classCallCheck(this, yt);\n      this.Er = [], this.Vr = new Map(), this.Br = new Map(), this.Ir = [];\n    }\n    return _createClass(yt, [{\n      key: \"Ar\",\n      value: function Ar() {\n        return this.zr() > 0 ? this.Er[this.Er.length - 1] : null;\n      }\n    }, {\n      key: \"Or\",\n      value: function Or() {\n        return this.zr() > 0 ? this.Lr(0) : null;\n      }\n    }, {\n      key: \"Ks\",\n      value: function Ks() {\n        return this.zr() > 0 ? this.Lr(this.Er.length - 1) : null;\n      }\n    }, {\n      key: \"zr\",\n      value: function zr() {\n        return this.Er.length;\n      }\n    }, {\n      key: \"Ki\",\n      value: function Ki() {\n        return 0 === this.zr();\n      }\n    }, {\n      key: \"Te\",\n      value: function Te(t) {\n        return null !== this.Nr(t, 0);\n      }\n    }, {\n      key: \"kr\",\n      value: function kr(t) {\n        return this.Wr(t);\n      }\n    }, {\n      key: \"Wr\",\n      value: function Wr(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        var s = this.Nr(t, i);\n        return null === s ? null : _objectSpread(_objectSpread({}, this.Fr(s)), {}, {\n          Re: this.Lr(s)\n        });\n      }\n    }, {\n      key: \"Hr\",\n      value: function Hr() {\n        return this.Er;\n      }\n    }, {\n      key: \"Ur\",\n      value: function Ur(t, i, s) {\n        if (this.Ki()) return null;\n        var n = null;\n        var _iterator3 = _createForOfIteratorHelper(s),\n          _step3;\n        try {\n          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n            var _e2 = _step3.value;\n            n = kt(n, this.$r(t, i, _e2));\n          }\n        } catch (err) {\n          _iterator3.e(err);\n        } finally {\n          _iterator3.f();\n        }\n        return n;\n      }\n    }, {\n      key: \"ht\",\n      value: function ht(t) {\n        this.Br.clear(), this.Vr.clear(), this.Er = t, this.Ir = t.map(function (t) {\n          return t.Re;\n        });\n      }\n    }, {\n      key: \"jr\",\n      value: function jr() {\n        return this.Ir;\n      }\n    }, {\n      key: \"Lr\",\n      value: function Lr(t) {\n        return this.Er[t].Re;\n      }\n    }, {\n      key: \"Fr\",\n      value: function Fr(t) {\n        return this.Er[t];\n      }\n    }, {\n      key: \"Nr\",\n      value: function Nr(t, i) {\n        var s = this.qr(t);\n        if (null === s && 0 !== i) switch (i) {\n          case -1:\n            return this.Yr(t);\n          case 1:\n            return this.Kr(t);\n          default:\n            throw new TypeError(\"Unknown search mode\");\n        }\n        return s;\n      }\n    }, {\n      key: \"Yr\",\n      value: function Yr(t) {\n        var i = this.Xr(t);\n        return i > 0 && (i -= 1), i !== this.Er.length && this.Lr(i) < t ? i : null;\n      }\n    }, {\n      key: \"Kr\",\n      value: function Kr(t) {\n        var i = this.Zr(t);\n        return i !== this.Er.length && t < this.Lr(i) ? i : null;\n      }\n    }, {\n      key: \"qr\",\n      value: function qr(t) {\n        var i = this.Xr(t);\n        return i === this.Er.length || t < this.Er[i].Re ? null : i;\n      }\n    }, {\n      key: \"Xr\",\n      value: function Xr(t) {\n        return xt(this.Er, t, function (t, i) {\n          return t.Re < i;\n        });\n      }\n    }, {\n      key: \"Zr\",\n      value: function Zr(t) {\n        return St(this.Er, t, function (t, i) {\n          return t.Re > i;\n        });\n      }\n    }, {\n      key: \"Gr\",\n      value: function Gr(t, i, s) {\n        var n = null;\n        for (var _e3 = t; _e3 < i; _e3++) {\n          var _t7 = this.Er[_e3].Ft[s];\n          Number.isNaN(_t7) || (null === n ? n = {\n            Jr: _t7,\n            Qr: _t7\n          } : (_t7 < n.Jr && (n.Jr = _t7), _t7 > n.Qr && (n.Qr = _t7)));\n        }\n        return n;\n      }\n    }, {\n      key: \"$r\",\n      value: function $r(t, i, s) {\n        if (this.Ki()) return null;\n        var n = null;\n        var e = a(this.Or()),\n          r = a(this.Ks()),\n          h = Math.max(t, e),\n          l = Math.min(i, r),\n          o = Math.ceil(h / Pt) * Pt,\n          _ = Math.max(o, Math.floor(l / Pt) * Pt);\n        {\n          var _t8 = this.Xr(h),\n            _e4 = this.Zr(Math.min(l, o, i));\n          n = kt(n, this.Gr(_t8, _e4, s));\n        }\n        var u = this.Vr.get(s);\n        void 0 === u && (u = new Map(), this.Vr.set(s, u));\n        for (var _t9 = Math.max(o + 1, h); _t9 < _; _t9 += Pt) {\n          var _i1 = Math.floor(_t9 / Pt);\n          var _e5 = u.get(_i1);\n          if (void 0 === _e5) {\n            var _t0 = this.Xr(_i1 * Pt),\n              _n3 = this.Zr((_i1 + 1) * Pt - 1);\n            _e5 = this.Gr(_t0, _n3, s), u.set(_i1, _e5);\n          }\n          n = kt(n, _e5);\n        }\n        {\n          var _t1 = this.Xr(_),\n            _i10 = this.Zr(l);\n          n = kt(n, this.Gr(_t1, _i10, s));\n        }\n        return n;\n      }\n    }]);\n  }();\n  function kt(t, i) {\n    if (null === t) return i;\n    if (null === i) return t;\n    return {\n      Jr: Math.min(t.Jr, i.Jr),\n      Qr: Math.max(t.Qr, i.Qr)\n    };\n  }\n  var _Tt = /*#__PURE__*/function () {\n    function Tt(t) {\n      _classCallCheck(this, Tt);\n      this.th = t;\n    }\n    return _createClass(Tt, [{\n      key: \"nt\",\n      value: function nt(t, i, s) {\n        this.th.draw(t);\n      }\n    }, {\n      key: \"ih\",\n      value: function ih(t, i, s) {\n        var _this$th$drawBackgrou, _this$th;\n        (_this$th$drawBackgrou = (_this$th = this.th).drawBackground) === null || _this$th$drawBackgrou === void 0 ? void 0 : _this$th$drawBackgrou.call(_this$th, t);\n      }\n    }]);\n  }();\n  var Rt = /*#__PURE__*/function () {\n    function Rt(t) {\n      _classCallCheck(this, Rt);\n      this.Dn = null, this.sh = t;\n    }\n    return _createClass(Rt, [{\n      key: \"Tt\",\n      value: function Tt() {\n        var _this$Dn;\n        var t = this.sh.renderer();\n        if (null === t) return null;\n        if (((_this$Dn = this.Dn) === null || _this$Dn === void 0 ? void 0 : _this$Dn.nh) === t) return this.Dn.eh;\n        var i = new _Tt(t);\n        return this.Dn = {\n          nh: t,\n          eh: i\n        }, i;\n      }\n    }, {\n      key: \"rh\",\n      value: function rh() {\n        var _this$sh$zOrder, _this$sh$zOrder2, _this$sh;\n        return (_this$sh$zOrder = (_this$sh$zOrder2 = (_this$sh = this.sh).zOrder) === null || _this$sh$zOrder2 === void 0 ? void 0 : _this$sh$zOrder2.call(_this$sh)) !== null && _this$sh$zOrder !== void 0 ? _this$sh$zOrder : \"normal\";\n      }\n    }]);\n  }();\n  var Dt = /*#__PURE__*/function () {\n    function Dt(t) {\n      _classCallCheck(this, Dt);\n      this.hh = null, this.ah = t;\n    }\n    return _createClass(Dt, [{\n      key: \"oh\",\n      value: function oh() {\n        return this.ah;\n      }\n    }, {\n      key: \"Ns\",\n      value: function Ns() {\n        var _this$ah$updateAllVie, _this$ah;\n        (_this$ah$updateAllVie = (_this$ah = this.ah).updateAllViews) === null || _this$ah$updateAllVie === void 0 ? void 0 : _this$ah$updateAllVie.call(_this$ah);\n      }\n    }, {\n      key: \"Ws\",\n      value: function Ws() {\n        var _this$ah$paneViews, _this$ah$paneViews2, _this$ah2, _this$hh;\n        var t = (_this$ah$paneViews = (_this$ah$paneViews2 = (_this$ah2 = this.ah).paneViews) === null || _this$ah$paneViews2 === void 0 ? void 0 : _this$ah$paneViews2.call(_this$ah2)) !== null && _this$ah$paneViews !== void 0 ? _this$ah$paneViews : [];\n        if (((_this$hh = this.hh) === null || _this$hh === void 0 ? void 0 : _this$hh.nh) === t) return this.hh.eh;\n        var i = t.map(function (t) {\n          return new Rt(t);\n        });\n        return this.hh = {\n          nh: t,\n          eh: i\n        }, i;\n      }\n    }, {\n      key: \"Yn\",\n      value: function Yn(t, i) {\n        var _this$ah$hitTest, _this$ah$hitTest2, _this$ah3;\n        return (_this$ah$hitTest = (_this$ah$hitTest2 = (_this$ah3 = this.ah).hitTest) === null || _this$ah$hitTest2 === void 0 ? void 0 : _this$ah$hitTest2.call(_this$ah3, t, i)) !== null && _this$ah$hitTest !== void 0 ? _this$ah$hitTest : null;\n      }\n    }]);\n  }();\n  var Et = /*#__PURE__*/function (_Dt) {\n    function Et() {\n      _classCallCheck(this, Et);\n      return _callSuper(this, Et, arguments);\n    }\n    _inherits(Et, _Dt);\n    return _createClass(Et, [{\n      key: \"us\",\n      value: function us() {\n        return [];\n      }\n    }]);\n  }(Dt);\n  var Vt = /*#__PURE__*/function () {\n    function Vt(t) {\n      _classCallCheck(this, Vt);\n      this.th = t;\n    }\n    return _createClass(Vt, [{\n      key: \"nt\",\n      value: function nt(t, i, s) {\n        this.th.draw(t);\n      }\n    }, {\n      key: \"ih\",\n      value: function ih(t, i, s) {\n        var _this$th$drawBackgrou2, _this$th2;\n        (_this$th$drawBackgrou2 = (_this$th2 = this.th).drawBackground) === null || _this$th$drawBackgrou2 === void 0 ? void 0 : _this$th$drawBackgrou2.call(_this$th2, t);\n      }\n    }]);\n  }();\n  var Bt = /*#__PURE__*/function () {\n    function Bt(t) {\n      _classCallCheck(this, Bt);\n      this.Dn = null, this.sh = t;\n    }\n    return _createClass(Bt, [{\n      key: \"Tt\",\n      value: function Tt() {\n        var _this$Dn2;\n        var t = this.sh.renderer();\n        if (null === t) return null;\n        if (((_this$Dn2 = this.Dn) === null || _this$Dn2 === void 0 ? void 0 : _this$Dn2.nh) === t) return this.Dn.eh;\n        var i = new Vt(t);\n        return this.Dn = {\n          nh: t,\n          eh: i\n        }, i;\n      }\n    }, {\n      key: \"rh\",\n      value: function rh() {\n        var _this$sh$zOrder3, _this$sh$zOrder4, _this$sh2;\n        return (_this$sh$zOrder3 = (_this$sh$zOrder4 = (_this$sh2 = this.sh).zOrder) === null || _this$sh$zOrder4 === void 0 ? void 0 : _this$sh$zOrder4.call(_this$sh2)) !== null && _this$sh$zOrder3 !== void 0 ? _this$sh$zOrder3 : \"normal\";\n      }\n    }]);\n  }();\n  function It(t) {\n    var _t$fixedCoordinate, _t$visible, _t$visible2, _t$tickVisible, _t$tickVisible2;\n    return {\n      ri: t.text(),\n      Bi: t.coordinate(),\n      Vi: (_t$fixedCoordinate = t.fixedCoordinate) === null || _t$fixedCoordinate === void 0 ? void 0 : _t$fixedCoordinate.call(t),\n      R: t.textColor(),\n      Z: t.backColor(),\n      Et: (_t$visible = (_t$visible2 = t.visible) === null || _t$visible2 === void 0 ? void 0 : _t$visible2.call(t)) !== null && _t$visible !== void 0 ? _t$visible : !0,\n      pi: (_t$tickVisible = (_t$tickVisible2 = t.tickVisible) === null || _t$tickVisible2 === void 0 ? void 0 : _t$tickVisible2.call(t)) !== null && _t$tickVisible !== void 0 ? _t$tickVisible : !0\n    };\n  }\n  var At = /*#__PURE__*/function () {\n    function At(t, i) {\n      _classCallCheck(this, At);\n      this.Gt = new F(), this._h = t, this.uh = i;\n    }\n    return _createClass(At, [{\n      key: \"Tt\",\n      value: function Tt() {\n        return this.Gt.ht(_objectSpread({\n          Qi: this.uh.Qi()\n        }, It(this._h))), this.Gt;\n      }\n    }]);\n  }();\n  var zt = /*#__PURE__*/function (_L4) {\n    function zt(t, i) {\n      var _this19;\n      _classCallCheck(this, zt);\n      _this19 = _callSuper(this, zt), _this19._h = t, _this19.qi = i;\n      return _this19;\n    }\n    _inherits(zt, _L4);\n    return _createClass(zt, [{\n      key: \"ji\",\n      value: function ji(t, i, s) {\n        var n = It(this._h);\n        s.Z = n.Z, t.R = n.R;\n        var e = 2 / 12 * this.qi.P();\n        s.Ti = e, s.Ri = e, s.Bi = n.Bi, s.Vi = n.Vi, t.ri = n.ri, t.Et = n.Et, t.pi = n.pi;\n      }\n    }]);\n  }(L);\n  var Ot = /*#__PURE__*/function (_Dt2) {\n    function Ot(t, i) {\n      var _this20;\n      _classCallCheck(this, Ot);\n      _this20 = _callSuper(this, Ot, [t]), _this20.dh = null, _this20.fh = null, _this20.ph = null, _this20.mh = null, _this20.ge = i;\n      return _this20;\n    }\n    _inherits(Ot, _Dt2);\n    return _createClass(Ot, [{\n      key: \"cs\",\n      value: function cs() {\n        var _this$ah$timeAxisView, _this$ah$timeAxisView2, _this$ah4, _this$dh;\n        var t = (_this$ah$timeAxisView = (_this$ah$timeAxisView2 = (_this$ah4 = this.ah).timeAxisViews) === null || _this$ah$timeAxisView2 === void 0 ? void 0 : _this$ah$timeAxisView2.call(_this$ah4)) !== null && _this$ah$timeAxisView !== void 0 ? _this$ah$timeAxisView : [];\n        if (((_this$dh = this.dh) === null || _this$dh === void 0 ? void 0 : _this$dh.nh) === t) return this.dh.eh;\n        var i = this.ge.Qt().It(),\n          s = t.map(function (t) {\n            return new At(t, i);\n          });\n        return this.dh = {\n          nh: t,\n          eh: s\n        }, s;\n      }\n    }, {\n      key: \"Fs\",\n      value: function Fs() {\n        var _this$ah$priceAxisVie, _this$ah$priceAxisVie2, _this$ah5, _this$fh;\n        var t = (_this$ah$priceAxisVie = (_this$ah$priceAxisVie2 = (_this$ah5 = this.ah).priceAxisViews) === null || _this$ah$priceAxisVie2 === void 0 ? void 0 : _this$ah$priceAxisVie2.call(_this$ah5)) !== null && _this$ah$priceAxisVie !== void 0 ? _this$ah$priceAxisVie : [];\n        if (((_this$fh = this.fh) === null || _this$fh === void 0 ? void 0 : _this$fh.nh) === t) return this.fh.eh;\n        var i = this.ge.Wt(),\n          s = t.map(function (t) {\n            return new zt(t, i);\n          });\n        return this.fh = {\n          nh: t,\n          eh: s\n        }, s;\n      }\n    }, {\n      key: \"wh\",\n      value: function wh() {\n        var _this$ah$priceAxisPan, _this$ah$priceAxisPan2, _this$ah6, _this$ph;\n        var t = (_this$ah$priceAxisPan = (_this$ah$priceAxisPan2 = (_this$ah6 = this.ah).priceAxisPaneViews) === null || _this$ah$priceAxisPan2 === void 0 ? void 0 : _this$ah$priceAxisPan2.call(_this$ah6)) !== null && _this$ah$priceAxisPan !== void 0 ? _this$ah$priceAxisPan : [];\n        if (((_this$ph = this.ph) === null || _this$ph === void 0 ? void 0 : _this$ph.nh) === t) return this.ph.eh;\n        var i = t.map(function (t) {\n          return new Bt(t);\n        });\n        return this.ph = {\n          nh: t,\n          eh: i\n        }, i;\n      }\n    }, {\n      key: \"gh\",\n      value: function gh() {\n        var _this$ah$timeAxisPane, _this$ah$timeAxisPane2, _this$ah7, _this$mh;\n        var t = (_this$ah$timeAxisPane = (_this$ah$timeAxisPane2 = (_this$ah7 = this.ah).timeAxisPaneViews) === null || _this$ah$timeAxisPane2 === void 0 ? void 0 : _this$ah$timeAxisPane2.call(_this$ah7)) !== null && _this$ah$timeAxisPane !== void 0 ? _this$ah$timeAxisPane : [];\n        if (((_this$mh = this.mh) === null || _this$mh === void 0 ? void 0 : _this$mh.nh) === t) return this.mh.eh;\n        var i = t.map(function (t) {\n          return new Bt(t);\n        });\n        return this.mh = {\n          nh: t,\n          eh: i\n        }, i;\n      }\n    }, {\n      key: \"Mh\",\n      value: function Mh(t, i) {\n        var _this$ah$autoscaleInf, _this$ah$autoscaleInf2, _this$ah8;\n        return (_this$ah$autoscaleInf = (_this$ah$autoscaleInf2 = (_this$ah8 = this.ah).autoscaleInfo) === null || _this$ah$autoscaleInf2 === void 0 ? void 0 : _this$ah$autoscaleInf2.call(_this$ah8, t, i)) !== null && _this$ah$autoscaleInf !== void 0 ? _this$ah$autoscaleInf : null;\n      }\n    }]);\n  }(Dt);\n  function Lt(t, i, s, n) {\n    t.forEach(function (t) {\n      i(t).forEach(function (t) {\n        t.rh() === s && n.push(t);\n      });\n    });\n  }\n  function Nt(t) {\n    return t.Ws();\n  }\n  function Wt(t) {\n    return t.wh();\n  }\n  function Ft(t) {\n    return t.gh();\n  }\n  var Ht = [\"Area\", \"Line\", \"Baseline\"];\n  var Ut = /*#__PURE__*/function (_wt) {\n    function Ut(t, i, s, n, e) {\n      var _this21;\n      _classCallCheck(this, Ut);\n      _this21 = _callSuper(this, Ut, [t]), _this21.qt = new yt(), _this21.er = new _t(_assertThisInitialized(_this21)), _this21.bh = [], _this21.xh = new ht(_assertThisInitialized(_this21)), _this21.Sh = null, _this21.Ch = null, _this21.Ph = null, _this21.yh = [], _this21.Ps = s, _this21.kh = i;\n      var r = new ut(_this21);\n      _this21.vs = [r], _this21.rr = new nt(r, _this21, t), Ht.includes(_this21.kh) && (_this21.Sh = new ot(_this21)), _this21.Th(), _this21.sh = n(_this21, _this21.Qt(), e);\n      return _this21;\n    }\n    _inherits(Ut, _wt);\n    return _createClass(Ut, [{\n      key: \"m\",\n      value: function m() {\n        null !== this.Ph && clearTimeout(this.Ph);\n      }\n    }, {\n      key: \"Be\",\n      value: function Be(t) {\n        return this.Ps.priceLineColor || t;\n      }\n    }, {\n      key: \"ye\",\n      value: function ye(t) {\n        var i = {\n            ke: !0\n          },\n          s = this.Wt();\n        if (this.Qt().It().Ki() || s.Ki() || this.qt.Ki()) return i;\n        var n = this.Qt().It().Pe(),\n          e = this.zt();\n        if (null === n || null === e) return i;\n        var r, h;\n        if (t) {\n          var _t10 = this.qt.Ar();\n          if (null === _t10) return i;\n          r = _t10, h = _t10.Re;\n        } else {\n          var _t11 = this.qt.Wr(n.bi(), -1);\n          if (null === _t11) return i;\n          if (r = this.qt.kr(_t11.Re), null === r) return i;\n          h = _t11.Re;\n        }\n        var a = r.Ft[3],\n          l = this.Rh().Dr(h, {\n            Ft: r\n          }),\n          o = s.Nt(a, e.Ft);\n        return {\n          ke: !1,\n          gt: a,\n          ri: s.Zi(a, e.Ft),\n          Le: s.Dh(a),\n          Ne: s.Eh(a, e.Ft),\n          R: l.cr,\n          Bi: o,\n          Re: h\n        };\n      }\n    }, {\n      key: \"Rh\",\n      value: function Rh() {\n        return null !== this.Ch || (this.Ch = new Mt(this)), this.Ch;\n      }\n    }, {\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        var i = t.priceScaleId;\n        void 0 !== i && i !== this.Ps.priceScaleId && this.Qt().Vh(this, i), _(this.Ps, t), void 0 !== t.priceFormat && (this.Th(), this.Qt().Bh()), this.Qt().Ih(this), this.Qt().Ah(), this.sh.yt(\"options\");\n      }\n    }, {\n      key: \"ht\",\n      value: function ht(t, i) {\n        this.qt.ht(t), this.sh.yt(\"data\"), null !== this.Sh && (i && i.zh ? this.Sh.be() : 0 === t.length && this.Sh.Me());\n        var s = this.Qt().Hn(this);\n        this.Qt().Oh(s), this.Qt().Ih(this), this.Qt().Ah(), this.Qt().ar();\n      }\n    }, {\n      key: \"Lh\",\n      value: function Lh(t) {\n        var i = new mt(this, t);\n        return this.bh.push(i), this.Qt().Ih(this), i;\n      }\n    }, {\n      key: \"Nh\",\n      value: function Nh(t) {\n        var i = this.bh.indexOf(t);\n        -1 !== i && this.bh.splice(i, 1), this.Qt().Ih(this);\n      }\n    }, {\n      key: \"Wh\",\n      value: function Wh() {\n        return this.bh;\n      }\n    }, {\n      key: \"Rr\",\n      value: function Rr() {\n        return this.kh;\n      }\n    }, {\n      key: \"zt\",\n      value: function zt() {\n        var t = this.Fh();\n        return null === t ? null : {\n          Ft: t.Ft[3],\n          Hh: t.wt\n        };\n      }\n    }, {\n      key: \"Fh\",\n      value: function Fh() {\n        var t = this.Qt().It().Pe();\n        if (null === t) return null;\n        var i = t.Uh();\n        return this.qt.Wr(i, 1);\n      }\n    }, {\n      key: \"Xs\",\n      value: function Xs() {\n        return this.qt;\n      }\n    }, {\n      key: \"$h\",\n      value: function $h(t) {\n        var i = this.qt.kr(t);\n        return null === i ? null : \"Bar\" === this.kh || \"Candlestick\" === this.kh || \"Custom\" === this.kh ? {\n          jh: i.Ft[0],\n          qh: i.Ft[1],\n          Yh: i.Ft[2],\n          Kh: i.Ft[3]\n        } : i.Ft[3];\n      }\n    }, {\n      key: \"Xh\",\n      value: function Xh(t) {\n        var _this22 = this;\n        var i = [];\n        Lt(this.yh, Nt, \"top\", i);\n        var s = this.Sh;\n        return null !== s && s.Et() ? (null === this.Ph && s.Se() && (this.Ph = setTimeout(function () {\n          _this22.Ph = null, _this22.Qt().Zh();\n        }, 0)), s.xe(), i.unshift(s), i) : i;\n      }\n    }, {\n      key: \"Ws\",\n      value: function Ws() {\n        var t = [];\n        this.Gh() || t.push(this.xh), t.push(this.sh, this.er);\n        var i = this.bh.map(function (t) {\n          return t.lr();\n        });\n        return t.push.apply(t, _toConsumableArray(i)), Lt(this.yh, Nt, \"normal\", t), t;\n      }\n    }, {\n      key: \"Jh\",\n      value: function Jh() {\n        return this.Qh(Nt, \"bottom\");\n      }\n    }, {\n      key: \"ta\",\n      value: function ta(t) {\n        return this.Qh(Wt, t);\n      }\n    }, {\n      key: \"ia\",\n      value: function ia(t) {\n        return this.Qh(Ft, t);\n      }\n    }, {\n      key: \"sa\",\n      value: function sa(t, i) {\n        return this.yh.map(function (s) {\n          return s.Yn(t, i);\n        }).filter(function (t) {\n          return null !== t;\n        });\n      }\n    }, {\n      key: \"us\",\n      value: function us() {\n        return [this.rr].concat(_toConsumableArray(this.bh.map(function (t) {\n          return t._r();\n        })));\n      }\n    }, {\n      key: \"Fs\",\n      value: function Fs(t, i) {\n        if (i !== this.es && !this.Gh()) return [];\n        var s = _toConsumableArray(this.vs);\n        var _iterator4 = _createForOfIteratorHelper(this.bh),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var _t12 = _step4.value;\n            s.push(_t12.ur());\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n        return this.yh.forEach(function (t) {\n          s.push.apply(s, _toConsumableArray(t.Fs()));\n        }), s;\n      }\n    }, {\n      key: \"cs\",\n      value: function cs() {\n        var t = [];\n        return this.yh.forEach(function (i) {\n          t.push.apply(t, _toConsumableArray(i.cs()));\n        }), t;\n      }\n    }, {\n      key: \"Mh\",\n      value: function Mh(t, i) {\n        var _this23 = this;\n        if (void 0 !== this.Ps.autoscaleInfoProvider) {\n          var _s4 = this.Ps.autoscaleInfoProvider(function () {\n            var s = _this23.na(t, i);\n            return null === s ? null : s.Xe();\n          });\n          return ft.Ze(_s4);\n        }\n        return this.na(t, i);\n      }\n    }, {\n      key: \"ea\",\n      value: function ea() {\n        return this.Ps.priceFormat.minMove;\n      }\n    }, {\n      key: \"ra\",\n      value: function ra() {\n        return this.ha;\n      }\n    }, {\n      key: \"Ns\",\n      value: function Ns() {\n        var _this$Sh;\n        this.sh.yt();\n        var _iterator5 = _createForOfIteratorHelper(this.vs),\n          _step5;\n        try {\n          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n            var _t13 = _step5.value;\n            _t13.yt();\n          }\n        } catch (err) {\n          _iterator5.e(err);\n        } finally {\n          _iterator5.f();\n        }\n        var _iterator6 = _createForOfIteratorHelper(this.bh),\n          _step6;\n        try {\n          for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n            var _t14 = _step6.value;\n            _t14.yt();\n          }\n        } catch (err) {\n          _iterator6.e(err);\n        } finally {\n          _iterator6.f();\n        }\n        this.er.yt(), this.xh.yt(), (_this$Sh = this.Sh) !== null && _this$Sh !== void 0 && _this$Sh.yt(), this.yh.forEach(function (t) {\n          return t.Ns();\n        });\n      }\n    }, {\n      key: \"Wt\",\n      value: function Wt() {\n        return a(_superPropGet(Ut, \"Wt\", this, 3)([]));\n      }\n    }, {\n      key: \"At\",\n      value: function At(t) {\n        if (!((\"Line\" === this.kh || \"Area\" === this.kh || \"Baseline\" === this.kh) && this.Ps.crosshairMarkerVisible)) return null;\n        var i = this.qt.kr(t);\n        if (null === i) return null;\n        return {\n          gt: i.Ft[3],\n          ft: this.aa(),\n          Ht: this.la(),\n          Lt: this.oa(),\n          Ot: this._a(t)\n        };\n      }\n    }, {\n      key: \"Ie\",\n      value: function Ie() {\n        return this.Ps.title;\n      }\n    }, {\n      key: \"Et\",\n      value: function Et() {\n        return this.Ps.visible;\n      }\n    }, {\n      key: \"ua\",\n      value: function ua(t) {\n        this.yh.push(new Ot(t, this));\n      }\n    }, {\n      key: \"ca\",\n      value: function ca(t) {\n        this.yh = this.yh.filter(function (i) {\n          return i.oh() !== t;\n        });\n      }\n    }, {\n      key: \"da\",\n      value: function da() {\n        var _this24 = this;\n        if (\"Custom\" === this.kh) return function (t) {\n          return _this24.sh.fa(t);\n        };\n      }\n    }, {\n      key: \"pa\",\n      value: function pa() {\n        var _this25 = this;\n        if (\"Custom\" === this.kh) return function (t) {\n          return _this25.sh.va(t);\n        };\n      }\n    }, {\n      key: \"ma\",\n      value: function ma() {\n        return this.qt.jr();\n      }\n    }, {\n      key: \"Gh\",\n      value: function Gh() {\n        return !q(this.Wt().wa());\n      }\n    }, {\n      key: \"na\",\n      value: function na(t, i) {\n        if (!c(t) || !c(i) || this.qt.Ki()) return null;\n        var s = \"Line\" === this.kh || \"Area\" === this.kh || \"Baseline\" === this.kh || \"Histogram\" === this.kh ? [3] : [2, 1],\n          n = this.qt.Ur(t, i, s);\n        var e = null !== n ? new dt(n.Jr, n.Qr) : null,\n          r = null;\n        if (\"Histogram\" === this.Rr()) {\n          var _t15 = this.Ps.base,\n            _i11 = new dt(_t15, _t15);\n          e = null !== e ? e.vn(_i11) : _i11;\n        }\n        return this.yh.forEach(function (s) {\n          var n = s.Mh(t, i);\n          if (n !== null && n !== void 0 && n.priceRange) {\n            var _t16 = new dt(n.priceRange.minValue, n.priceRange.maxValue);\n            e = null !== e ? e.vn(_t16) : _t16;\n          }\n          (n === null || n === void 0 ? void 0 : n.margins) && (r = n.margins);\n        }), new ft(e, r);\n      }\n    }, {\n      key: \"aa\",\n      value: function aa() {\n        switch (this.kh) {\n          case \"Line\":\n          case \"Area\":\n          case \"Baseline\":\n            return this.Ps.crosshairMarkerRadius;\n        }\n        return 0;\n      }\n    }, {\n      key: \"la\",\n      value: function la() {\n        switch (this.kh) {\n          case \"Line\":\n          case \"Area\":\n          case \"Baseline\":\n            {\n              var _t17 = this.Ps.crosshairMarkerBorderColor;\n              if (0 !== _t17.length) return _t17;\n            }\n        }\n        return null;\n      }\n    }, {\n      key: \"oa\",\n      value: function oa() {\n        switch (this.kh) {\n          case \"Line\":\n          case \"Area\":\n          case \"Baseline\":\n            return this.Ps.crosshairMarkerBorderWidth;\n        }\n        return 0;\n      }\n    }, {\n      key: \"_a\",\n      value: function _a(t) {\n        switch (this.kh) {\n          case \"Line\":\n          case \"Area\":\n          case \"Baseline\":\n            {\n              var _t18 = this.Ps.crosshairMarkerBackgroundColor;\n              if (0 !== _t18.length) return _t18;\n            }\n        }\n        return this.Rh().Dr(t).cr;\n      }\n    }, {\n      key: \"Th\",\n      value: function Th() {\n        switch (this.Ps.priceFormat.type) {\n          case \"custom\":\n            {\n              var _this$Ps$priceFormat$;\n              var _t19 = this.Ps.priceFormat.formatter;\n              this.ha = {\n                format: _t19,\n                formatTickmarks: (_this$Ps$priceFormat$ = this.Ps.priceFormat.tickmarksFormatter) !== null && _this$Ps$priceFormat$ !== void 0 ? _this$Ps$priceFormat$ : function (i) {\n                  return i.map(_t19);\n                }\n              };\n              break;\n            }\n          case \"volume\":\n            this.ha = new Q(this.Ps.priceFormat.precision);\n            break;\n          case \"percent\":\n            this.ha = new J(this.Ps.priceFormat.precision);\n            break;\n          default:\n            {\n              var _t20 = Math.pow(10, this.Ps.priceFormat.precision);\n              this.ha = new G(_t20, this.Ps.priceFormat.minMove * _t20);\n            }\n        }\n        null !== this.es && this.es.ga();\n      }\n    }, {\n      key: \"Qh\",\n      value: function Qh(t, i) {\n        var s = [];\n        return Lt(this.yh, t, i, s), s;\n      }\n    }]);\n  }(wt);\n  var $t = [3],\n    jt = [0, 1, 2, 3];\n  var qt = /*#__PURE__*/function () {\n    function qt(t) {\n      _classCallCheck(this, qt);\n      this.Ps = t;\n    }\n    return _createClass(qt, [{\n      key: \"Ma\",\n      value: function Ma(t, i, s) {\n        var _this26 = this;\n        var n = t;\n        if (0 === this.Ps.mode) return n;\n        var e = s.ks(),\n          r = e.zt();\n        if (null === r) return n;\n        var h = e.Nt(t, r),\n          a = s.ba().filter(function (t) {\n            return t instanceof Ut;\n          }).reduce(function (t, n) {\n            if (s.Un(n) || !n.Et()) return t;\n            var e = n.Wt(),\n              r = n.Xs();\n            if (e.Ki() || !r.Te(i)) return t;\n            var h = r.kr(i);\n            if (null === h) return t;\n            var a = l(n.zt()),\n              o = 3 === _this26.Ps.mode ? jt : $t;\n            return t.concat(o.map(function (t) {\n              return e.Nt(h.Ft[t], a.Ft);\n            }));\n          }, []);\n        if (0 === a.length) return n;\n        a.sort(function (t, i) {\n          return Math.abs(t - h) - Math.abs(i - h);\n        });\n        var o = a[0];\n        return n = e.Ts(o, r), n;\n      }\n    }]);\n  }();\n  function Yt(t, i, s) {\n    return Math.min(Math.max(t, i), s);\n  }\n  function Kt(t, i, s) {\n    return i - t <= s;\n  }\n  function Xt(t) {\n    var i = Math.ceil(t);\n    return i % 2 == 0 ? i - 1 : i;\n  }\n  var Zt = /*#__PURE__*/function (_P5) {\n    function Zt() {\n      var _this27;\n      _classCallCheck(this, Zt);\n      _this27 = _callSuper(this, Zt, arguments), _this27.qt = null;\n      return _this27;\n    }\n    _inherits(Zt, _P5);\n    return _createClass(Zt, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref9) {\n        var _this28 = this;\n        var t = _ref9.context,\n          i = _ref9.bitmapSize,\n          s = _ref9.horizontalPixelRatio,\n          e = _ref9.verticalPixelRatio;\n        if (null === this.qt) return;\n        var r = Math.max(1, Math.floor(s));\n        t.lineWidth = r, function (t, i) {\n          t.save(), t.lineWidth % 2 && t.translate(.5, .5), i(), t.restore();\n        }(t, function () {\n          var h = a(_this28.qt);\n          if (h.xa) {\n            t.strokeStyle = h.Sa, n(t, h.Ca), t.beginPath();\n            var _iterator7 = _createForOfIteratorHelper(h.Pa),\n              _step7;\n            try {\n              for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n                var _n4 = _step7.value;\n                var _e6 = Math.round(_n4.ya * s);\n                t.moveTo(_e6, -r), t.lineTo(_e6, i.height + r);\n              }\n            } catch (err) {\n              _iterator7.e(err);\n            } finally {\n              _iterator7.f();\n            }\n            t.stroke();\n          }\n          if (h.ka) {\n            t.strokeStyle = h.Ta, n(t, h.Ra), t.beginPath();\n            var _iterator8 = _createForOfIteratorHelper(h.Da),\n              _step8;\n            try {\n              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n                var _s5 = _step8.value;\n                var _n5 = Math.round(_s5.ya * e);\n                t.moveTo(-r, _n5), t.lineTo(i.width + r, _n5);\n              }\n            } catch (err) {\n              _iterator8.e(err);\n            } finally {\n              _iterator8.f();\n            }\n            t.stroke();\n          }\n        });\n      }\n    }]);\n  }(P);\n  var Gt = /*#__PURE__*/function () {\n    function Gt(t) {\n      _classCallCheck(this, Gt);\n      this.Gt = new Zt(), this.St = !0, this.Pt = t;\n    }\n    return _createClass(Gt, [{\n      key: \"yt\",\n      value: function yt() {\n        this.St = !0;\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt() {\n        if (this.St) {\n          var _t21 = this.Pt.Qt().N().grid,\n            _i12 = {\n              ka: _t21.horzLines.visible,\n              xa: _t21.vertLines.visible,\n              Ta: _t21.horzLines.color,\n              Sa: _t21.vertLines.color,\n              Ra: _t21.horzLines.style,\n              Ca: _t21.vertLines.style,\n              Da: this.Pt.ks().Ea(),\n              Pa: (this.Pt.Qt().It().Ea() || []).map(function (t) {\n                return {\n                  ya: t.coord\n                };\n              })\n            };\n          this.Gt.ht(_i12), this.St = !1;\n        }\n        return this.Gt;\n      }\n    }]);\n  }();\n  var Jt = /*#__PURE__*/function () {\n    function Jt(t) {\n      _classCallCheck(this, Jt);\n      this.sh = new Gt(t);\n    }\n    return _createClass(Jt, [{\n      key: \"lr\",\n      value: function lr() {\n        return this.sh;\n      }\n    }]);\n  }();\n  var Qt = {\n    Va: 4,\n    Ba: 1e-4\n  };\n  function ti(t, i) {\n    var s = 100 * (t - i) / i;\n    return i < 0 ? -s : s;\n  }\n  function ii(t, i) {\n    var s = ti(t.$e(), i),\n      n = ti(t.je(), i);\n    return new dt(s, n);\n  }\n  function si(t, i) {\n    var s = 100 * (t - i) / i + 100;\n    return i < 0 ? -s : s;\n  }\n  function ni(t, i) {\n    var s = si(t.$e(), i),\n      n = si(t.je(), i);\n    return new dt(s, n);\n  }\n  function ei(t, i) {\n    var s = Math.abs(t);\n    if (s < 1e-15) return 0;\n    var n = Math.log10(s + i.Ba) + i.Va;\n    return t < 0 ? -n : n;\n  }\n  function ri(t, i) {\n    var s = Math.abs(t);\n    if (s < 1e-15) return 0;\n    var n = Math.pow(10, s - i.Va) - i.Ba;\n    return t < 0 ? -n : n;\n  }\n  function hi(t, i) {\n    if (null === t) return null;\n    var s = ei(t.$e(), i),\n      n = ei(t.je(), i);\n    return new dt(s, n);\n  }\n  function ai(t, i) {\n    if (null === t) return null;\n    var s = ri(t.$e(), i),\n      n = ri(t.je(), i);\n    return new dt(s, n);\n  }\n  function li(t) {\n    if (null === t) return Qt;\n    var i = Math.abs(t.je() - t.$e());\n    if (i >= 1 || i < 1e-15) return Qt;\n    var s = Math.ceil(Math.abs(Math.log10(i))),\n      n = Qt.Va + s;\n    return {\n      Va: n,\n      Ba: 1 / Math.pow(10, n)\n    };\n  }\n  var oi = /*#__PURE__*/function () {\n    function oi(t, i) {\n      _classCallCheck(this, oi);\n      if (this.Ia = t, this.Aa = i, function (t) {\n        if (t < 0) return !1;\n        for (var _i13 = t; _i13 > 1; _i13 /= 10) if (_i13 % 10 != 0) return !1;\n        return !0;\n      }(this.Ia)) this.za = [2, 2.5, 2];else {\n        this.za = [];\n        for (var _t22 = this.Ia; 1 !== _t22;) {\n          if (_t22 % 2 == 0) this.za.push(2), _t22 /= 2;else {\n            if (_t22 % 5 != 0) throw new Error(\"unexpected base\");\n            this.za.push(2, 2.5), _t22 /= 5;\n          }\n          if (this.za.length > 100) throw new Error(\"something wrong with base\");\n        }\n      }\n    }\n    return _createClass(oi, [{\n      key: \"Oa\",\n      value: function Oa(t, i, s) {\n        var n = 0 === this.Ia ? 0 : 1 / this.Ia;\n        var e = Math.pow(10, Math.max(0, Math.ceil(Math.log10(t - i)))),\n          r = 0,\n          h = this.Aa[0];\n        for (;;) {\n          var _t23 = Kt(e, n, 1e-14) && e > n + 1e-14,\n            _i14 = Kt(e, s * h, 1e-14),\n            _a4 = Kt(e, 1, 1e-14);\n          if (!(_t23 && _i14 && _a4)) break;\n          e /= h, h = this.Aa[++r % this.Aa.length];\n        }\n        if (e <= n + 1e-14 && (e = n), e = Math.max(1, e), this.za.length > 0 && (a = e, l = 1, o = 1e-14, Math.abs(a - l) < o)) for (r = 0, h = this.za[0]; Kt(e, s * h, 1e-14) && e > n + 1e-14;) e /= h, h = this.za[++r % this.za.length];\n        var a, l, o;\n        return e;\n      }\n    }]);\n  }();\n  var _i = /*#__PURE__*/function () {\n    function _i(t, i, s, n) {\n      _classCallCheck(this, _i);\n      this.La = [], this.qi = t, this.Ia = i, this.Na = s, this.Wa = n;\n    }\n    return _createClass(_i, [{\n      key: \"Oa\",\n      value: function Oa(t, i) {\n        if (t < i) throw new Error(\"high < low\");\n        var s = this.qi.$t(),\n          n = (t - i) * this.Fa() / s,\n          e = new oi(this.Ia, [2, 2.5, 2]),\n          r = new oi(this.Ia, [2, 2, 2.5]),\n          h = new oi(this.Ia, [2.5, 2, 2]),\n          a = [];\n        return a.push(e.Oa(t, i, n), r.Oa(t, i, n), h.Oa(t, i, n)), function (t) {\n          if (t.length < 1) throw Error(\"array is empty\");\n          var i = t[0];\n          for (var _s6 = 1; _s6 < t.length; ++_s6) t[_s6] < i && (i = t[_s6]);\n          return i;\n        }(a);\n      }\n    }, {\n      key: \"Ha\",\n      value: function Ha() {\n        var t = this.qi,\n          i = t.zt();\n        if (null === i) return void (this.La = []);\n        var s = t.$t(),\n          n = this.Na(s - 1, i),\n          e = this.Na(0, i),\n          r = this.qi.N().entireTextOnly ? this.Ua() / 2 : 0,\n          h = r,\n          a = s - 1 - r,\n          l = Math.max(n, e),\n          o = Math.min(n, e);\n        if (l === o) return void (this.La = []);\n        var _ = this.Oa(l, o);\n        if (this.$a(i, _, l, o, h, a), t.ja() && this.qa(_, o, l)) {\n          var _t24 = this.qi.Ya();\n          this.Ka(i, _, h, a, _t24, 2 * _t24);\n        }\n        var u = this.La.map(function (t) {\n            return t.Xa;\n          }),\n          c = this.qi.Za(u);\n        for (var _t25 = 0; _t25 < this.La.length; _t25++) this.La[_t25].Ga = c[_t25];\n      }\n    }, {\n      key: \"Ea\",\n      value: function Ea() {\n        return this.La;\n      }\n    }, {\n      key: \"Ua\",\n      value: function Ua() {\n        return this.qi.P();\n      }\n    }, {\n      key: \"Fa\",\n      value: function Fa() {\n        return Math.ceil(2.5 * this.Ua());\n      }\n    }, {\n      key: \"$a\",\n      value: function $a(t, i, s, n, e, r) {\n        var h = this.La,\n          a = this.qi;\n        var l = s % i;\n        l += l < 0 ? i : 0;\n        var o = s >= n ? 1 : -1;\n        var _ = null,\n          u = 0;\n        for (var _c = s - l; _c > n; _c -= i) {\n          var _s7 = this.Wa(_c, t, !0);\n          null !== _ && Math.abs(_s7 - _) < this.Fa() || _s7 < e || _s7 > r || (u < h.length ? (h[u].ya = _s7, h[u].Ga = a.Ja(_c), h[u].Xa = _c) : h.push({\n            ya: _s7,\n            Ga: a.Ja(_c),\n            Xa: _c\n          }), u++, _ = _s7, a.Qa() && (i = this.Oa(_c * o, n)));\n        }\n        h.length = u;\n      }\n    }, {\n      key: \"Ka\",\n      value: function Ka(t, i, s, n, e, r) {\n        var h = this.La,\n          a = this.tl(t, s, e, r),\n          l = this.tl(t, n, -r, -e),\n          o = this.Wa(0, t, !0) - this.Wa(i, t, !0);\n        h.length > 0 && h[0].ya - a.ya < o / 2 && h.shift(), h.length > 0 && l.ya - h[h.length - 1].ya < o / 2 && h.pop(), h.unshift(a), h.push(l);\n      }\n    }, {\n      key: \"tl\",\n      value: function tl(t, i, s, n) {\n        var e = (s + n) / 2,\n          r = this.Na(i + s, t),\n          h = this.Na(i + n, t),\n          a = Math.min(r, h),\n          l = Math.max(r, h),\n          o = Math.max(.1, this.Oa(l, a)),\n          _ = this.Na(i + e, t),\n          u = _ - _ % o,\n          c = this.Wa(u, t, !0);\n        return {\n          Ga: this.qi.Ja(u),\n          ya: c,\n          Xa: u\n        };\n      }\n    }, {\n      key: \"qa\",\n      value: function qa(t, i, s) {\n        var n = l(this.qi.Qe());\n        return this.qi.Qa() && (n = ai(n, this.qi.il())), n.$e() - i < t && s - n.je() < t;\n      }\n    }]);\n  }();\n  function ui(t) {\n    return t.slice().sort(function (t, i) {\n      return a(t.hs()) - a(i.hs());\n    });\n  }\n  var ci;\n  !function (t) {\n    t[t.Normal = 0] = \"Normal\", t[t.Logarithmic = 1] = \"Logarithmic\", t[t.Percentage = 2] = \"Percentage\", t[t.IndexedTo100 = 3] = \"IndexedTo100\";\n  }(ci || (ci = {}));\n  var di = new J(),\n    fi = new G(100, 1);\n  var pi = /*#__PURE__*/function () {\n    function pi(t, i, s, n, e) {\n      _classCallCheck(this, pi);\n      this.sl = 0, this.nl = null, this.Ge = null, this.el = null, this.rl = {\n        hl: !1,\n        al: null\n      }, this.ll = !1, this.ol = 0, this._l = 0, this.ul = new o(), this.cl = new o(), this.dl = [], this.fl = null, this.pl = null, this.vl = null, this.ml = null, this.wl = null, this.ha = fi, this.gl = li(null), this.Ml = t, this.Ps = i, this.bl = s, this.xl = n, this.Sl = e, this.Cl = new _i(this, 100, this.Pl.bind(this), this.yl.bind(this));\n    }\n    return _createClass(pi, [{\n      key: \"wa\",\n      value: function wa() {\n        return this.Ml;\n      }\n    }, {\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        if (_(this.Ps, t), this.ga(), void 0 !== t.mode && this.kl({\n          ie: t.mode\n        }), void 0 !== t.scaleMargins) {\n          var _i15 = h(t.scaleMargins.top),\n            _s8 = h(t.scaleMargins.bottom);\n          if (_i15 < 0 || _i15 > 1) throw new Error(\"Invalid top margin - expect value between 0 and 1, given=\".concat(_i15));\n          if (_s8 < 0 || _s8 > 1) throw new Error(\"Invalid bottom margin - expect value between 0 and 1, given=\".concat(_s8));\n          if (_i15 + _s8 > 1) throw new Error(\"Invalid margins - sum of margins must be less than 1, given=\".concat(_i15 + _s8));\n          this.Tl(), this.vl = null;\n        }\n      }\n    }, {\n      key: \"Rl\",\n      value: function Rl() {\n        return this.Ps.autoScale;\n      }\n    }, {\n      key: \"Dl\",\n      value: function Dl() {\n        return this.ll;\n      }\n    }, {\n      key: \"Qa\",\n      value: function Qa() {\n        return 1 === this.Ps.mode;\n      }\n    }, {\n      key: \"Oe\",\n      value: function Oe() {\n        return 2 === this.Ps.mode;\n      }\n    }, {\n      key: \"El\",\n      value: function El() {\n        return 3 === this.Ps.mode;\n      }\n    }, {\n      key: \"il\",\n      value: function il() {\n        return this.gl;\n      }\n    }, {\n      key: \"ie\",\n      value: function ie() {\n        return {\n          sn: this.Ps.autoScale,\n          Vl: this.Ps.invertScale,\n          ie: this.Ps.mode\n        };\n      }\n    }, {\n      key: \"kl\",\n      value: function kl(t) {\n        var i = this.ie();\n        var s = null;\n        void 0 !== t.sn && (this.Ps.autoScale = t.sn), void 0 !== t.ie && (this.Ps.mode = t.ie, 2 !== t.ie && 3 !== t.ie || (this.Ps.autoScale = !0), this.rl.hl = !1), 1 === i.ie && t.ie !== i.ie && (!function (t, i) {\n          if (null === t) return !1;\n          var s = ri(t.$e(), i),\n            n = ri(t.je(), i);\n          return isFinite(s) && isFinite(n);\n        }(this.Ge, this.gl) ? this.Ps.autoScale = !0 : (s = ai(this.Ge, this.gl), null !== s && this.Bl(s))), 1 === t.ie && t.ie !== i.ie && (s = hi(this.Ge, this.gl), null !== s && this.Bl(s));\n        var n = i.ie !== this.Ps.mode;\n        n && (2 === i.ie || this.Oe()) && this.ga(), n && (3 === i.ie || this.El()) && this.ga(), void 0 !== t.Vl && i.Vl !== t.Vl && (this.Ps.invertScale = t.Vl, this.Il()), this.cl.p(i, this.ie());\n      }\n    }, {\n      key: \"Al\",\n      value: function Al() {\n        return this.cl;\n      }\n    }, {\n      key: \"P\",\n      value: function P() {\n        return this.bl.fontSize;\n      }\n    }, {\n      key: \"$t\",\n      value: function $t() {\n        return this.sl;\n      }\n    }, {\n      key: \"zl\",\n      value: function zl(t) {\n        this.sl !== t && (this.sl = t, this.Tl(), this.vl = null);\n      }\n    }, {\n      key: \"Ol\",\n      value: function Ol() {\n        if (this.nl) return this.nl;\n        var t = this.$t() - this.Ll() - this.Nl();\n        return this.nl = t, t;\n      }\n    }, {\n      key: \"Qe\",\n      value: function Qe() {\n        return this.Wl(), this.Ge;\n      }\n    }, {\n      key: \"Bl\",\n      value: function Bl(t, i) {\n        var s = this.Ge;\n        (i || null === s && null !== t || null !== s && !s.He(t)) && (this.vl = null, this.Ge = t);\n      }\n    }, {\n      key: \"Fl\",\n      value: function Fl(t) {\n        this.Bl(t), this.Hl(null !== t);\n      }\n    }, {\n      key: \"Ki\",\n      value: function Ki() {\n        return this.Wl(), 0 === this.sl || !this.Ge || this.Ge.Ki();\n      }\n    }, {\n      key: \"Ul\",\n      value: function Ul(t) {\n        return this.Vl() ? t : this.$t() - 1 - t;\n      }\n    }, {\n      key: \"Nt\",\n      value: function Nt(t, i) {\n        return this.Oe() ? t = ti(t, i) : this.El() && (t = si(t, i)), this.yl(t, i);\n      }\n    }, {\n      key: \"$l\",\n      value: function $l(t, i, s) {\n        this.Wl();\n        var n = this.Nl(),\n          e = a(this.Qe()),\n          r = e.$e(),\n          h = e.je(),\n          l = this.Ol() - 1,\n          o = this.Vl(),\n          _ = l / (h - r),\n          u = void 0 === s ? 0 : s.from,\n          c = void 0 === s ? t.length : s.to,\n          d = this.jl();\n        for (var _s9 = u; _s9 < c; _s9++) {\n          var _e7 = t[_s9],\n            _h2 = _e7.gt;\n          if (isNaN(_h2)) continue;\n          var _a5 = _h2;\n          null !== d && (_a5 = d(_e7.gt, i));\n          var _l3 = n + _ * (_a5 - r),\n            _u = o ? _l3 : this.sl - 1 - _l3;\n          _e7.ut = _u;\n        }\n      }\n    }, {\n      key: \"ql\",\n      value: function ql(t, i, s) {\n        this.Wl();\n        var n = this.Nl(),\n          e = a(this.Qe()),\n          r = e.$e(),\n          h = e.je(),\n          l = this.Ol() - 1,\n          o = this.Vl(),\n          _ = l / (h - r),\n          u = void 0 === s ? 0 : s.from,\n          c = void 0 === s ? t.length : s.to,\n          d = this.jl();\n        for (var _s0 = u; _s0 < c; _s0++) {\n          var _e8 = t[_s0];\n          var _h3 = _e8.jh,\n            _a6 = _e8.qh,\n            _l4 = _e8.Yh,\n            _u2 = _e8.Kh;\n          null !== d && (_h3 = d(_e8.jh, i), _a6 = d(_e8.qh, i), _l4 = d(_e8.Yh, i), _u2 = d(_e8.Kh, i));\n          var _c2 = n + _ * (_h3 - r),\n            _f = o ? _c2 : this.sl - 1 - _c2;\n          _e8.Yl = _f, _c2 = n + _ * (_a6 - r), _f = o ? _c2 : this.sl - 1 - _c2, _e8.Kl = _f, _c2 = n + _ * (_l4 - r), _f = o ? _c2 : this.sl - 1 - _c2, _e8.Xl = _f, _c2 = n + _ * (_u2 - r), _f = o ? _c2 : this.sl - 1 - _c2, _e8.Zl = _f;\n        }\n      }\n    }, {\n      key: \"Ts\",\n      value: function Ts(t, i) {\n        var s = this.Pl(t, i);\n        return this.Gl(s, i);\n      }\n    }, {\n      key: \"Gl\",\n      value: function Gl(t, i) {\n        var s = t;\n        return this.Oe() ? s = function (t, i) {\n          return i < 0 && (t = -t), t / 100 * i + i;\n        }(s, i) : this.El() && (s = function (t, i) {\n          return t -= 100, i < 0 && (t = -t), t / 100 * i + i;\n        }(s, i)), s;\n      }\n    }, {\n      key: \"ba\",\n      value: function ba() {\n        return this.dl;\n      }\n    }, {\n      key: \"Dt\",\n      value: function Dt() {\n        return this.pl || (this.pl = ui(this.dl)), this.pl;\n      }\n    }, {\n      key: \"Jl\",\n      value: function Jl(t) {\n        -1 === this.dl.indexOf(t) && (this.dl.push(t), this.ga(), this.Ql());\n      }\n    }, {\n      key: \"io\",\n      value: function io(t) {\n        var i = this.dl.indexOf(t);\n        if (-1 === i) throw new Error(\"source is not attached to scale\");\n        this.dl.splice(i, 1), 0 === this.dl.length && (this.kl({\n          sn: !0\n        }), this.Bl(null)), this.ga(), this.Ql();\n      }\n    }, {\n      key: \"zt\",\n      value: function zt() {\n        var t = null;\n        var _iterator9 = _createForOfIteratorHelper(this.dl),\n          _step9;\n        try {\n          for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n            var _i16 = _step9.value;\n            var _s1 = _i16.zt();\n            null !== _s1 && (null === t || _s1.Hh < t.Hh) && (t = _s1);\n          }\n        } catch (err) {\n          _iterator9.e(err);\n        } finally {\n          _iterator9.f();\n        }\n        return null === t ? null : t.Ft;\n      }\n    }, {\n      key: \"Vl\",\n      value: function Vl() {\n        return this.Ps.invertScale;\n      }\n    }, {\n      key: \"Ea\",\n      value: function Ea() {\n        var t = null === this.zt();\n        if (null !== this.vl && (t || this.vl.so === t)) return this.vl.Ea;\n        this.Cl.Ha();\n        var i = this.Cl.Ea();\n        return this.vl = {\n          Ea: i,\n          so: t\n        }, this.ul.p(), i;\n      }\n    }, {\n      key: \"no\",\n      value: function no() {\n        return this.ul;\n      }\n    }, {\n      key: \"eo\",\n      value: function eo(t) {\n        this.Oe() || this.El() || null === this.ml && null === this.el && (this.Ki() || (this.ml = this.sl - t, this.el = a(this.Qe()).Ue()));\n      }\n    }, {\n      key: \"ro\",\n      value: function ro(t) {\n        if (this.Oe() || this.El()) return;\n        if (null === this.ml) return;\n        this.kl({\n          sn: !1\n        }), (t = this.sl - t) < 0 && (t = 0);\n        var i = (this.ml + .2 * (this.sl - 1)) / (t + .2 * (this.sl - 1));\n        var s = a(this.el).Ue();\n        i = Math.max(i, .1), s.Ye(i), this.Bl(s);\n      }\n    }, {\n      key: \"ho\",\n      value: function ho() {\n        this.Oe() || this.El() || (this.ml = null, this.el = null);\n      }\n    }, {\n      key: \"ao\",\n      value: function ao(t) {\n        this.Rl() || null === this.wl && null === this.el && (this.Ki() || (this.wl = t, this.el = a(this.Qe()).Ue()));\n      }\n    }, {\n      key: \"lo\",\n      value: function lo(t) {\n        if (this.Rl()) return;\n        if (null === this.wl) return;\n        var i = a(this.Qe()).qe() / (this.Ol() - 1);\n        var s = t - this.wl;\n        this.Vl() && (s *= -1);\n        var n = s * i,\n          e = a(this.el).Ue();\n        e.Ke(n), this.Bl(e, !0), this.vl = null;\n      }\n    }, {\n      key: \"oo\",\n      value: function oo() {\n        this.Rl() || null !== this.wl && (this.wl = null, this.el = null);\n      }\n    }, {\n      key: \"ra\",\n      value: function ra() {\n        return this.ha || this.ga(), this.ha;\n      }\n    }, {\n      key: \"Zi\",\n      value: function Zi(t, i) {\n        switch (this.Ps.mode) {\n          case 2:\n            return this._o(ti(t, i));\n          case 3:\n            return this.ra().format(si(t, i));\n          default:\n            return this.nr(t);\n        }\n      }\n    }, {\n      key: \"Ja\",\n      value: function Ja(t) {\n        switch (this.Ps.mode) {\n          case 2:\n            return this._o(t);\n          case 3:\n            return this.ra().format(t);\n          default:\n            return this.nr(t);\n        }\n      }\n    }, {\n      key: \"Za\",\n      value: function Za(t) {\n        switch (this.Ps.mode) {\n          case 2:\n            return this.uo(t);\n          case 3:\n            return this.ra().formatTickmarks(t);\n          default:\n            return this.co(t);\n        }\n      }\n    }, {\n      key: \"Dh\",\n      value: function Dh(t) {\n        return this.nr(t, a(this.fl).ra());\n      }\n    }, {\n      key: \"Eh\",\n      value: function Eh(t, i) {\n        return t = ti(t, i), this._o(t, di);\n      }\n    }, {\n      key: \"do\",\n      value: function _do() {\n        return this.dl;\n      }\n    }, {\n      key: \"fo\",\n      value: function fo(t) {\n        this.rl = {\n          al: t,\n          hl: !1\n        };\n      }\n    }, {\n      key: \"Ns\",\n      value: function Ns() {\n        this.dl.forEach(function (t) {\n          return t.Ns();\n        });\n      }\n    }, {\n      key: \"ja\",\n      value: function ja() {\n        return this.Ps.ensureEdgeTickMarksVisible && this.Rl();\n      }\n    }, {\n      key: \"Ya\",\n      value: function Ya() {\n        return this.P() / 2;\n      }\n    }, {\n      key: \"ga\",\n      value: function ga() {\n        this.vl = null;\n        var t = 1 / 0;\n        this.fl = null;\n        var _iterator0 = _createForOfIteratorHelper(this.dl),\n          _step0;\n        try {\n          for (_iterator0.s(); !(_step0 = _iterator0.n()).done;) {\n            var _i17 = _step0.value;\n            _i17.hs() < t && (t = _i17.hs(), this.fl = _i17);\n          }\n        } catch (err) {\n          _iterator0.e(err);\n        } finally {\n          _iterator0.f();\n        }\n        var i = 100;\n        null !== this.fl && (i = Math.round(1 / this.fl.ea())), this.ha = fi, this.Oe() ? (this.ha = di, i = 100) : this.El() ? (this.ha = new G(100, 1), i = 100) : null !== this.fl && (this.ha = this.fl.ra()), this.Cl = new _i(this, i, this.Pl.bind(this), this.yl.bind(this)), this.Cl.Ha();\n      }\n    }, {\n      key: \"Ql\",\n      value: function Ql() {\n        this.pl = null;\n      }\n    }, {\n      key: \"Xi\",\n      value: function Xi() {\n        return this.Sl;\n      }\n    }, {\n      key: \"Hl\",\n      value: function Hl(t) {\n        this.ll = t;\n      }\n    }, {\n      key: \"Ll\",\n      value: function Ll() {\n        return this.Vl() ? this.Ps.scaleMargins.bottom * this.$t() + this._l : this.Ps.scaleMargins.top * this.$t() + this.ol;\n      }\n    }, {\n      key: \"Nl\",\n      value: function Nl() {\n        return this.Vl() ? this.Ps.scaleMargins.top * this.$t() + this.ol : this.Ps.scaleMargins.bottom * this.$t() + this._l;\n      }\n    }, {\n      key: \"Wl\",\n      value: function Wl() {\n        this.rl.hl || (this.rl.hl = !0, this.po());\n      }\n    }, {\n      key: \"Tl\",\n      value: function Tl() {\n        this.nl = null;\n      }\n    }, {\n      key: \"yl\",\n      value: function yl(t, i) {\n        if (this.Wl(), this.Ki()) return 0;\n        t = this.Qa() && t ? ei(t, this.gl) : t;\n        var s = a(this.Qe()),\n          n = this.Nl() + (this.Ol() - 1) * (t - s.$e()) / s.qe();\n        return this.Ul(n);\n      }\n    }, {\n      key: \"Pl\",\n      value: function Pl(t, i) {\n        if (this.Wl(), this.Ki()) return 0;\n        var s = this.Ul(t),\n          n = a(this.Qe()),\n          e = n.$e() + n.qe() * ((s - this.Nl()) / (this.Ol() - 1));\n        return this.Qa() ? ri(e, this.gl) : e;\n      }\n    }, {\n      key: \"Il\",\n      value: function Il() {\n        this.vl = null, this.Cl.Ha();\n      }\n    }, {\n      key: \"po\",\n      value: function po() {\n        if (this.Dl() && !this.Rl()) return;\n        var t = this.rl.al;\n        if (null === t) return;\n        var i = null;\n        var s = this[\"do\"]();\n        var n = 0,\n          e = 0;\n        var _iterator1 = _createForOfIteratorHelper(s),\n          _step1;\n        try {\n          for (_iterator1.s(); !(_step1 = _iterator1.n()).done;) {\n            var _r5 = _step1.value;\n            if (!_r5.Et()) continue;\n            var _s12 = _r5.zt();\n            if (null === _s12) continue;\n            var _h4 = _r5.Mh(t.Uh(), t.bi());\n            var _l5 = _h4 && _h4.Qe();\n            if (null !== _l5) {\n              switch (this.Ps.mode) {\n                case 1:\n                  _l5 = hi(_l5, this.gl);\n                  break;\n                case 2:\n                  _l5 = ii(_l5, _s12.Ft);\n                  break;\n                case 3:\n                  _l5 = ni(_l5, _s12.Ft);\n              }\n              if (i = null === i ? _l5 : i.vn(a(_l5)), null !== _h4) {\n                var _t28 = _h4.tr();\n                null !== _t28 && (n = Math.max(n, _t28.above), e = Math.max(e, _t28.below));\n              }\n            }\n          }\n        } catch (err) {\n          _iterator1.e(err);\n        } finally {\n          _iterator1.f();\n        }\n        if (this.ja() && (n = Math.max(n, this.Ya()), e = Math.max(e, this.Ya())), n === this.ol && e === this._l || (this.ol = n, this._l = e, this.vl = null, this.Tl()), null !== i) {\n          if (i.$e() === i.je()) {\n            var _t26 = this.fl,\n              _s10 = 5 * (null === _t26 || this.Oe() || this.El() ? 1 : _t26.ea());\n            this.Qa() && (i = ai(i, this.gl)), i = new dt(i.$e() - _s10, i.je() + _s10), this.Qa() && (i = hi(i, this.gl));\n          }\n          if (this.Qa()) {\n            var _t27 = ai(i, this.gl),\n              _s11 = li(_t27);\n            if (r = _s11, h = this.gl, r.Va !== h.Va || r.Ba !== h.Ba) {\n              var _n6 = null !== this.el ? ai(this.el, this.gl) : null;\n              this.gl = _s11, i = hi(_t27, _s11), null !== _n6 && (this.el = hi(_n6, _s11));\n            }\n          }\n          this.Bl(i);\n        } else null === this.Ge && (this.Bl(new dt(-.5, .5)), this.gl = li(null));\n        var r, h;\n      }\n    }, {\n      key: \"jl\",\n      value: function jl() {\n        var _this29 = this;\n        return this.Oe() ? ti : this.El() ? si : this.Qa() ? function (t) {\n          return ei(t, _this29.gl);\n        } : null;\n      }\n    }, {\n      key: \"vo\",\n      value: function vo(t, i, s) {\n        return void 0 === i ? (void 0 === s && (s = this.ra()), s.format(t)) : i(t);\n      }\n    }, {\n      key: \"mo\",\n      value: function mo(t, i, s) {\n        return void 0 === i ? (void 0 === s && (s = this.ra()), s.formatTickmarks(t)) : i(t);\n      }\n    }, {\n      key: \"nr\",\n      value: function nr(t, i) {\n        return this.vo(t, this.xl.priceFormatter, i);\n      }\n    }, {\n      key: \"co\",\n      value: function co(t, i) {\n        var _this$xl$tickmarksPri;\n        var s = this.xl.priceFormatter;\n        return this.mo(t, (_this$xl$tickmarksPri = this.xl.tickmarksPriceFormatter) !== null && _this$xl$tickmarksPri !== void 0 ? _this$xl$tickmarksPri : s ? function (t) {\n          return t.map(s);\n        } : void 0, i);\n      }\n    }, {\n      key: \"_o\",\n      value: function _o(t, i) {\n        return this.vo(t, this.xl.percentageFormatter, i);\n      }\n    }, {\n      key: \"uo\",\n      value: function uo(t, i) {\n        var _this$xl$tickmarksPer;\n        var s = this.xl.percentageFormatter;\n        return this.mo(t, (_this$xl$tickmarksPer = this.xl.tickmarksPercentageFormatter) !== null && _this$xl$tickmarksPer !== void 0 ? _this$xl$tickmarksPer : s ? function (t) {\n          return t.map(s);\n        } : void 0, i);\n      }\n    }]);\n  }();\n  function vi(t) {\n    return t instanceof Ut;\n  }\n  var mi = /*#__PURE__*/function () {\n    function mi(t, i) {\n      _classCallCheck(this, mi);\n      this.dl = [], this.wo = new Map(), this.sl = 0, this.Mo = 0, this.bo = 1, this.pl = null, this.xo = !1, this.So = new o(), this.yh = [], this.uh = t, this.ts = i, this.Co = new Jt(this);\n      var s = i.N();\n      this.Po = this.yo(\"left\", s.leftPriceScale), this.ko = this.yo(\"right\", s.rightPriceScale), this.Po.Al().i(this.To.bind(this, this.Po), this), this.ko.Al().i(this.To.bind(this, this.ko), this), this.Ro(s);\n    }\n    return _createClass(mi, [{\n      key: \"Ro\",\n      value: function Ro(t) {\n        if (t.leftPriceScale && this.Po.hr(t.leftPriceScale), t.rightPriceScale && this.ko.hr(t.rightPriceScale), t.localization && (this.Po.ga(), this.ko.ga()), t.overlayPriceScales) {\n          var _i18 = Array.from(this.wo.values());\n          for (var _i20 = 0, _i19 = _i18; _i20 < _i19.length; _i20++) {\n            var _s13 = _i19[_i20];\n            var _i21 = a(_s13[0].Wt());\n            _i21.hr(t.overlayPriceScales), t.localization && _i21.ga();\n          }\n        }\n      }\n    }, {\n      key: \"Do\",\n      value: function Do(t) {\n        switch (t) {\n          case \"left\":\n            return this.Po;\n          case \"right\":\n            return this.ko;\n        }\n        return this.wo.has(t) ? h(this.wo.get(t))[0].Wt() : null;\n      }\n    }, {\n      key: \"m\",\n      value: function m() {\n        this.Qt().Eo().u(this), this.Po.Al().u(this), this.ko.Al().u(this), this.dl.forEach(function (t) {\n          t.m && t.m();\n        }), this.yh = this.yh.filter(function (t) {\n          var i = t.oh();\n          return i.detached && i.detached(), !1;\n        }), this.So.p();\n      }\n    }, {\n      key: \"Vo\",\n      value: function Vo() {\n        return this.bo;\n      }\n    }, {\n      key: \"Bo\",\n      value: function Bo(t) {\n        this.bo = t;\n      }\n    }, {\n      key: \"Qt\",\n      value: function Qt() {\n        return this.ts;\n      }\n    }, {\n      key: \"Qi\",\n      value: function Qi() {\n        return this.Mo;\n      }\n    }, {\n      key: \"$t\",\n      value: function $t() {\n        return this.sl;\n      }\n    }, {\n      key: \"Io\",\n      value: function Io(t) {\n        this.Mo = t, this.Ao();\n      }\n    }, {\n      key: \"zl\",\n      value: function zl(t) {\n        var _this30 = this;\n        this.sl = t, this.Po.zl(t), this.ko.zl(t), this.dl.forEach(function (i) {\n          if (_this30.Un(i)) {\n            var _s14 = i.Wt();\n            null !== _s14 && _s14.zl(t);\n          }\n        }), this.Ao();\n      }\n    }, {\n      key: \"zo\",\n      value: function zo(t) {\n        this.xo = t;\n      }\n    }, {\n      key: \"Oo\",\n      value: function Oo() {\n        return this.xo;\n      }\n    }, {\n      key: \"Lo\",\n      value: function Lo() {\n        return this.dl.filter(vi);\n      }\n    }, {\n      key: \"ba\",\n      value: function ba() {\n        return this.dl;\n      }\n    }, {\n      key: \"Un\",\n      value: function Un(t) {\n        var i = t.Wt();\n        return null === i || this.Po !== i && this.ko !== i;\n      }\n    }, {\n      key: \"Jl\",\n      value: function Jl(t, i, s) {\n        this.No(t, i, s ? t.hs() : this.dl.length);\n      }\n    }, {\n      key: \"io\",\n      value: function io(t, i) {\n        var s = this.dl.indexOf(t);\n        r(-1 !== s, \"removeDataSource: invalid data source\"), this.dl.splice(s, 1), i || this.dl.forEach(function (t, i) {\n          return t.ls(i);\n        });\n        var n = a(t.Wt()).wa();\n        if (this.wo.has(n)) {\n          var _i22 = h(this.wo.get(n)),\n            _s15 = _i22.indexOf(t);\n          -1 !== _s15 && (_i22.splice(_s15, 1), 0 === _i22.length && this.wo[\"delete\"](n));\n        }\n        var e = t.Wt();\n        e && e.ba().indexOf(t) >= 0 && (e.io(t), this.Wo(e)), this.pl = null;\n      }\n    }, {\n      key: \"jn\",\n      value: function jn(t) {\n        return t === this.Po ? \"left\" : t === this.ko ? \"right\" : \"overlay\";\n      }\n    }, {\n      key: \"Fo\",\n      value: function Fo() {\n        return this.Po;\n      }\n    }, {\n      key: \"Ho\",\n      value: function Ho() {\n        return this.ko;\n      }\n    }, {\n      key: \"Uo\",\n      value: function Uo(t, i) {\n        t.eo(i);\n      }\n    }, {\n      key: \"$o\",\n      value: function $o(t, i) {\n        t.ro(i), this.Ao();\n      }\n    }, {\n      key: \"jo\",\n      value: function jo(t) {\n        t.ho();\n      }\n    }, {\n      key: \"qo\",\n      value: function qo(t, i) {\n        t.ao(i);\n      }\n    }, {\n      key: \"Yo\",\n      value: function Yo(t, i) {\n        t.lo(i), this.Ao();\n      }\n    }, {\n      key: \"Ko\",\n      value: function Ko(t) {\n        t.oo();\n      }\n    }, {\n      key: \"Ao\",\n      value: function Ao() {\n        this.dl.forEach(function (t) {\n          t.Ns();\n        });\n      }\n    }, {\n      key: \"ks\",\n      value: function ks() {\n        var t = null;\n        return this.ts.N().rightPriceScale.visible && 0 !== this.ko.ba().length ? t = this.ko : this.ts.N().leftPriceScale.visible && 0 !== this.Po.ba().length ? t = this.Po : 0 !== this.dl.length && (t = this.dl[0].Wt()), null === t && (t = this.ko), t;\n      }\n    }, {\n      key: \"$n\",\n      value: function $n() {\n        var t = null;\n        return this.ts.N().rightPriceScale.visible ? t = this.ko : this.ts.N().leftPriceScale.visible && (t = this.Po), t;\n      }\n    }, {\n      key: \"Wo\",\n      value: function Wo(t) {\n        null !== t && t.Rl() && this.Xo(t);\n      }\n    }, {\n      key: \"Zo\",\n      value: function Zo(t) {\n        var i = this.uh.Pe();\n        t.kl({\n          sn: !0\n        }), null !== i && t.fo(i), this.Ao();\n      }\n    }, {\n      key: \"Go\",\n      value: function Go() {\n        this.Xo(this.Po), this.Xo(this.ko);\n      }\n    }, {\n      key: \"Jo\",\n      value: function Jo() {\n        var _this31 = this;\n        this.Wo(this.Po), this.Wo(this.ko), this.dl.forEach(function (t) {\n          _this31.Un(t) && _this31.Wo(t.Wt());\n        }), this.Ao(), this.ts.ar();\n      }\n    }, {\n      key: \"Dt\",\n      value: function Dt() {\n        return null === this.pl && (this.pl = ui(this.dl)), this.pl;\n      }\n    }, {\n      key: \"Qo\",\n      value: function Qo(t, i) {\n        i = Yt(i, 0, this.dl.length - 1);\n        var s = this.dl.indexOf(t);\n        r(-1 !== s, \"setSeriesOrder: invalid data source\"), this.dl.splice(s, 1), this.dl.splice(i, 0, t), this.dl.forEach(function (t, i) {\n          return t.ls(i);\n        }), this.pl = null;\n        for (var _i23 = 0, _arr = [this.Po, this.ko]; _i23 < _arr.length; _i23++) {\n          var _t29 = _arr[_i23];\n          _t29.Ql(), _t29.ga();\n        }\n        this.ts.ar();\n      }\n    }, {\n      key: \"Vt\",\n      value: function Vt() {\n        return this.Dt().filter(vi);\n      }\n    }, {\n      key: \"t_\",\n      value: function t_() {\n        return this.So;\n      }\n    }, {\n      key: \"i_\",\n      value: function i_() {\n        return this.Co;\n      }\n    }, {\n      key: \"ua\",\n      value: function ua(t) {\n        this.yh.push(new Et(t));\n      }\n    }, {\n      key: \"ca\",\n      value: function ca(t) {\n        this.yh = this.yh.filter(function (i) {\n          return i.oh() !== t;\n        }), t.detached && t.detached(), this.ts.ar();\n      }\n    }, {\n      key: \"s_\",\n      value: function s_() {\n        return this.yh;\n      }\n    }, {\n      key: \"sa\",\n      value: function sa(t, i) {\n        return this.yh.map(function (s) {\n          return s.Yn(t, i);\n        }).filter(function (t) {\n          return null !== t;\n        });\n      }\n    }, {\n      key: \"Xo\",\n      value: function Xo(t) {\n        var i = t[\"do\"]();\n        if (i && i.length > 0 && !this.uh.Ki()) {\n          var _i24 = this.uh.Pe();\n          null !== _i24 && t.fo(_i24);\n        }\n        t.Ns();\n      }\n    }, {\n      key: \"No\",\n      value: function No(t, i, s) {\n        var n = this.Do(i);\n        if (null === n && (n = this.yo(i, this.ts.N().overlayPriceScales)), this.dl.splice(s, 0, t), !q(i)) {\n          var _s16 = this.wo.get(i) || [];\n          _s16.push(t), this.wo.set(i, _s16);\n        }\n        t.ls(s), n.Jl(t), t._s(n), this.Wo(n), this.pl = null;\n      }\n    }, {\n      key: \"To\",\n      value: function To(t, i, s) {\n        i.ie !== s.ie && this.Xo(t);\n      }\n    }, {\n      key: \"yo\",\n      value: function yo(t, i) {\n        var s = _objectSpread({\n            visible: !0,\n            autoScale: !0\n          }, p(i)),\n          n = new pi(t, s, this.ts.N().layout, this.ts.N().localization, this.ts.Xi());\n        return n.zl(this.$t()), n;\n      }\n    }]);\n  }();\n  function wi(t) {\n    return {\n      n_: t.n_,\n      e_: {\n        Kn: t.r_.externalId\n      },\n      h_: t.r_.cursorStyle\n    };\n  }\n  function gi(t, i, s, n) {\n    var _iterator10 = _createForOfIteratorHelper(t),\n      _step10;\n    try {\n      for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n        var _e9 = _step10.value;\n        var _t30 = _e9.Tt(n);\n        if (null !== _t30 && _t30.Yn) {\n          var _n7 = _t30.Yn(i, s);\n          if (null !== _n7) return {\n            a_: _e9,\n            e_: _n7\n          };\n        }\n      }\n    } catch (err) {\n      _iterator10.e(err);\n    } finally {\n      _iterator10.f();\n    }\n    return null;\n  }\n  function Mi(t) {\n    return void 0 !== t.Ws;\n  }\n  function bi(t, i, s) {\n    var n = [t].concat(_toConsumableArray(t.Dt())),\n      e = function (t, i, s) {\n        var n, e;\n        var _iterator11 = _createForOfIteratorHelper(t),\n          _step11;\n        try {\n          for (_iterator11.s(); !(_step11 = _iterator11.n()).done;) {\n            var _a7$sa, _a7$sa2;\n            var _a7 = _step11.value;\n            var _t31 = (_a7$sa = (_a7$sa2 = _a7.sa) === null || _a7$sa2 === void 0 ? void 0 : _a7$sa2.call(_a7, i, s)) !== null && _a7$sa !== void 0 ? _a7$sa : [];\n            var _iterator12 = _createForOfIteratorHelper(_t31),\n              _step12;\n            try {\n              for (_iterator12.s(); !(_step12 = _iterator12.n()).done;) {\n                var _n8;\n                var _i25 = _step12.value;\n                r = _i25.zOrder, h = (_n8 = n) === null || _n8 === void 0 ? void 0 : _n8.zOrder, (!h || \"top\" === r && \"top\" !== h || \"normal\" === r && \"bottom\" === h) && (n = _i25, e = _a7);\n              }\n            } catch (err) {\n              _iterator12.e(err);\n            } finally {\n              _iterator12.f();\n            }\n          }\n        } catch (err) {\n          _iterator11.e(err);\n        } finally {\n          _iterator11.f();\n        }\n        var r, h;\n        return n && e ? {\n          r_: n,\n          n_: e\n        } : null;\n      }(n, i, s);\n    if (\"top\" === (e === null || e === void 0 ? void 0 : e.r_.zOrder)) return wi(e);\n    var _iterator13 = _createForOfIteratorHelper(n),\n      _step13;\n    try {\n      for (_iterator13.s(); !(_step13 = _iterator13.n()).done;) {\n        var _r6 = _step13.value;\n        if (e && e.n_ === _r6 && \"bottom\" !== e.r_.zOrder && !e.r_.isBackground) return wi(e);\n        if (Mi(_r6)) {\n          var _n9 = gi(_r6.Ws(t), i, s, t);\n          if (null !== _n9) return {\n            n_: _r6,\n            a_: _n9.a_,\n            e_: _n9.e_\n          };\n        }\n        if (e && e.n_ === _r6 && \"bottom\" !== e.r_.zOrder && e.r_.isBackground) return wi(e);\n      }\n    } catch (err) {\n      _iterator13.e(err);\n    } finally {\n      _iterator13.f();\n    }\n    return e !== null && e !== void 0 && e.r_ ? wi(e) : null;\n  }\n  var xi = /*#__PURE__*/function () {\n    function xi(t, i) {\n      var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 50;\n      _classCallCheck(this, xi);\n      this.yn = 0, this.kn = 1, this.Tn = 1, this.Dn = new Map(), this.Rn = new Map(), this.l_ = t, this.o_ = i, this.En = s;\n    }\n    return _createClass(xi, [{\n      key: \"__\",\n      value: function __(t) {\n        var i = t.time,\n          s = this.o_.cacheKey(i),\n          n = this.Dn.get(s);\n        if (void 0 !== n) return n.u_;\n        if (this.yn === this.En) {\n          var _t32 = this.Rn.get(this.Tn);\n          this.Rn[\"delete\"](this.Tn), this.Dn[\"delete\"](h(_t32)), this.Tn++, this.yn--;\n        }\n        var e = this.l_(t);\n        return this.Dn.set(s, {\n          u_: e,\n          An: this.kn\n        }), this.Rn.set(this.kn, s), this.yn++, this.kn++, e;\n      }\n    }]);\n  }();\n  var Si = /*#__PURE__*/function () {\n    function Si(t, i) {\n      _classCallCheck(this, Si);\n      r(t <= i, \"right should be >= left\"), this.c_ = t, this.d_ = i;\n    }\n    return _createClass(Si, [{\n      key: \"Uh\",\n      value: function Uh() {\n        return this.c_;\n      }\n    }, {\n      key: \"bi\",\n      value: function bi() {\n        return this.d_;\n      }\n    }, {\n      key: \"f_\",\n      value: function f_() {\n        return this.d_ - this.c_ + 1;\n      }\n    }, {\n      key: \"Te\",\n      value: function Te(t) {\n        return this.c_ <= t && t <= this.d_;\n      }\n    }, {\n      key: \"He\",\n      value: function He(t) {\n        return this.c_ === t.Uh() && this.d_ === t.bi();\n      }\n    }]);\n  }();\n  function Ci(t, i) {\n    return null === t || null === i ? t === i : t.He(i);\n  }\n  var Pi = /*#__PURE__*/function () {\n    function Pi() {\n      _classCallCheck(this, Pi);\n      this.p_ = new Map(), this.Dn = null, this.v_ = !1;\n    }\n    return _createClass(Pi, [{\n      key: \"m_\",\n      value: function m_(t) {\n        this.v_ = t, this.Dn = null;\n      }\n    }, {\n      key: \"w_\",\n      value: function w_(t, i) {\n        this.g_(i), this.Dn = null;\n        for (var _s17 = i; _s17 < t.length; ++_s17) {\n          var _i26 = t[_s17];\n          var _n0 = this.p_.get(_i26.timeWeight);\n          void 0 === _n0 && (_n0 = [], this.p_.set(_i26.timeWeight, _n0)), _n0.push({\n            index: _s17,\n            time: _i26.time,\n            weight: _i26.timeWeight,\n            originalTime: _i26.originalTime\n          });\n        }\n      }\n    }, {\n      key: \"M_\",\n      value: function M_(t, i, s, n, e) {\n        var r = Math.ceil(i / t);\n        return null !== this.Dn && this.Dn.b_ === r && e === this.Dn.x_ && s === this.Dn.S_ || (this.Dn = {\n          x_: e,\n          S_: s,\n          Ea: this.C_(r, s, n),\n          b_: r\n        }), this.Dn.Ea;\n      }\n    }, {\n      key: \"g_\",\n      value: function g_(t) {\n        if (0 === t) return void this.p_.clear();\n        var i = [];\n        this.p_.forEach(function (s, n) {\n          t <= s[0].index ? i.push(n) : s.splice(xt(s, t, function (i) {\n            return i.index < t;\n          }), 1 / 0);\n        });\n        for (var _i28 = 0, _i27 = i; _i28 < _i27.length; _i28++) {\n          var _t33 = _i27[_i28];\n          this.p_[\"delete\"](_t33);\n        }\n      }\n    }, {\n      key: \"C_\",\n      value: function C_(t, i, s) {\n        var n = [];\n        var e = function e(t) {\n          return !i || s.has(t.index);\n        };\n        var _iterator14 = _createForOfIteratorHelper(Array.from(this.p_.keys()).sort(function (t, i) {\n            return i - t;\n          })),\n          _step14;\n        try {\n          for (_iterator14.s(); !(_step14 = _iterator14.n()).done;) {\n            var _i29 = _step14.value;\n            if (!this.p_.get(_i29)) continue;\n            var _s18 = n;\n            n = [];\n            var _r7 = _s18.length;\n            var _a8 = 0;\n            var _l6 = h(this.p_.get(_i29)),\n              _o3 = _l6.length;\n            var _4 = 1 / 0,\n              _u3 = -1 / 0;\n            for (var _i30 = 0; _i30 < _o3; _i30++) {\n              var _h5 = _l6[_i30],\n                _o4 = _h5.index;\n              for (; _a8 < _r7;) {\n                var _t34 = _s18[_a8],\n                  _i31 = _t34.index;\n                if (!(_i31 < _o4 && e(_t34))) {\n                  _4 = _i31;\n                  break;\n                }\n                _a8++, n.push(_t34), _u3 = _i31, _4 = 1 / 0;\n              }\n              if (_4 - _o4 >= t && _o4 - _u3 >= t && e(_h5)) n.push(_h5), _u3 = _o4;else if (this.v_) return _s18;\n            }\n            for (; _a8 < _r7; _a8++) e(_s18[_a8]) && n.push(_s18[_a8]);\n          }\n        } catch (err) {\n          _iterator14.e(err);\n        } finally {\n          _iterator14.f();\n        }\n        return n;\n      }\n    }]);\n  }();\n  var yi = /*#__PURE__*/function () {\n    function yi(t) {\n      _classCallCheck(this, yi);\n      this.P_ = t;\n    }\n    return _createClass(yi, [{\n      key: \"y_\",\n      value: function y_() {\n        return null === this.P_ ? null : new Si(Math.floor(this.P_.Uh()), Math.ceil(this.P_.bi()));\n      }\n    }, {\n      key: \"k_\",\n      value: function k_() {\n        return this.P_;\n      }\n    }], [{\n      key: \"T_\",\n      value: function T_() {\n        return new yi(null);\n      }\n    }]);\n  }();\n  function ki(t, i) {\n    return t.weight > i.weight ? t : i;\n  }\n  var Ti = /*#__PURE__*/function () {\n    function Ti(t, i, s, n) {\n      _classCallCheck(this, Ti);\n      this.Mo = 0, this.R_ = null, this.D_ = [], this.wl = null, this.ml = null, this.E_ = new Pi(), this.V_ = new Map(), this.B_ = yi.T_(), this.I_ = !0, this.A_ = new o(), this.z_ = new o(), this.O_ = new o(), this.L_ = null, this.N_ = null, this.W_ = new Map(), this.F_ = -1, this.H_ = [], this.Ps = i, this.xl = s, this.U_ = i.rightOffset, this.j_ = i.barSpacing, this.ts = t, this.o_ = n, this.q_(), this.E_.m_(i.uniformDistribution), this.Y_();\n    }\n    return _createClass(Ti, [{\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"K_\",\n      value: function K_(t) {\n        _(this.xl, t), this.X_(), this.q_();\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t, i) {\n        var _t$barSpacing;\n        _(this.Ps, t), this.Ps.fixLeftEdge && this.Z_(), this.Ps.fixRightEdge && this.G_(), void 0 !== t.barSpacing && this.ts.dn(t.barSpacing), void 0 !== t.rightOffset && this.ts.fn(t.rightOffset), void 0 === t.minBarSpacing && void 0 === t.maxBarSpacing || this.ts.dn((_t$barSpacing = t.barSpacing) !== null && _t$barSpacing !== void 0 ? _t$barSpacing : this.j_), void 0 !== t.ignoreWhitespaceIndices && t.ignoreWhitespaceIndices !== this.Ps.ignoreWhitespaceIndices && this.Y_(), this.X_(), this.q_(), this.O_.p();\n      }\n    }, {\n      key: \"Rs\",\n      value: function Rs(t) {\n        var _this$D_$t$time, _this$D_$t;\n        return (_this$D_$t$time = (_this$D_$t = this.D_[t]) === null || _this$D_$t === void 0 ? void 0 : _this$D_$t.time) !== null && _this$D_$t$time !== void 0 ? _this$D_$t$time : null;\n      }\n    }, {\n      key: \"ss\",\n      value: function ss(t) {\n        var _this$D_$t2;\n        return (_this$D_$t2 = this.D_[t]) !== null && _this$D_$t2 !== void 0 ? _this$D_$t2 : null;\n      }\n    }, {\n      key: \"J_\",\n      value: function J_(t, i) {\n        var _this32 = this;\n        if (this.D_.length < 1) return null;\n        if (this.o_.key(t) > this.o_.key(this.D_[this.D_.length - 1].time)) return i ? this.D_.length - 1 : null;\n        var s = xt(this.D_, this.o_.key(t), function (t, i) {\n          return _this32.o_.key(t.time) < i;\n        });\n        return this.o_.key(t) < this.o_.key(this.D_[s].time) ? i ? s : null : s;\n      }\n    }, {\n      key: \"Ki\",\n      value: function Ki() {\n        return 0 === this.Mo || 0 === this.D_.length || null === this.R_;\n      }\n    }, {\n      key: \"Q_\",\n      value: function Q_() {\n        return this.D_.length > 0;\n      }\n    }, {\n      key: \"Pe\",\n      value: function Pe() {\n        return this.tu(), this.B_.y_();\n      }\n    }, {\n      key: \"iu\",\n      value: function iu() {\n        return this.tu(), this.B_.k_();\n      }\n    }, {\n      key: \"su\",\n      value: function su() {\n        var t = this.Pe();\n        if (null === t) return null;\n        var i = {\n          from: t.Uh(),\n          to: t.bi()\n        };\n        return this.nu(i);\n      }\n    }, {\n      key: \"nu\",\n      value: function nu(t) {\n        var i = Math.round(t.from),\n          s = Math.round(t.to),\n          n = a(this.eu()),\n          e = a(this.ru());\n        return {\n          from: a(this.ss(Math.max(n, i))),\n          to: a(this.ss(Math.min(e, s)))\n        };\n      }\n    }, {\n      key: \"hu\",\n      value: function hu(t) {\n        return {\n          from: a(this.J_(t.from, !0)),\n          to: a(this.J_(t.to, !0))\n        };\n      }\n    }, {\n      key: \"Qi\",\n      value: function Qi() {\n        return this.Mo;\n      }\n    }, {\n      key: \"Io\",\n      value: function Io(t) {\n        if (!isFinite(t) || t <= 0) return;\n        if (this.Mo === t) return;\n        var i = this.iu(),\n          s = this.Mo;\n        if (this.Mo = t, this.I_ = !0, this.Ps.lockVisibleTimeRangeOnResize && 0 !== s) {\n          var _i32 = this.j_ * t / s;\n          this.j_ = _i32;\n        }\n        if (this.Ps.fixLeftEdge && null !== i && i.Uh() <= 0) {\n          var _i33 = s - t;\n          this.U_ -= Math.round(_i33 / this.j_) + 1, this.I_ = !0;\n        }\n        this.au(), this.lu();\n      }\n    }, {\n      key: \"jt\",\n      value: function jt(t) {\n        if (this.Ki() || !c(t)) return 0;\n        var i = this.ou() + this.U_ - t;\n        return this.Mo - (i + .5) * this.j_ - 1;\n      }\n    }, {\n      key: \"_u\",\n      value: function _u(t, i) {\n        var s = this.ou(),\n          n = void 0 === i ? 0 : i.from,\n          e = void 0 === i ? t.length : i.to;\n        for (var _i34 = n; _i34 < e; _i34++) {\n          var _n1 = t[_i34].wt,\n            _e0 = s + this.U_ - _n1,\n            _r8 = this.Mo - (_e0 + .5) * this.j_ - 1;\n          t[_i34]._t = _r8;\n        }\n      }\n    }, {\n      key: \"uu\",\n      value: function uu(t, i) {\n        var s = Math.ceil(this.cu(t));\n        return i && this.Ps.ignoreWhitespaceIndices && !this.du(s) ? this.fu(s) : s;\n      }\n    }, {\n      key: \"fn\",\n      value: function fn(t) {\n        this.I_ = !0, this.U_ = t, this.lu(), this.ts.pu(), this.ts.ar();\n      }\n    }, {\n      key: \"vu\",\n      value: function vu() {\n        return this.j_;\n      }\n    }, {\n      key: \"dn\",\n      value: function dn(t) {\n        this.mu(t), this.lu(), this.ts.pu(), this.ts.ar();\n      }\n    }, {\n      key: \"wu\",\n      value: function wu() {\n        return this.U_;\n      }\n    }, {\n      key: \"Ea\",\n      value: function Ea() {\n        if (this.Ki()) return null;\n        if (null !== this.N_) return this.N_;\n        var t = this.j_,\n          i = 5 * (this.ts.N().layout.fontSize + 4) / 8 * (this.Ps.tickMarkMaxCharacterLength || 8),\n          s = Math.round(i / t),\n          n = a(this.Pe()),\n          e = Math.max(n.Uh(), n.Uh() - s),\n          r = Math.max(n.bi(), n.bi() - s),\n          h = this.E_.M_(t, i, this.Ps.ignoreWhitespaceIndices, this.W_, this.F_),\n          l = this.eu() + s,\n          o = this.ru() - s,\n          _ = this.gu(),\n          u = this.Ps.fixLeftEdge || _,\n          c = this.Ps.fixRightEdge || _;\n        var d = 0;\n        var _iterator15 = _createForOfIteratorHelper(h),\n          _step15;\n        try {\n          for (_iterator15.s(); !(_step15 = _iterator15.n()).done;) {\n            var _t35 = _step15.value;\n            if (!(e <= _t35.index && _t35.index <= r)) continue;\n            var _s19 = void 0;\n            d < this.H_.length ? (_s19 = this.H_[d], _s19.coord = this.jt(_t35.index), _s19.label = this.Mu(_t35), _s19.weight = _t35.weight) : (_s19 = {\n              needAlignCoordinate: !1,\n              coord: this.jt(_t35.index),\n              label: this.Mu(_t35),\n              weight: _t35.weight\n            }, this.H_.push(_s19)), this.j_ > i / 2 && !_ ? _s19.needAlignCoordinate = !1 : _s19.needAlignCoordinate = u && _t35.index <= l || c && _t35.index >= o, d++;\n          }\n        } catch (err) {\n          _iterator15.e(err);\n        } finally {\n          _iterator15.f();\n        }\n        return this.H_.length = d, this.N_ = this.H_, this.H_;\n      }\n    }, {\n      key: \"bu\",\n      value: function bu() {\n        this.I_ = !0, this.dn(this.Ps.barSpacing), this.fn(this.Ps.rightOffset);\n      }\n    }, {\n      key: \"xu\",\n      value: function xu(t) {\n        this.I_ = !0, this.R_ = t, this.lu(), this.Z_();\n      }\n    }, {\n      key: \"Su\",\n      value: function Su(t, i) {\n        var s = this.cu(t),\n          n = this.vu(),\n          e = n + i * (n / 10);\n        this.dn(e), this.Ps.rightBarStaysOnScroll || this.fn(this.wu() + (s - this.cu(t)));\n      }\n    }, {\n      key: \"eo\",\n      value: function eo(t) {\n        this.wl && this.oo(), null === this.ml && null === this.L_ && (this.Ki() || (this.ml = t, this.Cu()));\n      }\n    }, {\n      key: \"ro\",\n      value: function ro(t) {\n        if (null === this.L_) return;\n        var i = Yt(this.Mo - t, 0, this.Mo),\n          s = Yt(this.Mo - a(this.ml), 0, this.Mo);\n        0 !== i && 0 !== s && this.dn(this.L_.vu * i / s);\n      }\n    }, {\n      key: \"ho\",\n      value: function ho() {\n        null !== this.ml && (this.ml = null, this.Pu());\n      }\n    }, {\n      key: \"ao\",\n      value: function ao(t) {\n        null === this.wl && null === this.L_ && (this.Ki() || (this.wl = t, this.Cu()));\n      }\n    }, {\n      key: \"lo\",\n      value: function lo(t) {\n        if (null === this.wl) return;\n        var i = (this.wl - t) / this.vu();\n        this.U_ = a(this.L_).wu + i, this.I_ = !0, this.lu();\n      }\n    }, {\n      key: \"oo\",\n      value: function oo() {\n        null !== this.wl && (this.wl = null, this.Pu());\n      }\n    }, {\n      key: \"yu\",\n      value: function yu() {\n        this.ku(this.Ps.rightOffset);\n      }\n    }, {\n      key: \"ku\",\n      value: function ku(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n        if (!isFinite(t)) throw new RangeError(\"offset is required and must be finite number\");\n        if (!isFinite(i) || i <= 0) throw new RangeError(\"animationDuration (optional) must be finite positive number\");\n        var s = this.U_,\n          n = performance.now();\n        this.ts._n({\n          Tu: function Tu(t) {\n            return (t - n) / i >= 1;\n          },\n          Ru: function Ru(e) {\n            var r = (e - n) / i;\n            return r >= 1 ? t : s + (t - s) * r;\n          }\n        });\n      }\n    }, {\n      key: \"yt\",\n      value: function yt(t, i) {\n        this.I_ = !0, this.D_ = t, this.E_.w_(t, i), this.lu();\n      }\n    }, {\n      key: \"Du\",\n      value: function Du() {\n        return this.A_;\n      }\n    }, {\n      key: \"Eu\",\n      value: function Eu() {\n        return this.z_;\n      }\n    }, {\n      key: \"Vu\",\n      value: function Vu() {\n        return this.O_;\n      }\n    }, {\n      key: \"ou\",\n      value: function ou() {\n        return this.R_ || 0;\n      }\n    }, {\n      key: \"Bu\",\n      value: function Bu(t) {\n        var i = t.f_();\n        this.mu(this.Mo / i), this.U_ = t.bi() - this.ou(), this.lu(), this.I_ = !0, this.ts.pu(), this.ts.ar();\n      }\n    }, {\n      key: \"Iu\",\n      value: function Iu() {\n        var t = this.eu(),\n          i = this.ru();\n        null !== t && null !== i && this.Bu(new Si(t, i + this.Ps.rightOffset));\n      }\n    }, {\n      key: \"Au\",\n      value: function Au(t) {\n        var i = new Si(t.from, t.to);\n        this.Bu(i);\n      }\n    }, {\n      key: \"ns\",\n      value: function ns(t) {\n        return void 0 !== this.xl.timeFormatter ? this.xl.timeFormatter(t.originalTime) : this.o_.formatHorzItem(t.time);\n      }\n    }, {\n      key: \"Y_\",\n      value: function Y_() {\n        if (!this.Ps.ignoreWhitespaceIndices) return;\n        this.W_.clear();\n        var t = this.ts.Ys();\n        var _iterator16 = _createForOfIteratorHelper(t),\n          _step16;\n        try {\n          for (_iterator16.s(); !(_step16 = _iterator16.n()).done;) {\n            var _i35 = _step16.value;\n            var _iterator17 = _createForOfIteratorHelper(_i35.ma()),\n              _step17;\n            try {\n              for (_iterator17.s(); !(_step17 = _iterator17.n()).done;) {\n                var _t36 = _step17.value;\n                this.W_.set(_t36, !0);\n              }\n            } catch (err) {\n              _iterator17.e(err);\n            } finally {\n              _iterator17.f();\n            }\n          }\n        } catch (err) {\n          _iterator16.e(err);\n        } finally {\n          _iterator16.f();\n        }\n        this.F_++;\n      }\n    }, {\n      key: \"gu\",\n      value: function gu() {\n        var t = this.ts.N().handleScroll,\n          i = this.ts.N().handleScale;\n        return !(t.horzTouchDrag || t.mouseWheel || t.pressedMouseMove || t.vertTouchDrag || i.axisDoubleClickReset.time || i.axisPressedMouseMove.time || i.mouseWheel || i.pinch);\n      }\n    }, {\n      key: \"eu\",\n      value: function eu() {\n        return 0 === this.D_.length ? null : 0;\n      }\n    }, {\n      key: \"ru\",\n      value: function ru() {\n        return 0 === this.D_.length ? null : this.D_.length - 1;\n      }\n    }, {\n      key: \"zu\",\n      value: function zu(t) {\n        return (this.Mo - 1 - t) / this.j_;\n      }\n    }, {\n      key: \"cu\",\n      value: function cu(t) {\n        var i = this.zu(t),\n          s = this.ou() + this.U_ - i;\n        return Math.round(1e6 * s) / 1e6;\n      }\n    }, {\n      key: \"mu\",\n      value: function mu(t) {\n        var i = this.j_;\n        this.j_ = t, this.au(), i !== this.j_ && (this.I_ = !0, this.Ou());\n      }\n    }, {\n      key: \"tu\",\n      value: function tu() {\n        if (!this.I_) return;\n        if (this.I_ = !1, this.Ki()) return void this.Lu(yi.T_());\n        var t = this.ou(),\n          i = this.Mo / this.j_,\n          s = this.U_ + t,\n          n = new Si(s - i + 1, s);\n        this.Lu(new yi(n));\n      }\n    }, {\n      key: \"au\",\n      value: function au() {\n        var t = Yt(this.j_, this.Nu(), this.Wu());\n        this.j_ !== t && (this.j_ = t, this.I_ = !0);\n      }\n    }, {\n      key: \"Wu\",\n      value: function Wu() {\n        return this.Ps.maxBarSpacing > 0 ? this.Ps.maxBarSpacing : .5 * this.Mo;\n      }\n    }, {\n      key: \"Nu\",\n      value: function Nu() {\n        return this.Ps.fixLeftEdge && this.Ps.fixRightEdge && 0 !== this.D_.length ? this.Mo / this.D_.length : this.Ps.minBarSpacing;\n      }\n    }, {\n      key: \"lu\",\n      value: function lu() {\n        var t = this.Fu();\n        null !== t && this.U_ < t && (this.U_ = t, this.I_ = !0);\n        var i = this.Hu();\n        this.U_ > i && (this.U_ = i, this.I_ = !0);\n      }\n    }, {\n      key: \"Fu\",\n      value: function Fu() {\n        var t = this.eu(),\n          i = this.R_;\n        if (null === t || null === i) return null;\n        return t - i - 1 + (this.Ps.fixLeftEdge ? this.Mo / this.j_ : Math.min(2, this.D_.length));\n      }\n    }, {\n      key: \"Hu\",\n      value: function Hu() {\n        return this.Ps.fixRightEdge ? 0 : this.Mo / this.j_ - Math.min(2, this.D_.length);\n      }\n    }, {\n      key: \"Cu\",\n      value: function Cu() {\n        this.L_ = {\n          vu: this.vu(),\n          wu: this.wu()\n        };\n      }\n    }, {\n      key: \"Pu\",\n      value: function Pu() {\n        this.L_ = null;\n      }\n    }, {\n      key: \"Mu\",\n      value: function Mu(t) {\n        var _this33 = this;\n        var i = this.V_.get(t.weight);\n        return void 0 === i && (i = new xi(function (t) {\n          return _this33.Uu(t);\n        }, this.o_), this.V_.set(t.weight, i)), i.__(t);\n      }\n    }, {\n      key: \"Uu\",\n      value: function Uu(t) {\n        return this.o_.formatTickmark(t, this.xl);\n      }\n    }, {\n      key: \"Lu\",\n      value: function Lu(t) {\n        var i = this.B_;\n        this.B_ = t, Ci(i.y_(), this.B_.y_()) || this.A_.p(), Ci(i.k_(), this.B_.k_()) || this.z_.p(), this.Ou();\n      }\n    }, {\n      key: \"Ou\",\n      value: function Ou() {\n        this.N_ = null;\n      }\n    }, {\n      key: \"X_\",\n      value: function X_() {\n        this.Ou(), this.V_.clear();\n      }\n    }, {\n      key: \"q_\",\n      value: function q_() {\n        this.o_.updateFormatter(this.xl);\n      }\n    }, {\n      key: \"Z_\",\n      value: function Z_() {\n        if (!this.Ps.fixLeftEdge) return;\n        var t = this.eu();\n        if (null === t) return;\n        var i = this.Pe();\n        if (null === i) return;\n        var s = i.Uh() - t;\n        if (s < 0) {\n          var _t37 = this.U_ - s - 1;\n          this.fn(_t37);\n        }\n        this.au();\n      }\n    }, {\n      key: \"G_\",\n      value: function G_() {\n        this.lu(), this.au();\n      }\n    }, {\n      key: \"du\",\n      value: function du(t) {\n        return !this.Ps.ignoreWhitespaceIndices || this.W_.get(t) || !1;\n      }\n    }, {\n      key: \"fu\",\n      value: function fu(t) {\n        var i = /*#__PURE__*/_regenerator().m(function _callee(t) {\n            var i, s, n;\n            return _regenerator().w(function (_context) {\n              while (1) switch (_context.n) {\n                case 0:\n                  i = Math.round(t), s = i < t;\n                  n = 1;\n                case 1:\n                  if (!s) {\n                    _context.n = 4;\n                    break;\n                  }\n                  _context.n = 2;\n                  return i + n;\n                case 2:\n                  _context.n = 3;\n                  return i - n;\n                case 3:\n                  _context.n = 6;\n                  break;\n                case 4:\n                  _context.n = 5;\n                  return i - n;\n                case 5:\n                  _context.n = 6;\n                  return i + n;\n                case 6:\n                  n++;\n                case 7:\n                  _context.n = 1;\n                  break;\n                case 8:\n                  return _context.a(2);\n              }\n            }, _callee);\n          })(t),\n          s = this.ru();\n        for (; s;) {\n          var _t38 = i.next().value;\n          if (this.W_.get(_t38)) return _t38;\n          if (_t38 < 0 || _t38 > s) break;\n        }\n        return t;\n      }\n    }]);\n  }();\n  var Ri, Di, Ei, Vi, Bi;\n  !function (t) {\n    t[t.OnTouchEnd = 0] = \"OnTouchEnd\", t[t.OnNextTap = 1] = \"OnNextTap\";\n  }(Ri || (Ri = {}));\n  var Ii = /*#__PURE__*/function () {\n    function Ii(t, i, s) {\n      _classCallCheck(this, Ii);\n      this.$u = [], this.ju = [], this.Mo = 0, this.qu = null, this.Yu = new o(), this.Ku = new o(), this.Xu = null, this.Zu = t, this.Ps = i, this.o_ = s, this.Sl = new S(this.Ps.layout.colorParsers), this.Gu = new M(this), this.uh = new Ti(this, i.timeScale, this.Ps.localization, s), this.Ct = new j(this, i.crosshair), this.Ju = new qt(i.crosshair), i.addDefaultPane && (this.Qu(0), this.$u[0].Bo(2)), this.tc = this.sc(0), this.nc = this.sc(1);\n    }\n    return _createClass(Ii, [{\n      key: \"Bh\",\n      value: function Bh() {\n        this.ec(Y.gn());\n      }\n    }, {\n      key: \"ar\",\n      value: function ar() {\n        this.ec(Y.wn());\n      }\n    }, {\n      key: \"Zh\",\n      value: function Zh() {\n        this.ec(new Y(1));\n      }\n    }, {\n      key: \"Ih\",\n      value: function Ih(t) {\n        var i = this.rc(t);\n        this.ec(i);\n      }\n    }, {\n      key: \"hc\",\n      value: function hc() {\n        return this.qu;\n      }\n    }, {\n      key: \"ac\",\n      value: function ac(t) {\n        var _this$qu, _this$qu2, _this$qu2$e_, _t$e_;\n        if (((_this$qu = this.qu) === null || _this$qu === void 0 ? void 0 : _this$qu.n_) === (t === null || t === void 0 ? void 0 : t.n_) && ((_this$qu2 = this.qu) === null || _this$qu2 === void 0 ? void 0 : (_this$qu2$e_ = _this$qu2.e_) === null || _this$qu2$e_ === void 0 ? void 0 : _this$qu2$e_.Kn) === (t === null || t === void 0 ? void 0 : (_t$e_ = t.e_) === null || _t$e_ === void 0 ? void 0 : _t$e_.Kn)) return;\n        var i = this.qu;\n        this.qu = t, null !== i && this.Ih(i.n_), null !== t && t.n_ !== (i === null || i === void 0 ? void 0 : i.n_) && this.Ih(t.n_);\n      }\n    }, {\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        _(this.Ps, t), this.$u.forEach(function (i) {\n          return i.Ro(t);\n        }), void 0 !== t.timeScale && this.uh.hr(t.timeScale), void 0 !== t.localization && this.uh.K_(t.localization), (t.leftPriceScale || t.rightPriceScale) && this.Yu.p(), this.tc = this.sc(0), this.nc = this.sc(1), this.Bh();\n      }\n    }, {\n      key: \"lc\",\n      value: function lc(t, i) {\n        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var n = this.$u[s];\n        if (void 0 === n) return;\n        if (\"left\" === t) return _(this.Ps, {\n          leftPriceScale: i\n        }), n.Ro({\n          leftPriceScale: i\n        }), this.Yu.p(), void this.Bh();\n        if (\"right\" === t) return _(this.Ps, {\n          rightPriceScale: i\n        }), n.Ro({\n          rightPriceScale: i\n        }), this.Yu.p(), void this.Bh();\n        var e = this.oc(t, s);\n        null !== e && (e.Wt.hr(i), this.Yu.p());\n      }\n    }, {\n      key: \"oc\",\n      value: function oc(t, i) {\n        var s = this.$u[i];\n        if (void 0 === s) return null;\n        var n = s.Do(t);\n        return null !== n ? {\n          Us: s,\n          Wt: n\n        } : null;\n      }\n    }, {\n      key: \"It\",\n      value: function It() {\n        return this.uh;\n      }\n    }, {\n      key: \"$s\",\n      value: function $s() {\n        return this.$u;\n      }\n    }, {\n      key: \"_c\",\n      value: function _c() {\n        return this.Ct;\n      }\n    }, {\n      key: \"uc\",\n      value: function uc() {\n        return this.Ku;\n      }\n    }, {\n      key: \"cc\",\n      value: function cc(t, i) {\n        t.zl(i), this.pu();\n      }\n    }, {\n      key: \"Io\",\n      value: function Io(t) {\n        this.Mo = t, this.uh.Io(this.Mo), this.$u.forEach(function (i) {\n          return i.Io(t);\n        }), this.pu();\n      }\n    }, {\n      key: \"dc\",\n      value: function dc(t) {\n        1 !== this.$u.length && (r(t >= 0 && t < this.$u.length, \"Invalid pane index\"), this.$u.splice(t, 1), this.Bh());\n      }\n    }, {\n      key: \"fc\",\n      value: function fc(t, i) {\n        if (this.$u.length < 2) return;\n        r(t >= 0 && t < this.$u.length, \"Invalid pane index\");\n        var s = this.$u[t],\n          n = this.$u.reduce(function (t, i) {\n            return t + i.Vo();\n          }, 0),\n          e = this.$u.reduce(function (t, i) {\n            return t + i.$t();\n          }, 0),\n          h = e - 30 * (this.$u.length - 1);\n        i = Math.min(h, Math.max(30, i));\n        var a = n / e,\n          l = s.$t();\n        s.Bo(i * a);\n        var o = i - l,\n          _ = this.$u.length - 1;\n        var _iterator18 = _createForOfIteratorHelper(this.$u),\n          _step18;\n        try {\n          for (_iterator18.s(); !(_step18 = _iterator18.n()).done;) {\n            var _t39 = _step18.value;\n            if (_t39 !== s) {\n              var _i36 = Math.min(h, Math.max(30, _t39.$t() - o / _));\n              o -= _t39.$t() - _i36, _ -= 1;\n              var _s20 = _i36 * a;\n              _t39.Bo(_s20);\n            }\n          }\n        } catch (err) {\n          _iterator18.e(err);\n        } finally {\n          _iterator18.f();\n        }\n        this.Bh();\n      }\n    }, {\n      key: \"vc\",\n      value: function vc(t, i) {\n        r(t >= 0 && t < this.$u.length && i >= 0 && i < this.$u.length, \"Invalid pane index\");\n        var s = this.$u[t],\n          n = this.$u[i];\n        this.$u[t] = n, this.$u[i] = s, this.Bh();\n      }\n    }, {\n      key: \"mc\",\n      value: function mc(t, i) {\n        if (r(t >= 0 && t < this.$u.length && i >= 0 && i < this.$u.length, \"Invalid pane index\"), t === i) return;\n        var _this$$u$splice = this.$u.splice(t, 1),\n          _this$$u$splice2 = _slicedToArray(_this$$u$splice, 1),\n          s = _this$$u$splice2[0];\n        this.$u.splice(i, 0, s), this.Bh();\n      }\n    }, {\n      key: \"Uo\",\n      value: function Uo(t, i, s) {\n        t.Uo(i, s);\n      }\n    }, {\n      key: \"$o\",\n      value: function $o(t, i, s) {\n        t.$o(i, s), this.Ah(), this.ec(this.wc(t, 2));\n      }\n    }, {\n      key: \"jo\",\n      value: function jo(t, i) {\n        t.jo(i), this.ec(this.wc(t, 2));\n      }\n    }, {\n      key: \"qo\",\n      value: function qo(t, i, s) {\n        i.Rl() || t.qo(i, s);\n      }\n    }, {\n      key: \"Yo\",\n      value: function Yo(t, i, s) {\n        i.Rl() || (t.Yo(i, s), this.Ah(), this.ec(this.wc(t, 2)));\n      }\n    }, {\n      key: \"Ko\",\n      value: function Ko(t, i) {\n        i.Rl() || (t.Ko(i), this.ec(this.wc(t, 2)));\n      }\n    }, {\n      key: \"Zo\",\n      value: function Zo(t, i) {\n        t.Zo(i), this.ec(this.wc(t, 2));\n      }\n    }, {\n      key: \"gc\",\n      value: function gc(t) {\n        this.uh.eo(t);\n      }\n    }, {\n      key: \"Mc\",\n      value: function Mc(t, i) {\n        var s = this.It();\n        if (s.Ki() || 0 === i) return;\n        var n = s.Qi();\n        t = Math.max(1, Math.min(t, n)), s.Su(t, i), this.pu();\n      }\n    }, {\n      key: \"bc\",\n      value: function bc(t) {\n        this.xc(0), this.Sc(t), this.Cc();\n      }\n    }, {\n      key: \"Pc\",\n      value: function Pc(t) {\n        this.uh.ro(t), this.pu();\n      }\n    }, {\n      key: \"yc\",\n      value: function yc() {\n        this.uh.ho(), this.ar();\n      }\n    }, {\n      key: \"xc\",\n      value: function xc(t) {\n        this.uh.ao(t);\n      }\n    }, {\n      key: \"Sc\",\n      value: function Sc(t) {\n        this.uh.lo(t), this.pu();\n      }\n    }, {\n      key: \"Cc\",\n      value: function Cc() {\n        this.uh.oo(), this.ar();\n      }\n    }, {\n      key: \"Ys\",\n      value: function Ys() {\n        return this.ju;\n      }\n    }, {\n      key: \"kc\",\n      value: function kc(t, i, s, n, e) {\n        this.Ct.Es(t, i);\n        var r = NaN,\n          h = this.uh.uu(t, !0);\n        var a = this.uh.Pe();\n        null !== a && (h = Math.min(Math.max(a.Uh(), h), a.bi()));\n        var l = n.ks(),\n          o = l.zt();\n        if (null !== o && (r = l.Ts(i, o)), r = this.Ju.Ma(r, h, n), this.Ct.As(h, r, n), this.Zh(), !e) {\n          var _e1 = bi(n, t, i);\n          this.ac(_e1 && {\n            n_: _e1.n_,\n            e_: _e1.e_,\n            h_: _e1.h_ || null\n          }), this.Ku.p(this.Ct.Bt(), {\n            x: t,\n            y: i\n          }, s);\n        }\n      }\n    }, {\n      key: \"Tc\",\n      value: function Tc(t, i, s) {\n        var n = s.ks(),\n          e = n.zt(),\n          r = n.Nt(t, a(e)),\n          h = this.uh.J_(i, !0),\n          l = this.uh.jt(a(h));\n        this.kc(l, r, null, s, !0);\n      }\n    }, {\n      key: \"Rc\",\n      value: function Rc(t) {\n        this._c().Os(), this.Zh(), t || this.Ku.p(null, null, null);\n      }\n    }, {\n      key: \"Ah\",\n      value: function Ah() {\n        var t = this.Ct.Us();\n        if (null !== t) {\n          var _i37 = this.Ct.Bs(),\n            _s21 = this.Ct.Is();\n          this.kc(_i37, _s21, null, t);\n        }\n        this.Ct.Ns();\n      }\n    }, {\n      key: \"Dc\",\n      value: function Dc(t, i, s) {\n        var n = this.uh.Rs(0);\n        void 0 !== i && void 0 !== s && this.uh.yt(i, s);\n        var e = this.uh.Rs(0),\n          r = this.uh.ou(),\n          h = this.uh.Pe();\n        if (null !== h && null !== n && null !== e) {\n          var _i38 = h.Te(r),\n            _a9 = this.o_.key(n) > this.o_.key(e),\n            _l7 = null !== t && t > r && !_a9,\n            _o5 = this.uh.N().allowShiftVisibleRangeOnWhitespaceReplacement,\n            _5 = _i38 && (!(void 0 === s) || _o5) && this.uh.N().shiftVisibleRangeOnNewBar;\n          if (_l7 && !_5) {\n            var _i39 = t - r;\n            this.uh.fn(this.uh.wu() - _i39);\n          }\n        }\n        this.uh.xu(t);\n      }\n    }, {\n      key: \"Oh\",\n      value: function Oh(t) {\n        null !== t && t.Jo();\n      }\n    }, {\n      key: \"Hn\",\n      value: function Hn(t) {\n        if (function (t) {\n          return t instanceof mi;\n        }(t)) return t;\n        var i = this.$u.find(function (i) {\n          return i.Dt().includes(t);\n        });\n        return void 0 === i ? null : i;\n      }\n    }, {\n      key: \"pu\",\n      value: function pu() {\n        this.$u.forEach(function (t) {\n          return t.Jo();\n        }), this.Ah();\n      }\n    }, {\n      key: \"m\",\n      value: function m() {\n        this.$u.forEach(function (t) {\n          return t.m();\n        }), this.$u.length = 0, this.Ps.localization.priceFormatter = void 0, this.Ps.localization.percentageFormatter = void 0, this.Ps.localization.timeFormatter = void 0;\n      }\n    }, {\n      key: \"Ec\",\n      value: function Ec() {\n        return this.Gu;\n      }\n    }, {\n      key: \"qn\",\n      value: function qn() {\n        return this.Gu.N();\n      }\n    }, {\n      key: \"Eo\",\n      value: function Eo() {\n        return this.Yu;\n      }\n    }, {\n      key: \"Vc\",\n      value: function Vc(t, i) {\n        var s = this.Qu(i);\n        this.Bc(t, s), this.ju.push(t), 1 === this.ju.length ? this.Bh() : this.ar();\n      }\n    }, {\n      key: \"Ic\",\n      value: function Ic(t) {\n        var i = this.Hn(t),\n          s = this.ju.indexOf(t);\n        r(-1 !== s, \"Series not found\");\n        var n = a(i);\n        this.ju.splice(s, 1), n.io(t), t.m && t.m(), this.uh.Y_(), this.Ac(n);\n      }\n    }, {\n      key: \"Vh\",\n      value: function Vh(t, i) {\n        var s = a(this.Hn(t));\n        s.io(t, !0), s.Jl(t, i, !0);\n      }\n    }, {\n      key: \"Iu\",\n      value: function Iu() {\n        var t = Y.wn();\n        t.rn(), this.ec(t);\n      }\n    }, {\n      key: \"zc\",\n      value: function zc(t) {\n        var i = Y.wn();\n        i.ln(t), this.ec(i);\n      }\n    }, {\n      key: \"cn\",\n      value: function cn() {\n        var t = Y.wn();\n        t.cn(), this.ec(t);\n      }\n    }, {\n      key: \"dn\",\n      value: function dn(t) {\n        var i = Y.wn();\n        i.dn(t), this.ec(i);\n      }\n    }, {\n      key: \"fn\",\n      value: function fn(t) {\n        var i = Y.wn();\n        i.fn(t), this.ec(i);\n      }\n    }, {\n      key: \"_n\",\n      value: function _n(t) {\n        var i = Y.wn();\n        i._n(t), this.ec(i);\n      }\n    }, {\n      key: \"hn\",\n      value: function hn() {\n        var t = Y.wn();\n        t.hn(), this.ec(t);\n      }\n    }, {\n      key: \"Oc\",\n      value: function Oc() {\n        return this.Ps.rightPriceScale.visible ? \"right\" : \"left\";\n      }\n    }, {\n      key: \"Lc\",\n      value: function Lc(t, i) {\n        r(i >= 0, \"Index should be greater or equal to 0\");\n        if (i === this.Nc(t)) return;\n        var s = a(this.Hn(t));\n        s.io(t);\n        var n = this.Qu(i);\n        this.Bc(t, n), 0 === s.ba().length && this.Ac(s), this.Bh();\n      }\n    }, {\n      key: \"Wc\",\n      value: function Wc() {\n        return this.nc;\n      }\n    }, {\n      key: \"$\",\n      value: function $() {\n        return this.tc;\n      }\n    }, {\n      key: \"Ut\",\n      value: function Ut(t) {\n        var i = this.nc,\n          s = this.tc;\n        if (i === s) return i;\n        if (t = Math.max(0, Math.min(100, Math.round(100 * t))), null === this.Xu || this.Xu.mr !== s || this.Xu.wr !== i) this.Xu = {\n          mr: s,\n          wr: i,\n          Fc: new Map()\n        };else {\n          var _i40 = this.Xu.Fc.get(t);\n          if (void 0 !== _i40) return _i40;\n        }\n        var n = this.Sl.tt(s, i, t / 100);\n        return this.Xu.Fc.set(t, n), n;\n      }\n    }, {\n      key: \"Hc\",\n      value: function Hc(t) {\n        return this.$u.indexOf(t);\n      }\n    }, {\n      key: \"Xi\",\n      value: function Xi() {\n        return this.Sl;\n      }\n    }, {\n      key: \"Uc\",\n      value: function Uc() {\n        return this.$c();\n      }\n    }, {\n      key: \"$c\",\n      value: function $c(t) {\n        var i = new mi(this.uh, this);\n        this.$u.push(i);\n        var s = t !== null && t !== void 0 ? t : this.$u.length - 1,\n          n = Y.gn();\n        return n.Qs(s, {\n          tn: 0,\n          sn: !0\n        }), this.ec(n), i;\n      }\n    }, {\n      key: \"Qu\",\n      value: function Qu(t) {\n        return r(t >= 0, \"Index should be greater or equal to 0\"), (t = Math.min(this.$u.length, t)) < this.$u.length ? this.$u[t] : this.$c(t);\n      }\n    }, {\n      key: \"Nc\",\n      value: function Nc(t) {\n        return this.$u.findIndex(function (i) {\n          return i.Lo().includes(t);\n        });\n      }\n    }, {\n      key: \"wc\",\n      value: function wc(t, i) {\n        var s = new Y(i);\n        if (null !== t) {\n          var _n10 = this.$u.indexOf(t);\n          s.Qs(_n10, {\n            tn: i\n          });\n        }\n        return s;\n      }\n    }, {\n      key: \"rc\",\n      value: function rc(t, i) {\n        return void 0 === i && (i = 2), this.wc(this.Hn(t), i);\n      }\n    }, {\n      key: \"ec\",\n      value: function ec(t) {\n        this.Zu && this.Zu(t), this.$u.forEach(function (t) {\n          return t.i_().lr().yt();\n        });\n      }\n    }, {\n      key: \"Bc\",\n      value: function Bc(t, i) {\n        var s = t.N().priceScaleId,\n          n = void 0 !== s ? s : this.Oc();\n        i.Jl(t, n), q(n) || t.hr(t.N());\n      }\n    }, {\n      key: \"sc\",\n      value: function sc(t) {\n        var i = this.Ps.layout;\n        return \"gradient\" === i.background.type ? 0 === t ? i.background.topColor : i.background.bottomColor : i.background.color;\n      }\n    }, {\n      key: \"Ac\",\n      value: function Ac(t) {\n        !t.Oo() && 0 === t.ba().length && this.$u.length > 1 && this.$u.splice(this.Hc(t), 1);\n      }\n    }]);\n  }();\n  function Ai(t) {\n    return !u(t) && !d(t);\n  }\n  function zi(t) {\n    return u(t);\n  }\n  !function (t) {\n    t[t.Disabled = 0] = \"Disabled\", t[t.Continuous = 1] = \"Continuous\", t[t.OnDataUpdate = 2] = \"OnDataUpdate\";\n  }(Di || (Di = {})), function (t) {\n    t[t.LastBar = 0] = \"LastBar\", t[t.LastVisible = 1] = \"LastVisible\";\n  }(Ei || (Ei = {})), function (t) {\n    t.Solid = \"solid\", t.VerticalGradient = \"gradient\";\n  }(Vi || (Vi = {})), function (t) {\n    t[t.Year = 0] = \"Year\", t[t.Month = 1] = \"Month\", t[t.DayOfMonth = 2] = \"DayOfMonth\", t[t.Time = 3] = \"Time\", t[t.TimeWithSeconds = 4] = \"TimeWithSeconds\";\n  }(Bi || (Bi = {}));\n  var Oi = function Oi(t) {\n    return t.getUTCFullYear();\n  };\n  function Li(t, i, s) {\n    return i.replace(/yyyy/g, function (t) {\n      return Z(Oi(t), 4);\n    }(t)).replace(/yy/g, function (t) {\n      return Z(Oi(t) % 100, 2);\n    }(t)).replace(/MMMM/g, function (t, i) {\n      return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, {\n        month: \"long\"\n      });\n    }(t, s)).replace(/MMM/g, function (t, i) {\n      return new Date(t.getUTCFullYear(), t.getUTCMonth(), 1).toLocaleString(i, {\n        month: \"short\"\n      });\n    }(t, s)).replace(/MM/g, function (t) {\n      return Z(function (t) {\n        return t.getUTCMonth() + 1;\n      }(t), 2);\n    }(t)).replace(/dd/g, function (t) {\n      return Z(function (t) {\n        return t.getUTCDate();\n      }(t), 2);\n    }(t));\n  }\n  var Ni = /*#__PURE__*/function () {\n    function Ni() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"yyyy-MM-dd\";\n      var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"default\";\n      _classCallCheck(this, Ni);\n      this.jc = t, this.qc = i;\n    }\n    return _createClass(Ni, [{\n      key: \"__\",\n      value: function __(t) {\n        return Li(t, this.jc, this.qc);\n      }\n    }]);\n  }();\n  var Wi = /*#__PURE__*/function () {\n    function Wi(t) {\n      _classCallCheck(this, Wi);\n      this.Yc = t || \"%h:%m:%s\";\n    }\n    return _createClass(Wi, [{\n      key: \"__\",\n      value: function __(t) {\n        return this.Yc.replace(\"%h\", Z(t.getUTCHours(), 2)).replace(\"%m\", Z(t.getUTCMinutes(), 2)).replace(\"%s\", Z(t.getUTCSeconds(), 2));\n      }\n    }]);\n  }();\n  var Fi = {\n    Kc: \"yyyy-MM-dd\",\n    Xc: \"%h:%m:%s\",\n    Zc: \" \",\n    Gc: \"default\"\n  };\n  var Hi = /*#__PURE__*/function () {\n    function Hi() {\n      var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      _classCallCheck(this, Hi);\n      var i = _objectSpread(_objectSpread({}, Fi), t);\n      this.Jc = new Ni(i.Kc, i.Gc), this.Qc = new Wi(i.Xc), this.td = i.Zc;\n    }\n    return _createClass(Hi, [{\n      key: \"__\",\n      value: function __(t) {\n        return \"\".concat(this.Jc.__(t)).concat(this.td).concat(this.Qc.__(t));\n      }\n    }]);\n  }();\n  function Ui(t) {\n    return 60 * t * 60 * 1e3;\n  }\n  function $i(t) {\n    return 60 * t * 1e3;\n  }\n  var ji = [{\n    sd: (qi = 1, 1e3 * qi),\n    nd: 10\n  }, {\n    sd: $i(1),\n    nd: 20\n  }, {\n    sd: $i(5),\n    nd: 21\n  }, {\n    sd: $i(30),\n    nd: 22\n  }, {\n    sd: Ui(1),\n    nd: 30\n  }, {\n    sd: Ui(3),\n    nd: 31\n  }, {\n    sd: Ui(6),\n    nd: 32\n  }, {\n    sd: Ui(12),\n    nd: 33\n  }];\n  var qi;\n  function Yi(t, i) {\n    if (t.getUTCFullYear() !== i.getUTCFullYear()) return 70;\n    if (t.getUTCMonth() !== i.getUTCMonth()) return 60;\n    if (t.getUTCDate() !== i.getUTCDate()) return 50;\n    for (var _s22 = ji.length - 1; _s22 >= 0; --_s22) if (Math.floor(i.getTime() / ji[_s22].sd) !== Math.floor(t.getTime() / ji[_s22].sd)) return ji[_s22].nd;\n    return 0;\n  }\n  function Ki(t) {\n    var i = t;\n    if (d(t) && (i = Zi(t)), !Ai(i)) throw new Error(\"time must be of type BusinessDay\");\n    var s = new Date(Date.UTC(i.year, i.month - 1, i.day, 0, 0, 0, 0));\n    return {\n      ed: Math.round(s.getTime() / 1e3),\n      rd: i\n    };\n  }\n  function Xi(t) {\n    if (!zi(t)) throw new Error(\"time must be of type isUTCTimestamp\");\n    return {\n      ed: t\n    };\n  }\n  function Zi(t) {\n    var i = new Date(t);\n    if (isNaN(i.getTime())) throw new Error(\"Invalid date string=\".concat(t, \", expected format=yyyy-mm-dd\"));\n    return {\n      day: i.getUTCDate(),\n      month: i.getUTCMonth() + 1,\n      year: i.getUTCFullYear()\n    };\n  }\n  function Gi(t) {\n    d(t.time) && (t.time = Zi(t.time));\n  }\n  var Ji = /*#__PURE__*/function () {\n    function Ji() {\n      _classCallCheck(this, Ji);\n    }\n    return _createClass(Ji, [{\n      key: \"options\",\n      value: function options() {\n        return this.Ps;\n      }\n    }, {\n      key: \"setOptions\",\n      value: function setOptions(t) {\n        this.Ps = t, this.updateFormatter(t.localization);\n      }\n    }, {\n      key: \"preprocessData\",\n      value: function preprocessData(t) {\n        Array.isArray(t) ? function (t) {\n          t.forEach(Gi);\n        }(t) : Gi(t);\n      }\n    }, {\n      key: \"createConverterToInternalObj\",\n      value: function createConverterToInternalObj(t) {\n        return a(function (t) {\n          return 0 === t.length ? null : Ai(t[0].time) || d(t[0].time) ? Ki : Xi;\n        }(t));\n      }\n    }, {\n      key: \"key\",\n      value: function key(t) {\n        return \"object\" == _typeof(t) && \"ed\" in t ? t.ed : this.key(this.convertHorzItemToInternal(t));\n      }\n    }, {\n      key: \"cacheKey\",\n      value: function cacheKey(t) {\n        var i = t;\n        return void 0 === i.rd ? new Date(1e3 * i.ed).getTime() : new Date(Date.UTC(i.rd.year, i.rd.month - 1, i.rd.day)).getTime();\n      }\n    }, {\n      key: \"convertHorzItemToInternal\",\n      value: function convertHorzItemToInternal(t) {\n        return zi(i = t) ? Xi(i) : Ai(i) ? Ki(i) : Ki(Zi(i));\n        var i;\n      }\n    }, {\n      key: \"updateFormatter\",\n      value: function updateFormatter(t) {\n        if (!this.Ps) return;\n        var i = t.dateFormat;\n        this.Ps.timeScale.timeVisible ? this.hd = new Hi({\n          Kc: i,\n          Xc: this.Ps.timeScale.secondsVisible ? \"%h:%m:%s\" : \"%h:%m\",\n          Zc: \"   \",\n          Gc: t.locale\n        }) : this.hd = new Ni(i, t.locale);\n      }\n    }, {\n      key: \"formatHorzItem\",\n      value: function formatHorzItem(t) {\n        var i = t;\n        return this.hd.__(new Date(1e3 * i.ed));\n      }\n    }, {\n      key: \"formatTickmark\",\n      value: function formatTickmark(t, i) {\n        var s = function (t, i, s) {\n            switch (t) {\n              case 0:\n              case 10:\n                return i ? s ? 4 : 3 : 2;\n              case 20:\n              case 21:\n              case 22:\n              case 30:\n              case 31:\n              case 32:\n              case 33:\n                return i ? 3 : 2;\n              case 50:\n                return 2;\n              case 60:\n                return 1;\n              case 70:\n                return 0;\n            }\n          }(t.weight, this.Ps.timeScale.timeVisible, this.Ps.timeScale.secondsVisible),\n          n = this.Ps.timeScale;\n        if (void 0 !== n.tickMarkFormatter) {\n          var _e10 = n.tickMarkFormatter(t.originalTime, s, i.locale);\n          if (null !== _e10) return _e10;\n        }\n        return function (t, i, s) {\n          var n = {};\n          switch (i) {\n            case 0:\n              n.year = \"numeric\";\n              break;\n            case 1:\n              n.month = \"short\";\n              break;\n            case 2:\n              n.day = \"numeric\";\n              break;\n            case 3:\n              n.hour12 = !1, n.hour = \"2-digit\", n.minute = \"2-digit\";\n              break;\n            case 4:\n              n.hour12 = !1, n.hour = \"2-digit\", n.minute = \"2-digit\", n.second = \"2-digit\";\n          }\n          var e = void 0 === t.rd ? new Date(1e3 * t.ed) : new Date(Date.UTC(t.rd.year, t.rd.month - 1, t.rd.day));\n          return new Date(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate(), e.getUTCHours(), e.getUTCMinutes(), e.getUTCSeconds(), e.getUTCMilliseconds()).toLocaleString(s, n);\n        }(t.time, s, i.locale);\n      }\n    }, {\n      key: \"maxTickMarkWeight\",\n      value: function maxTickMarkWeight(t) {\n        var i = t.reduce(ki, t[0]).weight;\n        return i > 30 && i < 50 && (i = 30), i;\n      }\n    }, {\n      key: \"fillWeightsForPoints\",\n      value: function fillWeightsForPoints(t, i) {\n        !function (t) {\n          var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          if (0 === t.length) return;\n          var s = 0 === i ? null : t[i - 1].time.ed,\n            n = null !== s ? new Date(1e3 * s) : null,\n            e = 0;\n          for (var _r9 = i; _r9 < t.length; ++_r9) {\n            var _i41 = t[_r9],\n              _h6 = new Date(1e3 * _i41.time.ed);\n            null !== n && (_i41.timeWeight = Yi(_h6, n)), e += _i41.time.ed - (s || _i41.time.ed), s = _i41.time.ed, n = _h6;\n          }\n          if (0 === i && t.length > 1) {\n            var _i42 = Math.ceil(e / (t.length - 1)),\n              _s23 = new Date(1e3 * (t[0].time.ed - _i42));\n            t[0].timeWeight = Yi(new Date(1e3 * t[0].time.ed), _s23);\n          }\n        }(t, i);\n      }\n    }], [{\n      key: \"ad\",\n      value: function ad(t) {\n        return _({\n          localization: {\n            dateFormat: \"dd MMM 'yy\"\n          }\n        }, t !== null && t !== void 0 ? t : {});\n      }\n    }]);\n  }();\n  function Qi(t) {\n    var i = t.width,\n      s = t.height;\n    if (i < 0) throw new Error(\"Negative width is not allowed for Size\");\n    if (s < 0) throw new Error(\"Negative height is not allowed for Size\");\n    return {\n      width: i,\n      height: s\n    };\n  }\n  function ts(t, i) {\n    return t.width === i.width && t.height === i.height;\n  }\n  var is = function () {\n    function t(t) {\n      var i = this;\n      this._resolutionListener = function () {\n        return i._onResolutionChanged();\n      }, this._resolutionMediaQueryList = null, this._observers = [], this._window = t, this._installResolutionListener();\n    }\n    return t.prototype.dispose = function () {\n      this._uninstallResolutionListener(), this._window = null;\n    }, Object.defineProperty(t.prototype, \"value\", {\n      get: function get() {\n        return this._window.devicePixelRatio;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.subscribe = function (t) {\n      var i = this,\n        s = {\n          next: t\n        };\n      return this._observers.push(s), {\n        unsubscribe: function unsubscribe() {\n          i._observers = i._observers.filter(function (t) {\n            return t !== s;\n          });\n        }\n      };\n    }, t.prototype._installResolutionListener = function () {\n      if (null !== this._resolutionMediaQueryList) throw new Error(\"Resolution listener is already installed\");\n      var t = this._window.devicePixelRatio;\n      this._resolutionMediaQueryList = this._window.matchMedia(\"all and (resolution: \".concat(t, \"dppx)\")), this._resolutionMediaQueryList.addListener(this._resolutionListener);\n    }, t.prototype._uninstallResolutionListener = function () {\n      null !== this._resolutionMediaQueryList && (this._resolutionMediaQueryList.removeListener(this._resolutionListener), this._resolutionMediaQueryList = null);\n    }, t.prototype._reinstallResolutionListener = function () {\n      this._uninstallResolutionListener(), this._installResolutionListener();\n    }, t.prototype._onResolutionChanged = function () {\n      var t = this;\n      this._observers.forEach(function (i) {\n        return i.next(t._window.devicePixelRatio);\n      }), this._reinstallResolutionListener();\n    }, t;\n  }();\n  var ss = function () {\n    function t(t, i, s) {\n      var n;\n      this._canvasElement = null, this._bitmapSizeChangedListeners = [], this._suggestedBitmapSize = null, this._suggestedBitmapSizeChangedListeners = [], this._devicePixelRatioObservable = null, this._canvasElementResizeObserver = null, this._canvasElement = t, this._canvasElementClientSize = Qi({\n        width: this._canvasElement.clientWidth,\n        height: this._canvasElement.clientHeight\n      }), this._transformBitmapSize = null != i ? i : function (t) {\n        return t;\n      }, this._allowResizeObserver = null === (n = null == s ? void 0 : s.allowResizeObserver) || void 0 === n || n, this._chooseAndInitObserver();\n    }\n    return t.prototype.dispose = function () {\n      var t, i;\n      if (null === this._canvasElement) throw new Error(\"Object is disposed\");\n      null === (t = this._canvasElementResizeObserver) || void 0 === t || t.disconnect(), this._canvasElementResizeObserver = null, null === (i = this._devicePixelRatioObservable) || void 0 === i || i.dispose(), this._devicePixelRatioObservable = null, this._suggestedBitmapSizeChangedListeners.length = 0, this._bitmapSizeChangedListeners.length = 0, this._canvasElement = null;\n    }, Object.defineProperty(t.prototype, \"canvasElement\", {\n      get: function get() {\n        if (null === this._canvasElement) throw new Error(\"Object is disposed\");\n        return this._canvasElement;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"canvasElementClientSize\", {\n      get: function get() {\n        return this._canvasElementClientSize;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"bitmapSize\", {\n      get: function get() {\n        return Qi({\n          width: this.canvasElement.width,\n          height: this.canvasElement.height\n        });\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.resizeCanvasElement = function (t) {\n      this._canvasElementClientSize = Qi(t), this.canvasElement.style.width = \"\".concat(this._canvasElementClientSize.width, \"px\"), this.canvasElement.style.height = \"\".concat(this._canvasElementClientSize.height, \"px\"), this._invalidateBitmapSize();\n    }, t.prototype.subscribeBitmapSizeChanged = function (t) {\n      this._bitmapSizeChangedListeners.push(t);\n    }, t.prototype.unsubscribeBitmapSizeChanged = function (t) {\n      this._bitmapSizeChangedListeners = this._bitmapSizeChangedListeners.filter(function (i) {\n        return i !== t;\n      });\n    }, Object.defineProperty(t.prototype, \"suggestedBitmapSize\", {\n      get: function get() {\n        return this._suggestedBitmapSize;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t.prototype.subscribeSuggestedBitmapSizeChanged = function (t) {\n      this._suggestedBitmapSizeChangedListeners.push(t);\n    }, t.prototype.unsubscribeSuggestedBitmapSizeChanged = function (t) {\n      this._suggestedBitmapSizeChangedListeners = this._suggestedBitmapSizeChangedListeners.filter(function (i) {\n        return i !== t;\n      });\n    }, t.prototype.applySuggestedBitmapSize = function () {\n      if (null !== this._suggestedBitmapSize) {\n        var t = this._suggestedBitmapSize;\n        this._suggestedBitmapSize = null, this._resizeBitmap(t), this._emitSuggestedBitmapSizeChanged(t, this._suggestedBitmapSize);\n      }\n    }, t.prototype._resizeBitmap = function (t) {\n      var i = this.bitmapSize;\n      ts(i, t) || (this.canvasElement.width = t.width, this.canvasElement.height = t.height, this._emitBitmapSizeChanged(i, t));\n    }, t.prototype._emitBitmapSizeChanged = function (t, i) {\n      var s = this;\n      this._bitmapSizeChangedListeners.forEach(function (n) {\n        return n.call(s, t, i);\n      });\n    }, t.prototype._suggestNewBitmapSize = function (t) {\n      var i = this._suggestedBitmapSize,\n        s = Qi(this._transformBitmapSize(t, this._canvasElementClientSize)),\n        n = ts(this.bitmapSize, s) ? null : s;\n      null === i && null === n || null !== i && null !== n && ts(i, n) || (this._suggestedBitmapSize = n, this._emitSuggestedBitmapSizeChanged(i, n));\n    }, t.prototype._emitSuggestedBitmapSizeChanged = function (t, i) {\n      var s = this;\n      this._suggestedBitmapSizeChangedListeners.forEach(function (n) {\n        return n.call(s, t, i);\n      });\n    }, t.prototype._chooseAndInitObserver = function () {\n      var t = this;\n      this._allowResizeObserver ? new Promise(function (t) {\n        var i = new ResizeObserver(function (s) {\n          t(s.every(function (t) {\n            return \"devicePixelContentBoxSize\" in t;\n          })), i.disconnect();\n        });\n        i.observe(document.body, {\n          box: \"device-pixel-content-box\"\n        });\n      })[\"catch\"](function () {\n        return !1;\n      }).then(function (i) {\n        return i ? t._initResizeObserver() : t._initDevicePixelRatioObservable();\n      }) : this._initDevicePixelRatioObservable();\n    }, t.prototype._initDevicePixelRatioObservable = function () {\n      var t = this;\n      if (null !== this._canvasElement) {\n        var i = ns(this._canvasElement);\n        if (null === i) throw new Error(\"No window is associated with the canvas\");\n        this._devicePixelRatioObservable = function (t) {\n          return new is(t);\n        }(i), this._devicePixelRatioObservable.subscribe(function () {\n          return t._invalidateBitmapSize();\n        }), this._invalidateBitmapSize();\n      }\n    }, t.prototype._invalidateBitmapSize = function () {\n      var t, i;\n      if (null !== this._canvasElement) {\n        var s = ns(this._canvasElement);\n        if (null !== s) {\n          var n = null !== (i = null === (t = this._devicePixelRatioObservable) || void 0 === t ? void 0 : t.value) && void 0 !== i ? i : s.devicePixelRatio,\n            e = this._canvasElement.getClientRects(),\n            r = void 0 !== e[0] ? function (t, i) {\n              return Qi({\n                width: Math.round(t.left * i + t.width * i) - Math.round(t.left * i),\n                height: Math.round(t.top * i + t.height * i) - Math.round(t.top * i)\n              });\n            }(e[0], n) : Qi({\n              width: this._canvasElementClientSize.width * n,\n              height: this._canvasElementClientSize.height * n\n            });\n          this._suggestNewBitmapSize(r);\n        }\n      }\n    }, t.prototype._initResizeObserver = function () {\n      var t = this;\n      null !== this._canvasElement && (this._canvasElementResizeObserver = new ResizeObserver(function (i) {\n        var s = i.find(function (i) {\n          return i.target === t._canvasElement;\n        });\n        if (s && s.devicePixelContentBoxSize && s.devicePixelContentBoxSize[0]) {\n          var n = s.devicePixelContentBoxSize[0],\n            e = Qi({\n              width: n.inlineSize,\n              height: n.blockSize\n            });\n          t._suggestNewBitmapSize(e);\n        }\n      }), this._canvasElementResizeObserver.observe(this._canvasElement, {\n        box: \"device-pixel-content-box\"\n      }));\n    }, t;\n  }();\n  function ns(t) {\n    return t.ownerDocument.defaultView;\n  }\n  var es = function () {\n    function t(t, i, s) {\n      if (0 === i.width || 0 === i.height) throw new TypeError(\"Rendering target could only be created on a media with positive width and height\");\n      if (this._mediaSize = i, 0 === s.width || 0 === s.height) throw new TypeError(\"Rendering target could only be created using a bitmap with positive integer width and height\");\n      this._bitmapSize = s, this._context = t;\n    }\n    return t.prototype.useMediaCoordinateSpace = function (t) {\n      try {\n        return this._context.save(), this._context.setTransform(1, 0, 0, 1, 0, 0), this._context.scale(this._horizontalPixelRatio, this._verticalPixelRatio), t({\n          context: this._context,\n          mediaSize: this._mediaSize\n        });\n      } finally {\n        this._context.restore();\n      }\n    }, t.prototype.useBitmapCoordinateSpace = function (t) {\n      try {\n        return this._context.save(), this._context.setTransform(1, 0, 0, 1, 0, 0), t({\n          context: this._context,\n          mediaSize: this._mediaSize,\n          bitmapSize: this._bitmapSize,\n          horizontalPixelRatio: this._horizontalPixelRatio,\n          verticalPixelRatio: this._verticalPixelRatio\n        });\n      } finally {\n        this._context.restore();\n      }\n    }, Object.defineProperty(t.prototype, \"_horizontalPixelRatio\", {\n      get: function get() {\n        return this._bitmapSize.width / this._mediaSize.width;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), Object.defineProperty(t.prototype, \"_verticalPixelRatio\", {\n      get: function get() {\n        return this._bitmapSize.height / this._mediaSize.height;\n      },\n      enumerable: !1,\n      configurable: !0\n    }), t;\n  }();\n  function rs(t, i) {\n    var s = t.canvasElementClientSize;\n    if (0 === s.width || 0 === s.height) return null;\n    var n = t.bitmapSize;\n    if (0 === n.width || 0 === n.height) return null;\n    var e = t.canvasElement.getContext(\"2d\", i);\n    return null === e ? null : new es(e, s, n);\n  }\n  var hs = \"undefined\" != typeof window;\n  function as() {\n    return !!hs && window.navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n  }\n  function ls() {\n    return !!hs && /iPhone|iPad|iPod/.test(window.navigator.platform);\n  }\n  function os(t) {\n    return t + t % 2;\n  }\n  function _s(t) {\n    hs && void 0 !== window.chrome && t.addEventListener(\"mousedown\", function (t) {\n      if (1 === t.button) return t.preventDefault(), !1;\n    });\n  }\n  var us = /*#__PURE__*/function () {\n    function us(t, i, s) {\n      var _this34 = this;\n      _classCallCheck(this, us);\n      this.ld = 0, this.od = null, this._d = {\n        _t: Number.NEGATIVE_INFINITY,\n        ut: Number.POSITIVE_INFINITY\n      }, this.ud = 0, this.dd = null, this.fd = {\n        _t: Number.NEGATIVE_INFINITY,\n        ut: Number.POSITIVE_INFINITY\n      }, this.pd = null, this.vd = !1, this.md = null, this.wd = null, this.gd = !1, this.Md = !1, this.bd = !1, this.xd = null, this.Sd = null, this.Cd = null, this.Pd = null, this.yd = null, this.kd = null, this.Td = null, this.Rd = 0, this.Dd = !1, this.Ed = !1, this.Vd = !1, this.Bd = 0, this.Id = null, this.Ad = !ls(), this.zd = function (t) {\n        _this34.Od(t);\n      }, this.Ld = function (t) {\n        if (_this34.Nd(t)) {\n          var _i43 = _this34.Wd(t);\n          if (++_this34.ud, _this34.dd && _this34.ud > 1) {\n            var _this34$Hd = _this34.Hd(fs(t), _this34.fd),\n              _s24 = _this34$Hd.Fd;\n            _s24 < 30 && !_this34.bd && _this34.Ud(_i43, _this34.jd.$d), _this34.qd();\n          }\n        } else {\n          var _i44 = _this34.Wd(t);\n          if (++_this34.ld, _this34.od && _this34.ld > 1) {\n            var _this34$Hd2 = _this34.Hd(fs(t), _this34._d),\n              _s25 = _this34$Hd2.Fd;\n            _s25 < 5 && !_this34.Md && _this34.Yd(_i44, _this34.jd.Kd), _this34.Xd();\n          }\n        }\n      }, this.Zd = t, this.jd = i, this.Ps = s, this.Gd();\n    }\n    return _createClass(us, [{\n      key: \"m\",\n      value: function m() {\n        null !== this.xd && (this.xd(), this.xd = null), null !== this.Sd && (this.Sd(), this.Sd = null), null !== this.Pd && (this.Pd(), this.Pd = null), null !== this.yd && (this.yd(), this.yd = null), null !== this.kd && (this.kd(), this.kd = null), null !== this.Cd && (this.Cd(), this.Cd = null), this.Jd(), this.Xd();\n      }\n    }, {\n      key: \"Qd\",\n      value: function Qd(t) {\n        var _this35 = this;\n        this.Pd && this.Pd();\n        var i = this.tf.bind(this);\n        if (this.Pd = function () {\n          _this35.Zd.removeEventListener(\"mousemove\", i);\n        }, this.Zd.addEventListener(\"mousemove\", i), this.Nd(t)) return;\n        var s = this.Wd(t);\n        this.Yd(s, this.jd[\"if\"]), this.Ad = !0;\n      }\n    }, {\n      key: \"Xd\",\n      value: function Xd() {\n        null !== this.od && clearTimeout(this.od), this.ld = 0, this.od = null, this._d = {\n          _t: Number.NEGATIVE_INFINITY,\n          ut: Number.POSITIVE_INFINITY\n        };\n      }\n    }, {\n      key: \"qd\",\n      value: function qd() {\n        null !== this.dd && clearTimeout(this.dd), this.ud = 0, this.dd = null, this.fd = {\n          _t: Number.NEGATIVE_INFINITY,\n          ut: Number.POSITIVE_INFINITY\n        };\n      }\n    }, {\n      key: \"tf\",\n      value: function tf(t) {\n        if (this.Vd || null !== this.wd) return;\n        if (this.Nd(t)) return;\n        var i = this.Wd(t);\n        this.Yd(i, this.jd.sf), this.Ad = !0;\n      }\n    }, {\n      key: \"nf\",\n      value: function nf(t) {\n        var i = vs(t.changedTouches, a(this.Id));\n        if (null === i) return;\n        if (this.Bd = ps(t), null !== this.Td) return;\n        if (this.Ed) return;\n        this.Dd = !0;\n        var s = this.Hd(fs(i), a(this.wd)),\n          n = s.ef,\n          e = s.rf,\n          r = s.Fd;\n        if (this.gd || !(r < 5)) {\n          if (!this.gd) {\n            var _t40 = .5 * n,\n              _i45 = e >= _t40 && !this.Ps.hf(),\n              _s26 = _t40 > e && !this.Ps.af();\n            _i45 || _s26 || (this.Ed = !0), this.gd = !0, this.bd = !0, this.Jd(), this.qd();\n          }\n          if (!this.Ed) {\n            var _s27 = this.Wd(t, i);\n            this.Ud(_s27, this.jd.lf), ds(t);\n          }\n        }\n      }\n    }, {\n      key: \"_f\",\n      value: function _f(t) {\n        if (0 !== t.button) return;\n        var i = this.Hd(fs(t), a(this.md)),\n          s = i.Fd;\n        if (s >= 5 && (this.Md = !0, this.Xd()), this.Md) {\n          var _i46 = this.Wd(t);\n          this.Yd(_i46, this.jd.uf);\n        }\n      }\n    }, {\n      key: \"Hd\",\n      value: function Hd(t, i) {\n        var s = Math.abs(i._t - t._t),\n          n = Math.abs(i.ut - t.ut);\n        return {\n          ef: s,\n          rf: n,\n          Fd: s + n\n        };\n      }\n    }, {\n      key: \"cf\",\n      value: function cf(t) {\n        var i = vs(t.changedTouches, a(this.Id));\n        if (null === i && 0 === t.touches.length && (i = t.changedTouches[0]), null === i) return;\n        this.Id = null, this.Bd = ps(t), this.Jd(), this.wd = null, this.kd && (this.kd(), this.kd = null);\n        var s = this.Wd(t, i);\n        if (this.Ud(s, this.jd.df), ++this.ud, this.dd && this.ud > 1) {\n          var _this$Hd = this.Hd(fs(i), this.fd),\n            _t41 = _this$Hd.Fd;\n          _t41 < 30 && !this.bd && this.Ud(s, this.jd.$d), this.qd();\n        } else this.bd || (this.Ud(s, this.jd.ff), this.jd.ff && ds(t));\n        0 === this.ud && ds(t), 0 === t.touches.length && this.vd && (this.vd = !1, ds(t));\n      }\n    }, {\n      key: \"Od\",\n      value: function Od(t) {\n        if (0 !== t.button) return;\n        var i = this.Wd(t);\n        if (this.md = null, this.Vd = !1, this.yd && (this.yd(), this.yd = null), as()) {\n          this.Zd.ownerDocument.documentElement.removeEventListener(\"mouseleave\", this.zd);\n        }\n        if (!this.Nd(t)) if (this.Yd(i, this.jd.pf), ++this.ld, this.od && this.ld > 1) {\n          var _this$Hd2 = this.Hd(fs(t), this._d),\n            _s28 = _this$Hd2.Fd;\n          _s28 < 5 && !this.Md && this.Yd(i, this.jd.Kd), this.Xd();\n        } else this.Md || this.Yd(i, this.jd.vf);\n      }\n    }, {\n      key: \"Jd\",\n      value: function Jd() {\n        null !== this.pd && (clearTimeout(this.pd), this.pd = null);\n      }\n    }, {\n      key: \"mf\",\n      value: function mf(t) {\n        if (null !== this.Id) return;\n        var i = t.changedTouches[0];\n        this.Id = i.identifier, this.Bd = ps(t);\n        var s = this.Zd.ownerDocument.documentElement;\n        this.bd = !1, this.gd = !1, this.Ed = !1, this.wd = fs(i), this.kd && (this.kd(), this.kd = null);\n        {\n          var _i47 = this.nf.bind(this),\n            _n11 = this.cf.bind(this);\n          this.kd = function () {\n            s.removeEventListener(\"touchmove\", _i47), s.removeEventListener(\"touchend\", _n11);\n          }, s.addEventListener(\"touchmove\", _i47, {\n            passive: !1\n          }), s.addEventListener(\"touchend\", _n11, {\n            passive: !1\n          }), this.Jd(), this.pd = setTimeout(this.wf.bind(this, t), 240);\n        }\n        var n = this.Wd(t, i);\n        this.Ud(n, this.jd.gf), this.dd || (this.ud = 0, this.dd = setTimeout(this.qd.bind(this), 500), this.fd = fs(i));\n      }\n    }, {\n      key: \"Mf\",\n      value: function Mf(t) {\n        if (0 !== t.button) return;\n        var i = this.Zd.ownerDocument.documentElement;\n        as() && i.addEventListener(\"mouseleave\", this.zd), this.Md = !1, this.md = fs(t), this.yd && (this.yd(), this.yd = null);\n        {\n          var _t42 = this._f.bind(this),\n            _s29 = this.Od.bind(this);\n          this.yd = function () {\n            i.removeEventListener(\"mousemove\", _t42), i.removeEventListener(\"mouseup\", _s29);\n          }, i.addEventListener(\"mousemove\", _t42), i.addEventListener(\"mouseup\", _s29);\n        }\n        if (this.Vd = !0, this.Nd(t)) return;\n        var s = this.Wd(t);\n        this.Yd(s, this.jd.bf), this.od || (this.ld = 0, this.od = setTimeout(this.Xd.bind(this), 500), this._d = fs(t));\n      }\n    }, {\n      key: \"Gd\",\n      value: function Gd() {\n        var _this36 = this;\n        this.Zd.addEventListener(\"mouseenter\", this.Qd.bind(this)), this.Zd.addEventListener(\"touchcancel\", this.Jd.bind(this));\n        {\n          var _t43 = this.Zd.ownerDocument,\n            _i48 = function _i48(t) {\n              _this36.jd.xf && (t.composed && _this36.Zd.contains(t.composedPath()[0]) || t.target && _this36.Zd.contains(t.target) || _this36.jd.xf());\n            };\n          this.Sd = function () {\n            _t43.removeEventListener(\"touchstart\", _i48);\n          }, this.xd = function () {\n            _t43.removeEventListener(\"mousedown\", _i48);\n          }, _t43.addEventListener(\"mousedown\", _i48), _t43.addEventListener(\"touchstart\", _i48, {\n            passive: !0\n          });\n        }\n        ls() && (this.Cd = function () {\n          _this36.Zd.removeEventListener(\"dblclick\", _this36.Ld);\n        }, this.Zd.addEventListener(\"dblclick\", this.Ld)), this.Zd.addEventListener(\"mouseleave\", this.Sf.bind(this)), this.Zd.addEventListener(\"touchstart\", this.mf.bind(this), {\n          passive: !0\n        }), _s(this.Zd), this.Zd.addEventListener(\"mousedown\", this.Mf.bind(this)), this.Cf(), this.Zd.addEventListener(\"touchmove\", function () {}, {\n          passive: !1\n        });\n      }\n    }, {\n      key: \"Cf\",\n      value: function Cf() {\n        var _this37 = this;\n        void 0 === this.jd.Pf && void 0 === this.jd.yf && void 0 === this.jd.kf || (this.Zd.addEventListener(\"touchstart\", function (t) {\n          return _this37.Tf(t.touches);\n        }, {\n          passive: !0\n        }), this.Zd.addEventListener(\"touchmove\", function (t) {\n          if (2 === t.touches.length && null !== _this37.Td && void 0 !== _this37.jd.yf) {\n            var _i49 = cs(t.touches[0], t.touches[1]) / _this37.Rd;\n            _this37.jd.yf(_this37.Td, _i49), ds(t);\n          }\n        }, {\n          passive: !1\n        }), this.Zd.addEventListener(\"touchend\", function (t) {\n          _this37.Tf(t.touches);\n        }));\n      }\n    }, {\n      key: \"Tf\",\n      value: function Tf(t) {\n        1 === t.length && (this.Dd = !1), 2 !== t.length || this.Dd || this.vd ? this.Rf() : this.Df(t);\n      }\n    }, {\n      key: \"Df\",\n      value: function Df(t) {\n        var i = this.Zd.getBoundingClientRect() || {\n          left: 0,\n          top: 0\n        };\n        this.Td = {\n          _t: (t[0].clientX - i.left + (t[1].clientX - i.left)) / 2,\n          ut: (t[0].clientY - i.top + (t[1].clientY - i.top)) / 2\n        }, this.Rd = cs(t[0], t[1]), void 0 !== this.jd.Pf && this.jd.Pf(), this.Jd();\n      }\n    }, {\n      key: \"Rf\",\n      value: function Rf() {\n        null !== this.Td && (this.Td = null, void 0 !== this.jd.kf && this.jd.kf());\n      }\n    }, {\n      key: \"Sf\",\n      value: function Sf(t) {\n        if (this.Pd && this.Pd(), this.Nd(t)) return;\n        if (!this.Ad) return;\n        var i = this.Wd(t);\n        this.Yd(i, this.jd.Ef), this.Ad = !ls();\n      }\n    }, {\n      key: \"wf\",\n      value: function wf(t) {\n        var i = vs(t.touches, a(this.Id));\n        if (null === i) return;\n        var s = this.Wd(t, i);\n        this.Ud(s, this.jd.Vf), this.bd = !0, this.vd = !0;\n      }\n    }, {\n      key: \"Nd\",\n      value: function Nd(t) {\n        return t.sourceCapabilities && void 0 !== t.sourceCapabilities.firesTouchEvents ? t.sourceCapabilities.firesTouchEvents : ps(t) < this.Bd + 500;\n      }\n    }, {\n      key: \"Ud\",\n      value: function Ud(t, i) {\n        i && i.call(this.jd, t);\n      }\n    }, {\n      key: \"Yd\",\n      value: function Yd(t, i) {\n        i && i.call(this.jd, t);\n      }\n    }, {\n      key: \"Wd\",\n      value: function Wd(t, i) {\n        var s = i || t,\n          n = this.Zd.getBoundingClientRect() || {\n            left: 0,\n            top: 0\n          };\n        return {\n          clientX: s.clientX,\n          clientY: s.clientY,\n          pageX: s.pageX,\n          pageY: s.pageY,\n          screenX: s.screenX,\n          screenY: s.screenY,\n          localX: s.clientX - n.left,\n          localY: s.clientY - n.top,\n          ctrlKey: t.ctrlKey,\n          altKey: t.altKey,\n          shiftKey: t.shiftKey,\n          metaKey: t.metaKey,\n          Bf: !t.type.startsWith(\"mouse\") && \"contextmenu\" !== t.type && \"click\" !== t.type,\n          If: t.type,\n          Af: s.target,\n          a_: t.view,\n          zf: function zf() {\n            \"touchstart\" !== t.type && ds(t);\n          }\n        };\n      }\n    }]);\n  }();\n  function cs(t, i) {\n    var s = t.clientX - i.clientX,\n      n = t.clientY - i.clientY;\n    return Math.sqrt(s * s + n * n);\n  }\n  function ds(t) {\n    t.cancelable && t.preventDefault();\n  }\n  function fs(t) {\n    return {\n      _t: t.pageX,\n      ut: t.pageY\n    };\n  }\n  function ps(t) {\n    return t.timeStamp || performance.now();\n  }\n  function vs(t, i) {\n    for (var _s30 = 0; _s30 < t.length; ++_s30) if (t[_s30].identifier === i) return t[_s30];\n    return null;\n  }\n  var ms = /*#__PURE__*/function () {\n    function ms(t, i, s) {\n      _classCallCheck(this, ms);\n      this.Of = null, this.Lf = null, this.Nf = !0, this.Wf = null, this.Ff = t, this.Hf = t.Uf()[i], this.$f = t.Uf()[s], this.jf = document.createElement(\"tr\"), this.jf.style.height = \"1px\", this.qf = document.createElement(\"td\"), this.qf.style.position = \"relative\", this.qf.style.padding = \"0\", this.qf.style.margin = \"0\", this.qf.setAttribute(\"colspan\", \"3\"), this.Yf(), this.jf.appendChild(this.qf), this.Nf = this.Ff.N().layout.panes.enableResize, this.Nf ? this.Kf() : (this.Of = null, this.Lf = null);\n    }\n    return _createClass(ms, [{\n      key: \"m\",\n      value: function m() {\n        null !== this.Lf && this.Lf.m();\n      }\n    }, {\n      key: \"Xf\",\n      value: function Xf() {\n        return this.jf;\n      }\n    }, {\n      key: \"Zf\",\n      value: function Zf() {\n        return Qi({\n          width: this.Hf.Zf().width,\n          height: 1\n        });\n      }\n    }, {\n      key: \"Gf\",\n      value: function Gf() {\n        return Qi({\n          width: this.Hf.Gf().width,\n          height: 1 * window.devicePixelRatio\n        });\n      }\n    }, {\n      key: \"Jf\",\n      value: function Jf(t, i, s) {\n        var n = this.Gf();\n        t.fillStyle = this.Ff.N().layout.panes.separatorColor, t.fillRect(i, s, n.width, n.height);\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        this.Yf(), this.Ff.N().layout.panes.enableResize !== this.Nf && (this.Nf = this.Ff.N().layout.panes.enableResize, this.Nf ? this.Kf() : (null !== this.Of && (this.qf.removeChild(this.Of.Qf), this.qf.removeChild(this.Of.tp), this.Of = null), null !== this.Lf && (this.Lf.m(), this.Lf = null)));\n      }\n    }, {\n      key: \"Kf\",\n      value: function Kf() {\n        var t = document.createElement(\"div\"),\n          i = t.style;\n        i.position = \"fixed\", i.display = \"none\", i.zIndex = \"49\", i.top = \"0\", i.left = \"0\", i.width = \"100%\", i.height = \"100%\", i.cursor = \"row-resize\", this.qf.appendChild(t);\n        var s = document.createElement(\"div\"),\n          n = s.style;\n        n.position = \"absolute\", n.zIndex = \"50\", n.top = \"-4px\", n.height = \"9px\", n.width = \"100%\", n.backgroundColor = \"\", n.cursor = \"row-resize\", this.qf.appendChild(s);\n        var e = {\n          \"if\": this.ip.bind(this),\n          Ef: this.sp.bind(this),\n          bf: this.np.bind(this),\n          gf: this.np.bind(this),\n          uf: this.ep.bind(this),\n          lf: this.ep.bind(this),\n          pf: this.rp.bind(this),\n          df: this.rp.bind(this)\n        };\n        this.Lf = new us(s, e, {\n          hf: function hf() {\n            return !1;\n          },\n          af: function af() {\n            return !0;\n          }\n        }), this.Of = {\n          tp: s,\n          Qf: t\n        };\n      }\n    }, {\n      key: \"Yf\",\n      value: function Yf() {\n        this.qf.style.background = this.Ff.N().layout.panes.separatorColor;\n      }\n    }, {\n      key: \"ip\",\n      value: function ip(t) {\n        null !== this.Of && (this.Of.tp.style.backgroundColor = this.Ff.N().layout.panes.separatorHoverColor);\n      }\n    }, {\n      key: \"sp\",\n      value: function sp(t) {\n        null !== this.Of && null === this.Wf && (this.Of.tp.style.backgroundColor = \"\");\n      }\n    }, {\n      key: \"np\",\n      value: function np(t) {\n        if (null === this.Of) return;\n        var i = this.Hf.hp().Vo() + this.$f.hp().Vo(),\n          s = i / (this.Hf.Zf().height + this.$f.Zf().height),\n          n = 30 * s;\n        i <= 2 * n || (this.Wf = {\n          ap: t.pageY,\n          lp: this.Hf.hp().Vo(),\n          op: i - n,\n          _p: i,\n          up: s,\n          cp: n\n        }, this.Of.Qf.style.display = \"block\");\n      }\n    }, {\n      key: \"ep\",\n      value: function ep(t) {\n        var i = this.Wf;\n        if (null === i) return;\n        var s = (t.pageY - i.ap) * i.up,\n          n = Yt(i.lp + s, i.cp, i.op);\n        this.Hf.hp().Bo(n), this.$f.hp().Bo(i._p - n), this.Ff.Qt().Bh();\n      }\n    }, {\n      key: \"rp\",\n      value: function rp(t) {\n        null !== this.Wf && null !== this.Of && (this.Wf = null, this.Of.Qf.style.display = \"none\");\n      }\n    }]);\n  }();\n  function ws(t, i) {\n    return t.dp - i.dp;\n  }\n  function gs(t, i, s) {\n    var n = (t.dp - i.dp) / (t.wt - i.wt);\n    return Math.sign(n) * Math.min(Math.abs(n), s);\n  }\n  var Ms = /*#__PURE__*/function () {\n    function Ms(t, i, s, n) {\n      _classCallCheck(this, Ms);\n      this.fp = null, this.pp = null, this.vp = null, this.mp = null, this.wp = null, this.gp = 0, this.Mp = 0, this.bp = t, this.xp = i, this.Sp = s, this.Mn = n;\n    }\n    return _createClass(Ms, [{\n      key: \"Cp\",\n      value: function Cp(t, i) {\n        if (null !== this.fp) {\n          if (this.fp.wt === i) return void (this.fp.dp = t);\n          if (Math.abs(this.fp.dp - t) < this.Mn) return;\n        }\n        this.mp = this.vp, this.vp = this.pp, this.pp = this.fp, this.fp = {\n          wt: i,\n          dp: t\n        };\n      }\n    }, {\n      key: \"le\",\n      value: function le(t, i) {\n        if (null === this.fp || null === this.pp) return;\n        if (i - this.fp.wt > 50) return;\n        var s = 0;\n        var n = gs(this.fp, this.pp, this.xp),\n          e = ws(this.fp, this.pp),\n          r = [n],\n          h = [e];\n        if (s += e, null !== this.vp) {\n          var _t44 = gs(this.pp, this.vp, this.xp);\n          if (Math.sign(_t44) === Math.sign(n)) {\n            var _i50 = ws(this.pp, this.vp);\n            if (r.push(_t44), h.push(_i50), s += _i50, null !== this.mp) {\n              var _t45 = gs(this.vp, this.mp, this.xp);\n              if (Math.sign(_t45) === Math.sign(n)) {\n                var _i51 = ws(this.vp, this.mp);\n                r.push(_t45), h.push(_i51), s += _i51;\n              }\n            }\n          }\n        }\n        var a = 0;\n        for (var _t46 = 0; _t46 < r.length; ++_t46) a += h[_t46] / s * r[_t46];\n        Math.abs(a) < this.bp || (this.wp = {\n          dp: t,\n          wt: i\n        }, this.Mp = a, this.gp = function (t, i) {\n          var s = Math.log(i);\n          return Math.log(1 * s / -t) / s;\n        }(Math.abs(a), this.Sp));\n      }\n    }, {\n      key: \"Ru\",\n      value: function Ru(t) {\n        var i = a(this.wp),\n          s = t - i.wt;\n        return i.dp + this.Mp * (Math.pow(this.Sp, s) - 1) / Math.log(this.Sp);\n      }\n    }, {\n      key: \"Tu\",\n      value: function Tu(t) {\n        return null === this.wp || this.Pp(t) === this.gp;\n      }\n    }, {\n      key: \"Pp\",\n      value: function Pp(t) {\n        var i = t - a(this.wp).wt;\n        return Math.min(i, this.gp);\n      }\n    }]);\n  }();\n  var bs = /*#__PURE__*/function () {\n    function bs(t, i) {\n      _classCallCheck(this, bs);\n      this.yp = void 0, this.kp = void 0, this.Tp = void 0, this.ps = !1, this.Rp = t, this.Dp = i, this.Ep();\n    }\n    return _createClass(bs, [{\n      key: \"yt\",\n      value: function yt() {\n        this.Ep();\n      }\n    }, {\n      key: \"Vp\",\n      value: function Vp() {\n        this.yp && this.Rp.removeChild(this.yp), this.kp && this.Rp.removeChild(this.kp), this.yp = void 0, this.kp = void 0;\n      }\n    }, {\n      key: \"Bp\",\n      value: function Bp() {\n        return this.ps !== this.Ip() || this.Tp !== this.Ap();\n      }\n    }, {\n      key: \"Ap\",\n      value: function Ap() {\n        return this.Dp.Qt().Xi().J(this.Dp.N().layout.textColor) > 160 ? \"dark\" : \"light\";\n      }\n    }, {\n      key: \"Ip\",\n      value: function Ip() {\n        return this.Dp.N().layout.attributionLogo;\n      }\n    }, {\n      key: \"zp\",\n      value: function zp() {\n        var t = new URL(location.href);\n        return t.hostname ? \"&utm_source=\" + t.hostname + t.pathname : \"\";\n      }\n    }, {\n      key: \"Ep\",\n      value: function Ep() {\n        this.Bp() && (this.Vp(), this.ps = this.Ip(), this.ps && (this.Tp = this.Ap(), this.kp = document.createElement(\"style\"), this.kp.innerText = \"a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}\", this.yp = document.createElement(\"a\"), this.yp.href = \"https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart\".concat(this.zp()), this.yp.title = \"Charting by TradingView\", this.yp.id = \"tv-attr-logo\", this.yp.target = \"_blank\", this.yp.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"35\" height=\"19\" fill=\"none\"><g fill-rule=\"evenodd\" clip-path=\"url(#a)\" clip-rule=\"evenodd\"><path fill=\"var(--stroke)\" d=\"M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z\"/><path fill=\"var(--fill)\" d=\"M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\"/></g><defs><clipPath id=\"a\"><path fill=\"var(--stroke)\" d=\"M0 0h35v19H0z\"/></clipPath></defs></svg>', this.yp.toggleAttribute(\"data-dark\", \"dark\" === this.Tp), this.Rp.appendChild(this.kp), this.Rp.appendChild(this.yp)));\n      }\n    }]);\n  }();\n  function xs(t, i) {\n    var s = a(t.ownerDocument).createElement(\"canvas\");\n    t.appendChild(s);\n    var n = new ss(s, (e = {\n      options: {\n        allowResizeObserver: !0\n      },\n      transform: function transform(t, i) {\n        return {\n          width: Math.max(t.width, i.width),\n          height: Math.max(t.height, i.height)\n        };\n      }\n    }).transform, e.options);\n    var e;\n    return n.resizeCanvasElement(i), n;\n  }\n  function Ss(t) {\n    var _t$getContext;\n    t.width = 1, t.height = 1, (_t$getContext = t.getContext(\"2d\")) === null || _t$getContext === void 0 ? void 0 : _t$getContext.clearRect(0, 0, 1, 1);\n  }\n  function Cs(t, i, s, n) {\n    t.ih && t.ih(i, s, n);\n  }\n  function Ps(t, i, s, n) {\n    t.nt(i, s, n);\n  }\n  function ys(t, i, s, n) {\n    var e = t(s, n);\n    var _iterator19 = _createForOfIteratorHelper(e),\n      _step19;\n    try {\n      for (_iterator19.s(); !(_step19 = _iterator19.n()).done;) {\n        var _t47 = _step19.value;\n        var _s31 = _t47.Tt(n);\n        null !== _s31 && i(_s31);\n      }\n    } catch (err) {\n      _iterator19.e(err);\n    } finally {\n      _iterator19.f();\n    }\n  }\n  function ks(t, i) {\n    return function (s) {\n      var _s$Wt$wa, _s$Wt, _s$ta, _s$ta2;\n      if (!function (t) {\n        return void 0 !== t.Wt;\n      }(s)) return [];\n      return ((_s$Wt$wa = (_s$Wt = s.Wt()) === null || _s$Wt === void 0 ? void 0 : _s$Wt.wa()) !== null && _s$Wt$wa !== void 0 ? _s$Wt$wa : \"\") !== i ? [] : (_s$ta = (_s$ta2 = s.ta) === null || _s$ta2 === void 0 ? void 0 : _s$ta2.call(s, t)) !== null && _s$ta !== void 0 ? _s$ta : [];\n    };\n  }\n  function Ts(t, i, s, n) {\n    if (!t.length) return;\n    var e = 0;\n    var r = t[0].$t(n, !0);\n    var h = 1 === i ? s / 2 - (t[0].Wi() - r / 2) : t[0].Wi() - r / 2 - s / 2;\n    h = Math.max(0, h);\n    for (var _r0 = 1; _r0 < t.length; _r0++) {\n      var _a0 = t[_r0],\n        _l8 = t[_r0 - 1],\n        _o6 = _l8.$t(n, !1),\n        _6 = _a0.Wi(),\n        _u4 = _l8.Wi();\n      if (1 === i ? _6 > _u4 - _o6 : _6 < _u4 + _o6) {\n        var _n12 = _u4 - _o6 * i;\n        _a0.Fi(_n12);\n        var _r1 = _n12 - i * _o6 / 2;\n        if ((1 === i ? _r1 < 0 : _r1 > s) && h > 0) {\n          var _n13 = 1 === i ? -1 - _r1 : _r1 - s,\n            _a1 = Math.min(_n13, h);\n          for (var _s32 = e; _s32 < t.length; _s32++) t[_s32].Fi(t[_s32].Wi() + i * _a1);\n          h -= _a1;\n        }\n      } else e = _r0, h = 1 === i ? _u4 - _o6 - _6 : _6 - (_u4 + _o6);\n    }\n  }\n  var Rs = /*#__PURE__*/function () {\n    function Rs(t, i, s, n) {\n      var _this38 = this;\n      _classCallCheck(this, Rs);\n      this.qi = null, this.Op = null, this.Lp = !1, this.Np = new it(200), this.Wp = null, this.Fp = 0, this.Hp = !1, this.Up = function () {\n        _this38.Hp || _this38.Pt.$p().Qt().ar();\n      }, this.jp = function () {\n        _this38.Hp || _this38.Pt.$p().Qt().ar();\n      }, this.Pt = t, this.Ps = i, this.bl = i.layout, this.Gu = s, this.qp = \"left\" === n, this.Yp = ks(\"normal\", n), this.Kp = ks(\"top\", n), this.Xp = ks(\"bottom\", n), this.qf = document.createElement(\"div\"), this.qf.style.height = \"100%\", this.qf.style.overflow = \"hidden\", this.qf.style.width = \"25px\", this.qf.style.left = \"0\", this.qf.style.position = \"relative\", this.Zp = xs(this.qf, Qi({\n        width: 16,\n        height: 16\n      })), this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);\n      var e = this.Zp.canvasElement;\n      e.style.position = \"absolute\", e.style.zIndex = \"1\", e.style.left = \"0\", e.style.top = \"0\", this.Gp = xs(this.qf, Qi({\n        width: 16,\n        height: 16\n      })), this.Gp.subscribeSuggestedBitmapSizeChanged(this.jp);\n      var r = this.Gp.canvasElement;\n      r.style.position = \"absolute\", r.style.zIndex = \"2\", r.style.left = \"0\", r.style.top = \"0\";\n      var h = {\n        bf: this.np.bind(this),\n        gf: this.np.bind(this),\n        uf: this.ep.bind(this),\n        lf: this.ep.bind(this),\n        xf: this.Jp.bind(this),\n        pf: this.rp.bind(this),\n        df: this.rp.bind(this),\n        Kd: this.Qp.bind(this),\n        $d: this.Qp.bind(this),\n        \"if\": this.tv.bind(this),\n        Ef: this.sp.bind(this)\n      };\n      this.Lf = new us(this.Gp.canvasElement, h, {\n        hf: function hf() {\n          return !_this38.Ps.handleScroll.vertTouchDrag;\n        },\n        af: function af() {\n          return !0;\n        }\n      });\n    }\n    return _createClass(Rs, [{\n      key: \"m\",\n      value: function m() {\n        this.Lf.m(), this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.jp), Ss(this.Gp.canvasElement), this.Gp.dispose(), this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up), Ss(this.Zp.canvasElement), this.Zp.dispose(), null !== this.qi && this.qi.no().u(this), this.qi = null;\n      }\n    }, {\n      key: \"Xf\",\n      value: function Xf() {\n        return this.qf;\n      }\n    }, {\n      key: \"P\",\n      value: function P() {\n        return this.bl.fontSize;\n      }\n    }, {\n      key: \"iv\",\n      value: function iv() {\n        var t = this.Gu.N();\n        return this.Wp !== t.k && (this.Np.Vn(), this.Wp = t.k), t;\n      }\n    }, {\n      key: \"sv\",\n      value: function sv() {\n        if (null === this.qi) return 0;\n        var t = 0;\n        var i = this.iv(),\n          s = a(this.Zp.canvasElement.getContext(\"2d\", {\n            colorSpace: this.Pt.$p().N().layout.colorSpace\n          }));\n        s.save();\n        var n = this.qi.Ea();\n        s.font = this.nv(), n.length > 0 && (t = Math.max(this.Np.Ei(s, n[0].Ga), this.Np.Ei(s, n[n.length - 1].Ga)));\n        var e = this.ev();\n        for (var _i52 = e.length; _i52--;) {\n          var _n14 = this.Np.Ei(s, e[_i52].ri());\n          _n14 > t && (t = _n14);\n        }\n        var r = this.qi.zt();\n        if (null !== r && null !== this.Op && 2 !== (h = this.Ps.crosshair).mode && h.horzLine.visible && h.horzLine.labelVisible) {\n          var _i53 = this.qi.Ts(1, r),\n            _n15 = this.qi.Ts(this.Op.height - 2, r);\n          t = Math.max(t, this.Np.Ei(s, this.qi.Zi(Math.floor(Math.min(_i53, _n15)) + .11111111111111, r)), this.Np.Ei(s, this.qi.Zi(Math.ceil(Math.max(_i53, _n15)) - .11111111111111, r)));\n        }\n        var h;\n        s.restore();\n        var l = t || 34;\n        return os(Math.ceil(i.S + i.C + i.B + i.I + 5 + l));\n      }\n    }, {\n      key: \"rv\",\n      value: function rv(t) {\n        null !== this.Op && ts(this.Op, t) || (this.Op = t, this.Hp = !0, this.Zp.resizeCanvasElement(t), this.Gp.resizeCanvasElement(t), this.Hp = !1, this.qf.style.width = \"\".concat(t.width, \"px\"), this.qf.style.height = \"\".concat(t.height, \"px\"));\n      }\n    }, {\n      key: \"hv\",\n      value: function hv() {\n        return a(this.Op).width;\n      }\n    }, {\n      key: \"_s\",\n      value: function _s(t) {\n        this.qi !== t && (null !== this.qi && this.qi.no().u(this), this.qi = t, t.no().i(this.ul.bind(this), this));\n      }\n    }, {\n      key: \"Wt\",\n      value: function Wt() {\n        return this.qi;\n      }\n    }, {\n      key: \"Vn\",\n      value: function Vn() {\n        var t = this.Pt.hp();\n        this.Pt.$p().Qt().Zo(t, a(this.Wt()));\n      }\n    }, {\n      key: \"av\",\n      value: function av(t) {\n        var _this39 = this;\n        if (null === this.Op) return;\n        var i = {\n          colorSpace: this.Pt.$p().N().layout.colorSpace\n        };\n        if (1 !== t) {\n          this.lv(), this.Zp.applySuggestedBitmapSize();\n          var _t48 = rs(this.Zp, i);\n          null !== _t48 && (_t48.useBitmapCoordinateSpace(function (t) {\n            _this39.ov(t), _this39._v(t);\n          }), this.Pt.uv(_t48, this.Xp), this.cv(_t48), this.Pt.uv(_t48, this.Yp), this.dv(_t48));\n        }\n        this.Gp.applySuggestedBitmapSize();\n        var s = rs(this.Gp, i);\n        null !== s && (s.useBitmapCoordinateSpace(function (_ref0) {\n          var t = _ref0.context,\n            i = _ref0.bitmapSize;\n          t.clearRect(0, 0, i.width, i.height);\n        }), this.fv(s), this.Pt.uv(s, this.Kp));\n      }\n    }, {\n      key: \"Gf\",\n      value: function Gf() {\n        return this.Zp.bitmapSize;\n      }\n    }, {\n      key: \"Jf\",\n      value: function Jf(t, i, s) {\n        var n = this.Gf();\n        n.width > 0 && n.height > 0 && t.drawImage(this.Zp.canvasElement, i, s);\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        var _this$qi;\n        (_this$qi = this.qi) === null || _this$qi === void 0 ? void 0 : _this$qi.Ea();\n      }\n    }, {\n      key: \"np\",\n      value: function np(t) {\n        if (null === this.qi || this.qi.Ki() || !this.Ps.handleScale.axisPressedMouseMove.price) return;\n        var i = this.Pt.$p().Qt(),\n          s = this.Pt.hp();\n        this.Lp = !0, i.Uo(s, this.qi, t.localY);\n      }\n    }, {\n      key: \"ep\",\n      value: function ep(t) {\n        if (null === this.qi || !this.Ps.handleScale.axisPressedMouseMove.price) return;\n        var i = this.Pt.$p().Qt(),\n          s = this.Pt.hp(),\n          n = this.qi;\n        i.$o(s, n, t.localY);\n      }\n    }, {\n      key: \"Jp\",\n      value: function Jp() {\n        if (null === this.qi || !this.Ps.handleScale.axisPressedMouseMove.price) return;\n        var t = this.Pt.$p().Qt(),\n          i = this.Pt.hp(),\n          s = this.qi;\n        this.Lp && (this.Lp = !1, t.jo(i, s));\n      }\n    }, {\n      key: \"rp\",\n      value: function rp(t) {\n        if (null === this.qi || !this.Ps.handleScale.axisPressedMouseMove.price) return;\n        var i = this.Pt.$p().Qt(),\n          s = this.Pt.hp();\n        this.Lp = !1, i.jo(s, this.qi);\n      }\n    }, {\n      key: \"Qp\",\n      value: function Qp(t) {\n        this.Ps.handleScale.axisDoubleClickReset.price && this.Vn();\n      }\n    }, {\n      key: \"tv\",\n      value: function tv(t) {\n        if (null === this.qi) return;\n        !this.Pt.$p().Qt().N().handleScale.axisPressedMouseMove.price || this.qi.Oe() || this.qi.El() || this.pv(1);\n      }\n    }, {\n      key: \"sp\",\n      value: function sp(t) {\n        this.pv(0);\n      }\n    }, {\n      key: \"ev\",\n      value: function ev() {\n        var _this40 = this;\n        var t = [],\n          i = null === this.qi ? void 0 : this.qi;\n        return function (s) {\n          for (var _n16 = 0; _n16 < s.length; ++_n16) {\n            var _e11 = s[_n16].Fs(_this40.Pt.hp(), i);\n            for (var _i54 = 0; _i54 < _e11.length; _i54++) t.push(_e11[_i54]);\n          }\n        }(this.Pt.hp().Dt()), t;\n      }\n    }, {\n      key: \"ov\",\n      value: function ov(_ref1) {\n        var t = _ref1.context,\n          i = _ref1.bitmapSize;\n        var s = i.width,\n          n = i.height,\n          e = this.Pt.hp().Qt(),\n          r = e.$(),\n          h = e.Wc();\n        r === h ? B(t, 0, 0, s, n, r) : z(t, 0, 0, s, n, r, h);\n      }\n    }, {\n      key: \"_v\",\n      value: function _v(_ref10) {\n        var t = _ref10.context,\n          i = _ref10.bitmapSize,\n          s = _ref10.horizontalPixelRatio;\n        if (null === this.Op || null === this.qi || !this.qi.N().borderVisible) return;\n        t.fillStyle = this.qi.N().borderColor;\n        var n = Math.max(1, Math.floor(this.iv().S * s));\n        var e;\n        e = this.qp ? i.width - n : 0, t.fillRect(e, 0, n, i.height);\n      }\n    }, {\n      key: \"cv\",\n      value: function cv(t) {\n        var _this41 = this;\n        if (null === this.Op || null === this.qi) return;\n        var i = this.qi.Ea(),\n          s = this.qi.N(),\n          n = this.iv(),\n          e = this.qp ? this.Op.width - n.C : 0;\n        s.borderVisible && s.ticksVisible && t.useBitmapCoordinateSpace(function (_ref11) {\n          var t = _ref11.context,\n            r = _ref11.horizontalPixelRatio,\n            h = _ref11.verticalPixelRatio;\n          t.fillStyle = s.borderColor;\n          var a = Math.max(1, Math.floor(h)),\n            l = Math.floor(.5 * h),\n            o = Math.round(n.C * r);\n          t.beginPath();\n          var _iterator20 = _createForOfIteratorHelper(i),\n            _step20;\n          try {\n            for (_iterator20.s(); !(_step20 = _iterator20.n()).done;) {\n              var _s33 = _step20.value;\n              t.rect(Math.floor(e * r), Math.round(_s33.ya * h) - l, o, a);\n            }\n          } catch (err) {\n            _iterator20.e(err);\n          } finally {\n            _iterator20.f();\n          }\n          t.fill();\n        }), t.useMediaCoordinateSpace(function (_ref12) {\n          var _s$textColor;\n          var t = _ref12.context;\n          t.font = _this41.nv(), t.fillStyle = (_s$textColor = s.textColor) !== null && _s$textColor !== void 0 ? _s$textColor : _this41.bl.textColor, t.textAlign = _this41.qp ? \"right\" : \"left\", t.textBaseline = \"middle\";\n          var r = _this41.qp ? Math.round(e - n.B) : Math.round(e + n.C + n.B),\n            h = i.map(function (i) {\n              return _this41.Np.Di(t, i.Ga);\n            });\n          for (var _s34 = i.length; _s34--;) {\n            var _n17 = i[_s34];\n            t.fillText(_n17.Ga, r, _n17.ya + h[_s34]);\n          }\n        });\n      }\n    }, {\n      key: \"lv\",\n      value: function lv() {\n        if (null === this.Op || null === this.qi) return;\n        var t = this.Op.height / 2;\n        var i = [],\n          s = this.qi.Dt().slice(),\n          n = this.Pt.hp(),\n          e = this.iv();\n        this.qi === n.$n() && this.Pt.hp().Dt().forEach(function (t) {\n          n.Un(t) && s.push(t);\n        });\n        var r = this.qi.ba()[0],\n          h = this.qi;\n        s.forEach(function (s) {\n          var e = s.Fs(n, h);\n          e.forEach(function (t) {\n            t.Fi(null), t.Hi() && i.push(t);\n          }), r === s && e.length > 0 && (t = e[0].Bi());\n        }), i.forEach(function (t) {\n          return t.Fi(t.Bi());\n        });\n        this.qi.N().alignLabels && this.vv(i, e, t);\n      }\n    }, {\n      key: \"vv\",\n      value: function vv(t, i, s) {\n        if (null === this.Op) return;\n        var n = t.filter(function (t) {\n            return t.Bi() <= s;\n          }),\n          e = t.filter(function (t) {\n            return t.Bi() > s;\n          });\n        n.sort(function (t, i) {\n          return i.Bi() - t.Bi();\n        }), n.length && e.length && e.push(n[0]), e.sort(function (t, i) {\n          return t.Bi() - i.Bi();\n        });\n        var _iterator21 = _createForOfIteratorHelper(t),\n          _step21;\n        try {\n          for (_iterator21.s(); !(_step21 = _iterator21.n()).done;) {\n            var _s35 = _step21.value;\n            var _t49 = Math.floor(_s35.$t(i) / 2),\n              _n18 = _s35.Bi();\n            _n18 > -_t49 && _n18 < _t49 && _s35.Fi(_t49), _n18 > this.Op.height - _t49 && _n18 < this.Op.height + _t49 && _s35.Fi(this.Op.height - _t49);\n          }\n        } catch (err) {\n          _iterator21.e(err);\n        } finally {\n          _iterator21.f();\n        }\n        Ts(n, 1, this.Op.height, i), Ts(e, -1, this.Op.height, i);\n      }\n    }, {\n      key: \"dv\",\n      value: function dv(t) {\n        var _this42 = this;\n        if (null === this.Op) return;\n        var i = this.ev(),\n          s = this.iv(),\n          n = this.qp ? \"right\" : \"left\";\n        i.forEach(function (i) {\n          if (i.Ui()) {\n            i.Tt(a(_this42.qi)).nt(t, s, _this42.Np, n);\n          }\n        });\n      }\n    }, {\n      key: \"fv\",\n      value: function fv(t) {\n        var _this43 = this;\n        if (null === this.Op || null === this.qi) return;\n        var i = this.Pt.$p().Qt(),\n          s = [],\n          n = this.Pt.hp(),\n          e = i._c().Fs(n, this.qi);\n        e.length && s.push(e);\n        var r = this.iv(),\n          h = this.qp ? \"right\" : \"left\";\n        s.forEach(function (i) {\n          i.forEach(function (i) {\n            i.Tt(a(_this43.qi)).nt(t, r, _this43.Np, h);\n          });\n        });\n      }\n    }, {\n      key: \"pv\",\n      value: function pv(t) {\n        this.qf.style.cursor = 1 === t ? \"ns-resize\" : \"default\";\n      }\n    }, {\n      key: \"ul\",\n      value: function ul() {\n        var t = this.sv();\n        this.Fp < t && this.Pt.$p().Qt().Bh(), this.Fp = t;\n      }\n    }, {\n      key: \"nv\",\n      value: function nv() {\n        return g(this.bl.fontSize, this.bl.fontFamily);\n      }\n    }]);\n  }();\n  function Ds(t, i) {\n    var _t$Jh, _t$Jh2;\n    return (_t$Jh = (_t$Jh2 = t.Jh) === null || _t$Jh2 === void 0 ? void 0 : _t$Jh2.call(t, i)) !== null && _t$Jh !== void 0 ? _t$Jh : [];\n  }\n  function Es(t, i) {\n    var _t$Ws, _t$Ws2;\n    return (_t$Ws = (_t$Ws2 = t.Ws) === null || _t$Ws2 === void 0 ? void 0 : _t$Ws2.call(t, i)) !== null && _t$Ws !== void 0 ? _t$Ws : [];\n  }\n  function Vs(t, i) {\n    var _t$us, _t$us2;\n    return (_t$us = (_t$us2 = t.us) === null || _t$us2 === void 0 ? void 0 : _t$us2.call(t, i)) !== null && _t$us !== void 0 ? _t$us : [];\n  }\n  function Bs(t, i) {\n    var _t$Xh, _t$Xh2;\n    return (_t$Xh = (_t$Xh2 = t.Xh) === null || _t$Xh2 === void 0 ? void 0 : _t$Xh2.call(t, i)) !== null && _t$Xh !== void 0 ? _t$Xh : [];\n  }\n  var Is = /*#__PURE__*/function () {\n    function Is(t, i) {\n      var _this44 = this;\n      _classCallCheck(this, Is);\n      this.Op = Qi({\n        width: 0,\n        height: 0\n      }), this.mv = null, this.wv = null, this.gv = null, this.Mv = null, this.bv = !1, this.xv = new o(), this.Sv = new o(), this.Cv = 0, this.Pv = !1, this.yv = null, this.kv = !1, this.Tv = null, this.Rv = null, this.Hp = !1, this.Up = function () {\n        _this44.Hp || null === _this44.Dv || _this44.ts().ar();\n      }, this.jp = function () {\n        _this44.Hp || null === _this44.Dv || _this44.ts().ar();\n      }, this.Dp = t, this.Dv = i, this.Dv.t_().i(this.Ev.bind(this), this, !0), this.Vv = document.createElement(\"td\"), this.Vv.style.padding = \"0\", this.Vv.style.position = \"relative\";\n      var s = document.createElement(\"div\");\n      s.style.width = \"100%\", s.style.height = \"100%\", s.style.position = \"relative\", s.style.overflow = \"hidden\", this.Bv = document.createElement(\"td\"), this.Bv.style.padding = \"0\", this.Iv = document.createElement(\"td\"), this.Iv.style.padding = \"0\", this.Vv.appendChild(s), this.Zp = xs(s, Qi({\n        width: 16,\n        height: 16\n      })), this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);\n      var n = this.Zp.canvasElement;\n      n.style.position = \"absolute\", n.style.zIndex = \"1\", n.style.left = \"0\", n.style.top = \"0\", this.Gp = xs(s, Qi({\n        width: 16,\n        height: 16\n      })), this.Gp.subscribeSuggestedBitmapSizeChanged(this.jp);\n      var e = this.Gp.canvasElement;\n      e.style.position = \"absolute\", e.style.zIndex = \"2\", e.style.left = \"0\", e.style.top = \"0\", this.jf = document.createElement(\"tr\"), this.jf.appendChild(this.Bv), this.jf.appendChild(this.Vv), this.jf.appendChild(this.Iv), this.Av(), this.Lf = new us(this.Gp.canvasElement, this, {\n        hf: function hf() {\n          return null === _this44.yv && !_this44.Dp.N().handleScroll.vertTouchDrag;\n        },\n        af: function af() {\n          return null === _this44.yv && !_this44.Dp.N().handleScroll.horzTouchDrag;\n        }\n      });\n    }\n    return _createClass(Is, [{\n      key: \"m\",\n      value: function m() {\n        null !== this.mv && this.mv.m(), null !== this.wv && this.wv.m(), this.gv = null, this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.jp), Ss(this.Gp.canvasElement), this.Gp.dispose(), this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up), Ss(this.Zp.canvasElement), this.Zp.dispose(), null !== this.Dv && (this.Dv.t_().u(this), this.Dv.m()), this.Lf.m();\n      }\n    }, {\n      key: \"hp\",\n      value: function hp() {\n        return a(this.Dv);\n      }\n    }, {\n      key: \"zv\",\n      value: function zv(t) {\n        var _this$gv, _this$gv2;\n        null !== this.Dv && this.Dv.t_().u(this), this.Dv = t, null !== this.Dv && this.Dv.t_().i(Is.prototype.Ev.bind(this), this, !0), this.Av(), this.Dp.Uf().indexOf(this) === this.Dp.Uf().length - 1 ? (this.gv = (_this$gv = this.gv) !== null && _this$gv !== void 0 ? _this$gv : new bs(this.Vv, this.Dp), this.gv.yt()) : ((_this$gv2 = this.gv) !== null && _this$gv2 !== void 0 && _this$gv2.Vp(), this.gv = null);\n      }\n    }, {\n      key: \"$p\",\n      value: function $p() {\n        return this.Dp;\n      }\n    }, {\n      key: \"Xf\",\n      value: function Xf() {\n        return this.jf;\n      }\n    }, {\n      key: \"Av\",\n      value: function Av() {\n        if (null !== this.Dv && (this.Ov(), 0 !== this.ts().Ys().length)) {\n          if (null !== this.mv) {\n            var _t50 = this.Dv.Fo();\n            this.mv._s(a(_t50));\n          }\n          if (null !== this.wv) {\n            var _t51 = this.Dv.Ho();\n            this.wv._s(a(_t51));\n          }\n        }\n      }\n    }, {\n      key: \"Lv\",\n      value: function Lv() {\n        null !== this.mv && this.mv.yt(), null !== this.wv && this.wv.yt();\n      }\n    }, {\n      key: \"Vo\",\n      value: function Vo() {\n        return null !== this.Dv ? this.Dv.Vo() : 0;\n      }\n    }, {\n      key: \"Bo\",\n      value: function Bo(t) {\n        this.Dv && this.Dv.Bo(t);\n      }\n    }, {\n      key: \"if\",\n      value: function _if(t) {\n        if (!this.Dv) return;\n        this.Nv();\n        var i = t.localX,\n          s = t.localY;\n        this.Wv(i, s, t);\n      }\n    }, {\n      key: \"bf\",\n      value: function bf(t) {\n        this.Nv(), this.Fv(), this.Wv(t.localX, t.localY, t);\n      }\n    }, {\n      key: \"sf\",\n      value: function sf(t) {\n        if (!this.Dv) return;\n        this.Nv();\n        var i = t.localX,\n          s = t.localY;\n        this.Wv(i, s, t);\n      }\n    }, {\n      key: \"vf\",\n      value: function vf(t) {\n        null !== this.Dv && (this.Nv(), this.Hv(t));\n      }\n    }, {\n      key: \"Kd\",\n      value: function Kd(t) {\n        null !== this.Dv && this.Uv(this.Sv, t);\n      }\n    }, {\n      key: \"$d\",\n      value: function $d(t) {\n        this.Kd(t);\n      }\n    }, {\n      key: \"uf\",\n      value: function uf(t) {\n        this.Nv(), this.$v(t), this.Wv(t.localX, t.localY, t);\n      }\n    }, {\n      key: \"pf\",\n      value: function pf(t) {\n        null !== this.Dv && (this.Nv(), this.Pv = !1, this.jv(t));\n      }\n    }, {\n      key: \"ff\",\n      value: function ff(t) {\n        null !== this.Dv && this.Hv(t);\n      }\n    }, {\n      key: \"Vf\",\n      value: function Vf(t) {\n        if (this.Pv = !0, null === this.yv) {\n          var _i55 = {\n            x: t.localX,\n            y: t.localY\n          };\n          this.qv(_i55, _i55, t);\n        }\n      }\n    }, {\n      key: \"Ef\",\n      value: function Ef(t) {\n        null !== this.Dv && (this.Nv(), this.Dv.Qt().ac(null), this.Yv());\n      }\n    }, {\n      key: \"Kv\",\n      value: function Kv() {\n        return this.xv;\n      }\n    }, {\n      key: \"Xv\",\n      value: function Xv() {\n        return this.Sv;\n      }\n    }, {\n      key: \"Pf\",\n      value: function Pf() {\n        this.Cv = 1, this.ts().hn();\n      }\n    }, {\n      key: \"yf\",\n      value: function yf(t, i) {\n        if (!this.Dp.N().handleScale.pinch) return;\n        var s = 5 * (i - this.Cv);\n        this.Cv = i, this.ts().Mc(t._t, s);\n      }\n    }, {\n      key: \"gf\",\n      value: function gf(t) {\n        this.Pv = !1, this.kv = null !== this.yv, this.Fv();\n        var i = this.ts()._c();\n        null !== this.yv && i.Et() && (this.Tv = {\n          x: i.si(),\n          y: i.ni()\n        }, this.yv = {\n          x: t.localX,\n          y: t.localY\n        });\n      }\n    }, {\n      key: \"lf\",\n      value: function lf(t) {\n        if (null === this.Dv) return;\n        var i = t.localX,\n          s = t.localY;\n        if (null === this.yv) this.$v(t);else {\n          this.kv = !1;\n          var _n19 = a(this.Tv),\n            _e12 = _n19.x + (i - this.yv.x),\n            _r10 = _n19.y + (s - this.yv.y);\n          this.Wv(_e12, _r10, t);\n        }\n      }\n    }, {\n      key: \"df\",\n      value: function df(t) {\n        0 === this.$p().N().trackingMode.exitMode && (this.kv = !0), this.Zv(), this.jv(t);\n      }\n    }, {\n      key: \"Yn\",\n      value: function Yn(t, i) {\n        var s = this.Dv;\n        return null === s ? null : bi(s, t, i);\n      }\n    }, {\n      key: \"Gv\",\n      value: function Gv(t, i) {\n        a(\"left\" === i ? this.mv : this.wv).rv(Qi({\n          width: t,\n          height: this.Op.height\n        }));\n      }\n    }, {\n      key: \"Zf\",\n      value: function Zf() {\n        return this.Op;\n      }\n    }, {\n      key: \"rv\",\n      value: function rv(t) {\n        ts(this.Op, t) || (this.Op = t, this.Hp = !0, this.Zp.resizeCanvasElement(t), this.Gp.resizeCanvasElement(t), this.Hp = !1, this.Vv.style.width = t.width + \"px\", this.Vv.style.height = t.height + \"px\");\n      }\n    }, {\n      key: \"Jv\",\n      value: function Jv() {\n        var t = a(this.Dv);\n        t.Wo(t.Fo()), t.Wo(t.Ho());\n        var _iterator22 = _createForOfIteratorHelper(t.ba()),\n          _step22;\n        try {\n          for (_iterator22.s(); !(_step22 = _iterator22.n()).done;) {\n            var _i56 = _step22.value;\n            if (t.Un(_i56)) {\n              var _s36 = _i56.Wt();\n              null !== _s36 && t.Wo(_s36), _i56.Ns();\n            }\n          }\n        } catch (err) {\n          _iterator22.e(err);\n        } finally {\n          _iterator22.f();\n        }\n        var _iterator23 = _createForOfIteratorHelper(t.s_()),\n          _step23;\n        try {\n          for (_iterator23.s(); !(_step23 = _iterator23.n()).done;) {\n            var _i57 = _step23.value;\n            _i57.Ns();\n          }\n        } catch (err) {\n          _iterator23.e(err);\n        } finally {\n          _iterator23.f();\n        }\n      }\n    }, {\n      key: \"Gf\",\n      value: function Gf() {\n        return this.Zp.bitmapSize;\n      }\n    }, {\n      key: \"Jf\",\n      value: function Jf(t, i, s) {\n        var n = this.Gf();\n        n.width > 0 && n.height > 0 && t.drawImage(this.Zp.canvasElement, i, s);\n      }\n    }, {\n      key: \"av\",\n      value: function av(t) {\n        var _this45 = this;\n        if (0 === t) return;\n        if (null === this.Dv) return;\n        t > 1 && this.Jv(), null !== this.mv && this.mv.av(t), null !== this.wv && this.wv.av(t);\n        var i = {\n          colorSpace: this.Dp.N().layout.colorSpace\n        };\n        if (1 !== t) {\n          this.Zp.applySuggestedBitmapSize();\n          var _t52 = rs(this.Zp, i);\n          null !== _t52 && (_t52.useBitmapCoordinateSpace(function (t) {\n            _this45.ov(t);\n          }), this.Dv && (this.Qv(_t52, Ds), this.tm(_t52), this.Qv(_t52, Es), this.Qv(_t52, Vs)));\n        }\n        this.Gp.applySuggestedBitmapSize();\n        var s = rs(this.Gp, i);\n        null !== s && (s.useBitmapCoordinateSpace(function (_ref13) {\n          var t = _ref13.context,\n            i = _ref13.bitmapSize;\n          t.clearRect(0, 0, i.width, i.height);\n        }), this.im(s), this.Qv(s, Bs), this.Qv(s, Vs));\n      }\n    }, {\n      key: \"sm\",\n      value: function sm() {\n        return this.mv;\n      }\n    }, {\n      key: \"nm\",\n      value: function nm() {\n        return this.wv;\n      }\n    }, {\n      key: \"uv\",\n      value: function uv(t, i) {\n        this.Qv(t, i);\n      }\n    }, {\n      key: \"Ev\",\n      value: function Ev() {\n        null !== this.Dv && this.Dv.t_().u(this), this.Dv = null;\n      }\n    }, {\n      key: \"Hv\",\n      value: function Hv(t) {\n        this.Uv(this.xv, t);\n      }\n    }, {\n      key: \"Uv\",\n      value: function Uv(t, i) {\n        var s = i.localX,\n          n = i.localY;\n        t.v() && t.p(this.ts().It().uu(s), {\n          x: s,\n          y: n\n        }, i);\n      }\n    }, {\n      key: \"ov\",\n      value: function ov(_ref14) {\n        var t = _ref14.context,\n          i = _ref14.bitmapSize;\n        var s = i.width,\n          n = i.height,\n          e = this.ts(),\n          r = e.$(),\n          h = e.Wc();\n        r === h ? B(t, 0, 0, s, n, h) : z(t, 0, 0, s, n, r, h);\n      }\n    }, {\n      key: \"tm\",\n      value: function tm(t) {\n        var i = a(this.Dv),\n          s = i.i_().lr().Tt(i);\n        null !== s && s.nt(t, !1);\n      }\n    }, {\n      key: \"im\",\n      value: function im(t) {\n        this.rm(t, Es, Ps, this.ts()._c());\n      }\n    }, {\n      key: \"Qv\",\n      value: function Qv(t, i) {\n        var s = a(this.Dv),\n          n = s.Dt(),\n          e = s.s_();\n        var _iterator24 = _createForOfIteratorHelper(e),\n          _step24;\n        try {\n          for (_iterator24.s(); !(_step24 = _iterator24.n()).done;) {\n            var _s37 = _step24.value;\n            this.rm(t, i, Cs, _s37);\n          }\n        } catch (err) {\n          _iterator24.e(err);\n        } finally {\n          _iterator24.f();\n        }\n        var _iterator25 = _createForOfIteratorHelper(n),\n          _step25;\n        try {\n          for (_iterator25.s(); !(_step25 = _iterator25.n()).done;) {\n            var _s38 = _step25.value;\n            this.rm(t, i, Cs, _s38);\n          }\n        } catch (err) {\n          _iterator25.e(err);\n        } finally {\n          _iterator25.f();\n        }\n        var _iterator26 = _createForOfIteratorHelper(e),\n          _step26;\n        try {\n          for (_iterator26.s(); !(_step26 = _iterator26.n()).done;) {\n            var _s39 = _step26.value;\n            this.rm(t, i, Ps, _s39);\n          }\n        } catch (err) {\n          _iterator26.e(err);\n        } finally {\n          _iterator26.f();\n        }\n        var _iterator27 = _createForOfIteratorHelper(n),\n          _step27;\n        try {\n          for (_iterator27.s(); !(_step27 = _iterator27.n()).done;) {\n            var _s40 = _step27.value;\n            this.rm(t, i, Ps, _s40);\n          }\n        } catch (err) {\n          _iterator27.e(err);\n        } finally {\n          _iterator27.f();\n        }\n      }\n    }, {\n      key: \"rm\",\n      value: function rm(t, i, s, n) {\n        var e = a(this.Dv),\n          r = e.Qt().hc(),\n          h = null !== r && r.n_ === n,\n          l = null !== r && h && void 0 !== r.e_ ? r.e_.Xn : void 0;\n        ys(i, function (i) {\n          return s(i, t, h, l);\n        }, n, e);\n      }\n    }, {\n      key: \"Ov\",\n      value: function Ov() {\n        if (null === this.Dv) return;\n        var t = this.Dp,\n          i = this.Dv.Fo().N().visible,\n          s = this.Dv.Ho().N().visible;\n        i || null === this.mv || (this.Bv.removeChild(this.mv.Xf()), this.mv.m(), this.mv = null), s || null === this.wv || (this.Iv.removeChild(this.wv.Xf()), this.wv.m(), this.wv = null);\n        var n = t.Qt().Ec();\n        i && null === this.mv && (this.mv = new Rs(this, t.N(), n, \"left\"), this.Bv.appendChild(this.mv.Xf())), s && null === this.wv && (this.wv = new Rs(this, t.N(), n, \"right\"), this.Iv.appendChild(this.wv.Xf()));\n      }\n    }, {\n      key: \"hm\",\n      value: function hm(t) {\n        return t.Bf && this.Pv || null !== this.yv;\n      }\n    }, {\n      key: \"am\",\n      value: function am(t) {\n        return Math.max(0, Math.min(t, this.Op.width - 1));\n      }\n    }, {\n      key: \"lm\",\n      value: function lm(t) {\n        return Math.max(0, Math.min(t, this.Op.height - 1));\n      }\n    }, {\n      key: \"Wv\",\n      value: function Wv(t, i, s) {\n        this.ts().kc(this.am(t), this.lm(i), s, a(this.Dv));\n      }\n    }, {\n      key: \"Yv\",\n      value: function Yv() {\n        this.ts().Rc();\n      }\n    }, {\n      key: \"Zv\",\n      value: function Zv() {\n        this.kv && (this.yv = null, this.Yv());\n      }\n    }, {\n      key: \"qv\",\n      value: function qv(t, i, s) {\n        this.yv = t, this.kv = !1, this.Wv(i.x, i.y, s);\n        var n = this.ts()._c();\n        this.Tv = {\n          x: n.si(),\n          y: n.ni()\n        };\n      }\n    }, {\n      key: \"ts\",\n      value: function ts() {\n        return this.Dp.Qt();\n      }\n    }, {\n      key: \"jv\",\n      value: function jv(t) {\n        if (!this.bv) return;\n        var i = this.ts(),\n          s = this.hp();\n        if (i.Ko(s, s.ks()), this.Mv = null, this.bv = !1, i.Cc(), null !== this.Rv) {\n          var _t53 = performance.now(),\n            _s41 = i.It();\n          this.Rv.le(_s41.wu(), _t53), this.Rv.Tu(_t53) || i._n(this.Rv);\n        }\n      }\n    }, {\n      key: \"Nv\",\n      value: function Nv() {\n        this.yv = null;\n      }\n    }, {\n      key: \"Fv\",\n      value: function Fv() {\n        if (!this.Dv) return;\n        if (this.ts().hn(), document.activeElement !== document.body && document.activeElement !== document.documentElement) a(document.activeElement).blur();else {\n          var _t54 = document.getSelection();\n          null !== _t54 && _t54.removeAllRanges();\n        }\n        !this.Dv.ks().Ki() && this.ts().It().Ki();\n      }\n    }, {\n      key: \"$v\",\n      value: function $v(t) {\n        if (null === this.Dv) return;\n        var i = this.ts(),\n          s = i.It();\n        if (s.Ki()) return;\n        var n = this.Dp.N(),\n          e = n.handleScroll,\n          r = n.kineticScroll;\n        if ((!e.pressedMouseMove || t.Bf) && (!e.horzTouchDrag && !e.vertTouchDrag || !t.Bf)) return;\n        var h = this.Dv.ks(),\n          a = performance.now();\n        if (null !== this.Mv || this.hm(t) || (this.Mv = {\n          x: t.clientX,\n          y: t.clientY,\n          ed: a,\n          om: t.localX,\n          _m: t.localY\n        }), null !== this.Mv && !this.bv && (this.Mv.x !== t.clientX || this.Mv.y !== t.clientY)) {\n          if (t.Bf && r.touch || !t.Bf && r.mouse) {\n            var _t55 = s.vu();\n            this.Rv = new Ms(.2 / _t55, 7 / _t55, .997, 15 / _t55), this.Rv.Cp(s.wu(), this.Mv.ed);\n          } else this.Rv = null;\n          h.Ki() || i.qo(this.Dv, h, t.localY), i.xc(t.localX), this.bv = !0;\n        }\n        this.bv && (h.Ki() || i.Yo(this.Dv, h, t.localY), i.Sc(t.localX), null !== this.Rv && this.Rv.Cp(s.wu(), a));\n      }\n    }]);\n  }();\n  var As = /*#__PURE__*/function () {\n    function As(t, i, s, n, e) {\n      var _this46 = this;\n      _classCallCheck(this, As);\n      this.St = !0, this.Op = Qi({\n        width: 0,\n        height: 0\n      }), this.Up = function () {\n        return _this46.av(3);\n      }, this.qp = \"left\" === t, this.Gu = s.Ec, this.Ps = i, this.um = n, this.dm = e, this.qf = document.createElement(\"div\"), this.qf.style.width = \"25px\", this.qf.style.height = \"100%\", this.qf.style.overflow = \"hidden\", this.Zp = xs(this.qf, Qi({\n        width: 16,\n        height: 16\n      })), this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);\n    }\n    return _createClass(As, [{\n      key: \"m\",\n      value: function m() {\n        this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up), Ss(this.Zp.canvasElement), this.Zp.dispose();\n      }\n    }, {\n      key: \"Xf\",\n      value: function Xf() {\n        return this.qf;\n      }\n    }, {\n      key: \"Zf\",\n      value: function Zf() {\n        return this.Op;\n      }\n    }, {\n      key: \"rv\",\n      value: function rv(t) {\n        ts(this.Op, t) || (this.Op = t, this.Zp.resizeCanvasElement(t), this.qf.style.width = \"\".concat(t.width, \"px\"), this.qf.style.height = \"\".concat(t.height, \"px\"), this.St = !0);\n      }\n    }, {\n      key: \"av\",\n      value: function av(t) {\n        var _this47 = this;\n        if (t < 3 && !this.St) return;\n        if (0 === this.Op.width || 0 === this.Op.height) return;\n        this.St = !1, this.Zp.applySuggestedBitmapSize();\n        var i = rs(this.Zp, {\n          colorSpace: this.Ps.layout.colorSpace\n        });\n        null !== i && i.useBitmapCoordinateSpace(function (t) {\n          _this47.ov(t), _this47._v(t);\n        });\n      }\n    }, {\n      key: \"Gf\",\n      value: function Gf() {\n        return this.Zp.bitmapSize;\n      }\n    }, {\n      key: \"Jf\",\n      value: function Jf(t, i, s) {\n        var n = this.Gf();\n        n.width > 0 && n.height > 0 && t.drawImage(this.Zp.canvasElement, i, s);\n      }\n    }, {\n      key: \"_v\",\n      value: function _v(_ref15) {\n        var t = _ref15.context,\n          i = _ref15.bitmapSize,\n          s = _ref15.horizontalPixelRatio,\n          n = _ref15.verticalPixelRatio;\n        if (!this.um()) return;\n        t.fillStyle = this.Ps.timeScale.borderColor;\n        var e = Math.floor(this.Gu.N().S * s),\n          r = Math.floor(this.Gu.N().S * n),\n          h = this.qp ? i.width - e : 0;\n        t.fillRect(h, 0, e, r);\n      }\n    }, {\n      key: \"ov\",\n      value: function ov(_ref16) {\n        var t = _ref16.context,\n          i = _ref16.bitmapSize;\n        B(t, 0, 0, i.width, i.height, this.dm());\n      }\n    }]);\n  }();\n  function zs(t) {\n    return function (i) {\n      var _i$ia, _i$ia2;\n      return (_i$ia = (_i$ia2 = i.ia) === null || _i$ia2 === void 0 ? void 0 : _i$ia2.call(i, t)) !== null && _i$ia !== void 0 ? _i$ia : [];\n    };\n  }\n  var Os = zs(\"normal\"),\n    Ls = zs(\"top\"),\n    Ns = zs(\"bottom\");\n  var Ws = /*#__PURE__*/function () {\n    function Ws(t, i) {\n      var _this48 = this;\n      _classCallCheck(this, Ws);\n      this.fm = null, this.pm = null, this.M = null, this.vm = !1, this.Op = Qi({\n        width: 0,\n        height: 0\n      }), this.wm = new o(), this.Np = new it(5), this.Hp = !1, this.Up = function () {\n        _this48.Hp || _this48.Dp.Qt().ar();\n      }, this.jp = function () {\n        _this48.Hp || _this48.Dp.Qt().ar();\n      }, this.Dp = t, this.o_ = i, this.Ps = t.N().layout, this.yp = document.createElement(\"tr\"), this.gm = document.createElement(\"td\"), this.gm.style.padding = \"0\", this.Mm = document.createElement(\"td\"), this.Mm.style.padding = \"0\", this.qf = document.createElement(\"td\"), this.qf.style.height = \"25px\", this.qf.style.padding = \"0\", this.bm = document.createElement(\"div\"), this.bm.style.width = \"100%\", this.bm.style.height = \"100%\", this.bm.style.position = \"relative\", this.bm.style.overflow = \"hidden\", this.qf.appendChild(this.bm), this.Zp = xs(this.bm, Qi({\n        width: 16,\n        height: 16\n      })), this.Zp.subscribeSuggestedBitmapSizeChanged(this.Up);\n      var s = this.Zp.canvasElement;\n      s.style.position = \"absolute\", s.style.zIndex = \"1\", s.style.left = \"0\", s.style.top = \"0\", this.Gp = xs(this.bm, Qi({\n        width: 16,\n        height: 16\n      })), this.Gp.subscribeSuggestedBitmapSizeChanged(this.jp);\n      var n = this.Gp.canvasElement;\n      n.style.position = \"absolute\", n.style.zIndex = \"2\", n.style.left = \"0\", n.style.top = \"0\", this.yp.appendChild(this.gm), this.yp.appendChild(this.qf), this.yp.appendChild(this.Mm), this.xm(), this.Dp.Qt().Eo().i(this.xm.bind(this), this), this.Lf = new us(this.Gp.canvasElement, this, {\n        hf: function hf() {\n          return !0;\n        },\n        af: function af() {\n          return !_this48.Dp.N().handleScroll.horzTouchDrag;\n        }\n      });\n    }\n    return _createClass(Ws, [{\n      key: \"m\",\n      value: function m() {\n        this.Lf.m(), null !== this.fm && this.fm.m(), null !== this.pm && this.pm.m(), this.Gp.unsubscribeSuggestedBitmapSizeChanged(this.jp), Ss(this.Gp.canvasElement), this.Gp.dispose(), this.Zp.unsubscribeSuggestedBitmapSizeChanged(this.Up), Ss(this.Zp.canvasElement), this.Zp.dispose();\n      }\n    }, {\n      key: \"Xf\",\n      value: function Xf() {\n        return this.yp;\n      }\n    }, {\n      key: \"Sm\",\n      value: function Sm() {\n        return this.fm;\n      }\n    }, {\n      key: \"Cm\",\n      value: function Cm() {\n        return this.pm;\n      }\n    }, {\n      key: \"bf\",\n      value: function bf(t) {\n        if (this.vm) return;\n        this.vm = !0;\n        var i = this.Dp.Qt();\n        !i.It().Ki() && this.Dp.N().handleScale.axisPressedMouseMove.time && i.gc(t.localX);\n      }\n    }, {\n      key: \"gf\",\n      value: function gf(t) {\n        this.bf(t);\n      }\n    }, {\n      key: \"xf\",\n      value: function xf() {\n        var t = this.Dp.Qt();\n        !t.It().Ki() && this.vm && (this.vm = !1, this.Dp.N().handleScale.axisPressedMouseMove.time && t.yc());\n      }\n    }, {\n      key: \"uf\",\n      value: function uf(t) {\n        var i = this.Dp.Qt();\n        !i.It().Ki() && this.Dp.N().handleScale.axisPressedMouseMove.time && i.Pc(t.localX);\n      }\n    }, {\n      key: \"lf\",\n      value: function lf(t) {\n        this.uf(t);\n      }\n    }, {\n      key: \"pf\",\n      value: function pf() {\n        this.vm = !1;\n        var t = this.Dp.Qt();\n        t.It().Ki() && !this.Dp.N().handleScale.axisPressedMouseMove.time || t.yc();\n      }\n    }, {\n      key: \"df\",\n      value: function df() {\n        this.pf();\n      }\n    }, {\n      key: \"Kd\",\n      value: function Kd() {\n        this.Dp.N().handleScale.axisDoubleClickReset.time && this.Dp.Qt().cn();\n      }\n    }, {\n      key: \"$d\",\n      value: function $d() {\n        this.Kd();\n      }\n    }, {\n      key: \"if\",\n      value: function _if() {\n        this.Dp.Qt().N().handleScale.axisPressedMouseMove.time && this.pv(1);\n      }\n    }, {\n      key: \"Ef\",\n      value: function Ef() {\n        this.pv(0);\n      }\n    }, {\n      key: \"Zf\",\n      value: function Zf() {\n        return this.Op;\n      }\n    }, {\n      key: \"Pm\",\n      value: function Pm() {\n        return this.wm;\n      }\n    }, {\n      key: \"ym\",\n      value: function ym(t, i, s) {\n        ts(this.Op, t) || (this.Op = t, this.Hp = !0, this.Zp.resizeCanvasElement(t), this.Gp.resizeCanvasElement(t), this.Hp = !1, this.qf.style.width = \"\".concat(t.width, \"px\"), this.qf.style.height = \"\".concat(t.height, \"px\"), this.wm.p(t)), null !== this.fm && this.fm.rv(Qi({\n          width: i,\n          height: t.height\n        })), null !== this.pm && this.pm.rv(Qi({\n          width: s,\n          height: t.height\n        }));\n      }\n    }, {\n      key: \"km\",\n      value: function km() {\n        var t = this.Tm();\n        return Math.ceil(t.S + t.C + t.P + t.A + t.V + t.Rm);\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        this.Dp.Qt().It().Ea();\n      }\n    }, {\n      key: \"Gf\",\n      value: function Gf() {\n        return this.Zp.bitmapSize;\n      }\n    }, {\n      key: \"Jf\",\n      value: function Jf(t, i, s) {\n        var n = this.Gf();\n        n.width > 0 && n.height > 0 && t.drawImage(this.Zp.canvasElement, i, s);\n      }\n    }, {\n      key: \"av\",\n      value: function av(t) {\n        var _this49 = this;\n        if (0 === t) return;\n        var i = {\n          colorSpace: this.Ps.colorSpace\n        };\n        if (1 !== t) {\n          this.Zp.applySuggestedBitmapSize();\n          var _s42 = rs(this.Zp, i);\n          null !== _s42 && (_s42.useBitmapCoordinateSpace(function (t) {\n            _this49.ov(t), _this49._v(t), _this49.Dm(_s42, Ns);\n          }), this.cv(_s42), this.Dm(_s42, Os)), null !== this.fm && this.fm.av(t), null !== this.pm && this.pm.av(t);\n        }\n        this.Gp.applySuggestedBitmapSize();\n        var s = rs(this.Gp, i);\n        null !== s && (s.useBitmapCoordinateSpace(function (_ref17) {\n          var t = _ref17.context,\n            i = _ref17.bitmapSize;\n          t.clearRect(0, 0, i.width, i.height);\n        }), this.Em([].concat(_toConsumableArray(this.Dp.Qt().Ys()), [this.Dp.Qt()._c()]), s), this.Dm(s, Ls));\n      }\n    }, {\n      key: \"Dm\",\n      value: function Dm(t, i) {\n        var s = this.Dp.Qt().Ys();\n        var _iterator28 = _createForOfIteratorHelper(s),\n          _step28;\n        try {\n          for (_iterator28.s(); !(_step28 = _iterator28.n()).done;) {\n            var _n20 = _step28.value;\n            ys(i, function (i) {\n              return Cs(i, t, !1, void 0);\n            }, _n20, void 0);\n          }\n        } catch (err) {\n          _iterator28.e(err);\n        } finally {\n          _iterator28.f();\n        }\n        var _iterator29 = _createForOfIteratorHelper(s),\n          _step29;\n        try {\n          for (_iterator29.s(); !(_step29 = _iterator29.n()).done;) {\n            var _n21 = _step29.value;\n            ys(i, function (i) {\n              return Ps(i, t, !1, void 0);\n            }, _n21, void 0);\n          }\n        } catch (err) {\n          _iterator29.e(err);\n        } finally {\n          _iterator29.f();\n        }\n      }\n    }, {\n      key: \"ov\",\n      value: function ov(_ref18) {\n        var t = _ref18.context,\n          i = _ref18.bitmapSize;\n        B(t, 0, 0, i.width, i.height, this.Dp.Qt().Wc());\n      }\n    }, {\n      key: \"_v\",\n      value: function _v(_ref19) {\n        var t = _ref19.context,\n          i = _ref19.bitmapSize,\n          s = _ref19.verticalPixelRatio;\n        if (this.Dp.N().timeScale.borderVisible) {\n          t.fillStyle = this.Vm();\n          var _n22 = Math.max(1, Math.floor(this.Tm().S * s));\n          t.fillRect(0, 0, i.width, _n22);\n        }\n      }\n    }, {\n      key: \"cv\",\n      value: function cv(t) {\n        var _this50 = this;\n        var i = this.Dp.Qt().It(),\n          s = i.Ea();\n        if (!s || 0 === s.length) return;\n        var n = this.o_.maxTickMarkWeight(s),\n          e = this.Tm(),\n          r = i.N();\n        r.borderVisible && r.ticksVisible && t.useBitmapCoordinateSpace(function (_ref20) {\n          var t = _ref20.context,\n            i = _ref20.horizontalPixelRatio,\n            n = _ref20.verticalPixelRatio;\n          t.strokeStyle = _this50.Vm(), t.fillStyle = _this50.Vm();\n          var r = Math.max(1, Math.floor(i)),\n            h = Math.floor(.5 * i);\n          t.beginPath();\n          var a = Math.round(e.C * n);\n          for (var _n23 = s.length; _n23--;) {\n            var _e13 = Math.round(s[_n23].coord * i);\n            t.rect(_e13 - h, 0, r, a);\n          }\n          t.fill();\n        }), t.useMediaCoordinateSpace(function (_ref21) {\n          var t = _ref21.context;\n          var i = e.S + e.C + e.A + e.P / 2;\n          t.textAlign = \"center\", t.textBaseline = \"middle\", t.fillStyle = _this50.H(), t.font = _this50.nv();\n          var _iterator30 = _createForOfIteratorHelper(s),\n            _step30;\n          try {\n            for (_iterator30.s(); !(_step30 = _iterator30.n()).done;) {\n              var _e14 = _step30.value;\n              if (_e14.weight < n) {\n                var _s43 = _e14.needAlignCoordinate ? _this50.Bm(t, _e14.coord, _e14.label) : _e14.coord;\n                t.fillText(_e14.label, _s43, i);\n              }\n            }\n          } catch (err) {\n            _iterator30.e(err);\n          } finally {\n            _iterator30.f();\n          }\n          _this50.Dp.N().timeScale.allowBoldLabels && (t.font = _this50.Im());\n          var _iterator31 = _createForOfIteratorHelper(s),\n            _step31;\n          try {\n            for (_iterator31.s(); !(_step31 = _iterator31.n()).done;) {\n              var _e15 = _step31.value;\n              if (_e15.weight >= n) {\n                var _s44 = _e15.needAlignCoordinate ? _this50.Bm(t, _e15.coord, _e15.label) : _e15.coord;\n                t.fillText(_e15.label, _s44, i);\n              }\n            }\n          } catch (err) {\n            _iterator31.e(err);\n          } finally {\n            _iterator31.f();\n          }\n        });\n      }\n    }, {\n      key: \"Bm\",\n      value: function Bm(t, i, s) {\n        var n = this.Np.Ei(t, s),\n          e = n / 2,\n          r = Math.floor(i - e) + .5;\n        return r < 0 ? i += Math.abs(0 - r) : r + n > this.Op.width && (i -= Math.abs(this.Op.width - (r + n))), i;\n      }\n    }, {\n      key: \"Em\",\n      value: function Em(t, i) {\n        var s = this.Tm();\n        var _iterator32 = _createForOfIteratorHelper(t),\n          _step32;\n        try {\n          for (_iterator32.s(); !(_step32 = _iterator32.n()).done;) {\n            var _n24 = _step32.value;\n            var _iterator33 = _createForOfIteratorHelper(_n24.cs()),\n              _step33;\n            try {\n              for (_iterator33.s(); !(_step33 = _iterator33.n()).done;) {\n                var _t56 = _step33.value;\n                _t56.Tt().nt(i, s);\n              }\n            } catch (err) {\n              _iterator33.e(err);\n            } finally {\n              _iterator33.f();\n            }\n          }\n        } catch (err) {\n          _iterator32.e(err);\n        } finally {\n          _iterator32.f();\n        }\n      }\n    }, {\n      key: \"Vm\",\n      value: function Vm() {\n        return this.Dp.N().timeScale.borderColor;\n      }\n    }, {\n      key: \"H\",\n      value: function H() {\n        return this.Ps.textColor;\n      }\n    }, {\n      key: \"W\",\n      value: function W() {\n        return this.Ps.fontSize;\n      }\n    }, {\n      key: \"nv\",\n      value: function nv() {\n        return g(this.W(), this.Ps.fontFamily);\n      }\n    }, {\n      key: \"Im\",\n      value: function Im() {\n        return g(this.W(), this.Ps.fontFamily, \"bold\");\n      }\n    }, {\n      key: \"Tm\",\n      value: function Tm() {\n        null === this.M && (this.M = {\n          S: 1,\n          O: NaN,\n          A: NaN,\n          V: NaN,\n          Ji: NaN,\n          C: 5,\n          P: NaN,\n          k: \"\",\n          Gi: new it(),\n          Rm: 0\n        });\n        var t = this.M,\n          i = this.nv();\n        if (t.k !== i) {\n          var _s45 = this.W();\n          t.P = _s45, t.k = i, t.A = 3 * _s45 / 12, t.V = 3 * _s45 / 12, t.Ji = 9 * _s45 / 12, t.O = 0, t.Rm = 4 * _s45 / 12, t.Gi.Vn();\n        }\n        return this.M;\n      }\n    }, {\n      key: \"pv\",\n      value: function pv(t) {\n        this.qf.style.cursor = 1 === t ? \"ew-resize\" : \"default\";\n      }\n    }, {\n      key: \"xm\",\n      value: function xm() {\n        var t = this.Dp.Qt(),\n          i = t.N();\n        i.leftPriceScale.visible || null === this.fm || (this.gm.removeChild(this.fm.Xf()), this.fm.m(), this.fm = null), i.rightPriceScale.visible || null === this.pm || (this.Mm.removeChild(this.pm.Xf()), this.pm.m(), this.pm = null);\n        var s = {\n            Ec: this.Dp.Qt().Ec()\n          },\n          n = function n() {\n            return i.leftPriceScale.borderVisible && t.It().N().borderVisible;\n          },\n          e = function e() {\n            return t.Wc();\n          };\n        i.leftPriceScale.visible && null === this.fm && (this.fm = new As(\"left\", i, s, n, e), this.gm.appendChild(this.fm.Xf())), i.rightPriceScale.visible && null === this.pm && (this.pm = new As(\"right\", i, s, n, e), this.Mm.appendChild(this.pm.Xf()));\n      }\n    }]);\n  }();\n  var Fs = !!hs && !!navigator.userAgentData && navigator.userAgentData.brands.some(function (t) {\n    return t.brand.includes(\"Chromium\");\n  }) && !!hs && ((_navigator = navigator) !== null && _navigator !== void 0 && (_navigator$userAgentD = _navigator.userAgentData) !== null && _navigator$userAgentD !== void 0 && _navigator$userAgentD.platform ? \"Windows\" === navigator.userAgentData.platform : navigator.userAgent.toLowerCase().indexOf(\"win\") >= 0);\n  var Hs = /*#__PURE__*/function () {\n    function Hs(t, i, s) {\n      _classCallCheck(this, Hs);\n      var n;\n      this.Am = [], this.zm = [], this.Om = 0, this.sl = 0, this.Mo = 0, this.Lm = 0, this.Nm = 0, this.Wm = null, this.Fm = !1, this.xv = new o(), this.Sv = new o(), this.Ku = new o(), this.Hm = null, this.Um = null, this.Rp = t, this.Ps = i, this.o_ = s, this.yp = document.createElement(\"div\"), this.yp.classList.add(\"tv-lightweight-charts\"), this.yp.style.overflow = \"hidden\", this.yp.style.direction = \"ltr\", this.yp.style.width = \"100%\", this.yp.style.height = \"100%\", (n = this.yp).style.userSelect = \"none\", n.style.webkitUserSelect = \"none\", n.style.msUserSelect = \"none\", n.style.MozUserSelect = \"none\", n.style.webkitTapHighlightColor = \"transparent\", this.$m = document.createElement(\"table\"), this.$m.setAttribute(\"cellspacing\", \"0\"), this.yp.appendChild(this.$m), this.jm = this.qm.bind(this), Us(this.Ps) && this.Ym(!0), this.ts = new Ii(this.Zu.bind(this), this.Ps, s), this.Qt().uc().i(this.Km.bind(this), this), this.Xm = new Ws(this, this.o_), this.$m.appendChild(this.Xm.Xf());\n      var e = i.autoSize && this.Zm();\n      var r = this.Ps.width,\n        h = this.Ps.height;\n      if (e || 0 === r || 0 === h) {\n        var _i58 = t.getBoundingClientRect();\n        r = r || _i58.width, h = h || _i58.height;\n      }\n      this.Gm(r, h), this.Jm(), t.appendChild(this.yp), this.Qm(), this.ts.It().Vu().i(this.ts.Bh.bind(this.ts), this), this.ts.Eo().i(this.ts.Bh.bind(this.ts), this);\n    }\n    return _createClass(Hs, [{\n      key: \"Qt\",\n      value: function Qt() {\n        return this.ts;\n      }\n    }, {\n      key: \"N\",\n      value: function N() {\n        return this.Ps;\n      }\n    }, {\n      key: \"Uf\",\n      value: function Uf() {\n        return this.Am;\n      }\n    }, {\n      key: \"tw\",\n      value: function tw() {\n        return this.Xm;\n      }\n    }, {\n      key: \"m\",\n      value: function m() {\n        this.Ym(!1), 0 !== this.Om && window.cancelAnimationFrame(this.Om), this.ts.uc().u(this), this.ts.It().Vu().u(this), this.ts.Eo().u(this), this.ts.m();\n        var _iterator34 = _createForOfIteratorHelper(this.Am),\n          _step34;\n        try {\n          for (_iterator34.s(); !(_step34 = _iterator34.n()).done;) {\n            var _t57 = _step34.value;\n            this.$m.removeChild(_t57.Xf()), _t57.Kv().u(this), _t57.Xv().u(this), _t57.m();\n          }\n        } catch (err) {\n          _iterator34.e(err);\n        } finally {\n          _iterator34.f();\n        }\n        this.Am = [];\n        var _iterator35 = _createForOfIteratorHelper(this.zm),\n          _step35;\n        try {\n          for (_iterator35.s(); !(_step35 = _iterator35.n()).done;) {\n            var _t58 = _step35.value;\n            this.iw(_t58);\n          }\n        } catch (err) {\n          _iterator35.e(err);\n        } finally {\n          _iterator35.f();\n        }\n        this.zm = [], a(this.Xm).m(), null !== this.yp.parentElement && this.yp.parentElement.removeChild(this.yp), this.Ku.m(), this.xv.m(), this.Sv.m(), this.sw();\n      }\n    }, {\n      key: \"Gm\",\n      value: function Gm(t, i) {\n        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : !1;\n        if (this.sl === i && this.Mo === t) return;\n        var n = function (t) {\n          var i = Math.floor(t.width),\n            s = Math.floor(t.height);\n          return Qi({\n            width: i - i % 2,\n            height: s - s % 2\n          });\n        }(Qi({\n          width: t,\n          height: i\n        }));\n        this.sl = n.height, this.Mo = n.width;\n        var e = this.sl + \"px\",\n          r = this.Mo + \"px\";\n        a(this.yp).style.height = e, a(this.yp).style.width = r, this.$m.style.height = e, this.$m.style.width = r, s ? this.nw(Y.gn(), performance.now()) : this.ts.Bh();\n      }\n    }, {\n      key: \"av\",\n      value: function av(t) {\n        void 0 === t && (t = Y.gn());\n        for (var _i59 = 0; _i59 < this.Am.length; _i59++) this.Am[_i59].av(t.en(_i59).tn);\n        this.Ps.timeScale.visible && this.Xm.av(t.nn());\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        var _t$layout;\n        var i = Us(this.Ps);\n        this.ts.hr(t);\n        var s = Us(this.Ps);\n        s !== i && this.Ym(s), (_t$layout = t.layout) !== null && _t$layout !== void 0 && _t$layout.panes && this.ew(), this.Qm(), this.rw(t);\n      }\n    }, {\n      key: \"Kv\",\n      value: function Kv() {\n        return this.xv;\n      }\n    }, {\n      key: \"Xv\",\n      value: function Xv() {\n        return this.Sv;\n      }\n    }, {\n      key: \"uc\",\n      value: function uc() {\n        return this.Ku;\n      }\n    }, {\n      key: \"hw\",\n      value: function hw() {\n        null !== this.Wm && (this.nw(this.Wm, performance.now()), this.Wm = null);\n        var t = this.aw(null),\n          i = document.createElement(\"canvas\");\n        i.width = t.width, i.height = t.height;\n        var s = a(i.getContext(\"2d\"));\n        return this.aw(s), i;\n      }\n    }, {\n      key: \"lw\",\n      value: function lw(t) {\n        if (\"left\" === t && !this.ow()) return 0;\n        if (\"right\" === t && !this._w()) return 0;\n        if (0 === this.Am.length) return 0;\n        return a(\"left\" === t ? this.Am[0].sm() : this.Am[0].nm()).hv();\n      }\n    }, {\n      key: \"uw\",\n      value: function uw() {\n        return this.Ps.autoSize && null !== this.Hm;\n      }\n    }, {\n      key: \"tp\",\n      value: function tp() {\n        return this.yp;\n      }\n    }, {\n      key: \"cw\",\n      value: function cw(t) {\n        this.Um = t, this.Um ? this.tp().style.setProperty(\"cursor\", t) : this.tp().style.removeProperty(\"cursor\");\n      }\n    }, {\n      key: \"dw\",\n      value: function dw() {\n        return this.Um;\n      }\n    }, {\n      key: \"fw\",\n      value: function fw(t) {\n        return h(this.Am[t]).Zf();\n      }\n    }, {\n      key: \"ew\",\n      value: function ew() {\n        this.zm.forEach(function (t) {\n          t.yt();\n        });\n      }\n    }, {\n      key: \"rw\",\n      value: function rw(t) {\n        (void 0 !== t.autoSize || !this.Hm || void 0 === t.width && void 0 === t.height) && (t.autoSize && !this.Hm && this.Zm(), !1 === t.autoSize && null !== this.Hm && this.sw(), t.autoSize || void 0 === t.width && void 0 === t.height || this.Gm(t.width || this.Mo, t.height || this.sl));\n      }\n    }, {\n      key: \"aw\",\n      value: function aw(t) {\n        var _this51 = this;\n        var i = 0,\n          s = 0;\n        var n = this.Am[0],\n          e = function e(i, s) {\n            var n = 0;\n            for (var _e16 = 0; _e16 < _this51.Am.length; _e16++) {\n              var _r11 = _this51.Am[_e16],\n                _h7 = a(\"left\" === i ? _r11.sm() : _r11.nm()),\n                _l9 = _h7.Gf();\n              if (null !== t && _h7.Jf(t, s, n), n += _l9.height, _e16 < _this51.Am.length - 1) {\n                var _i60 = _this51.zm[_e16],\n                  _r12 = _i60.Gf();\n                null !== t && _i60.Jf(t, s, n), n += _r12.height;\n              }\n            }\n          };\n        if (this.ow()) {\n          e(\"left\", 0);\n          i += a(n.sm()).Gf().width;\n        }\n        for (var _n25 = 0; _n25 < this.Am.length; _n25++) {\n          var _e17 = this.Am[_n25],\n            _r13 = _e17.Gf();\n          if (null !== t && _e17.Jf(t, i, s), s += _r13.height, _n25 < this.Am.length - 1) {\n            var _e18 = this.zm[_n25],\n              _r14 = _e18.Gf();\n            null !== t && _e18.Jf(t, i, s), s += _r14.height;\n          }\n        }\n        if (i += n.Gf().width, this._w()) {\n          e(\"right\", i);\n          i += a(n.nm()).Gf().width;\n        }\n        var r = function r(i, s, n) {\n          a(\"left\" === i ? _this51.Xm.Sm() : _this51.Xm.Cm()).Jf(a(t), s, n);\n        };\n        if (this.Ps.timeScale.visible) {\n          var _i61 = this.Xm.Gf();\n          if (null !== t) {\n            var _e19 = 0;\n            this.ow() && (r(\"left\", _e19, s), _e19 = a(n.sm()).Gf().width), this.Xm.Jf(t, _e19, s), _e19 += _i61.width, this._w() && r(\"right\", _e19, s);\n          }\n          s += _i61.height;\n        }\n        return Qi({\n          width: i,\n          height: s\n        });\n      }\n    }, {\n      key: \"pw\",\n      value: function pw() {\n        var t = 0,\n          i = 0,\n          s = 0;\n        var _iterator36 = _createForOfIteratorHelper(this.Am),\n          _step36;\n        try {\n          for (_iterator36.s(); !(_step36 = _iterator36.n()).done;) {\n            var _n27 = _step36.value;\n            this.ow() && (i = Math.max(i, a(_n27.sm()).sv(), this.Ps.leftPriceScale.minimumWidth)), this._w() && (s = Math.max(s, a(_n27.nm()).sv(), this.Ps.rightPriceScale.minimumWidth)), t += _n27.Vo();\n          }\n        } catch (err) {\n          _iterator36.e(err);\n        } finally {\n          _iterator36.f();\n        }\n        i = os(i), s = os(s);\n        var n = this.Mo,\n          e = this.sl,\n          r = Math.max(n - i - s, 0),\n          h = 1 * this.zm.length,\n          l = this.Ps.timeScale.visible;\n        var o = l ? Math.max(this.Xm.km(), this.Ps.timeScale.minimumHeight) : 0;\n        var _;\n        o = (_ = o) + _ % 2;\n        var u = h + o,\n          c = e < u ? 0 : e - u,\n          d = c / t;\n        var f = 0;\n        var p = window.devicePixelRatio || 1;\n        for (var _t59 = 0; _t59 < this.Am.length; ++_t59) {\n          var _n26 = this.Am[_t59];\n          _n26.zv(this.ts.$s()[_t59]);\n          var _e20 = 0,\n            _h8 = 0;\n          _h8 = _t59 === this.Am.length - 1 ? Math.ceil((c - f) * p) / p : Math.round(_n26.Vo() * d * p) / p, _e20 = Math.max(_h8, 2), f += _e20, _n26.rv(Qi({\n            width: r,\n            height: _e20\n          })), this.ow() && _n26.Gv(i, \"left\"), this._w() && _n26.Gv(s, \"right\"), _n26.hp() && this.ts.cc(_n26.hp(), _e20);\n        }\n        this.Xm.ym(Qi({\n          width: l ? r : 0,\n          height: o\n        }), l ? i : 0, l ? s : 0), this.ts.Io(r), this.Lm !== i && (this.Lm = i), this.Nm !== s && (this.Nm = s);\n      }\n    }, {\n      key: \"Ym\",\n      value: function Ym(t) {\n        t ? this.yp.addEventListener(\"wheel\", this.jm, {\n          passive: !1\n        }) : this.yp.removeEventListener(\"wheel\", this.jm);\n      }\n    }, {\n      key: \"mw\",\n      value: function mw(t) {\n        switch (t.deltaMode) {\n          case t.DOM_DELTA_PAGE:\n            return 120;\n          case t.DOM_DELTA_LINE:\n            return 32;\n        }\n        return Fs ? 1 / window.devicePixelRatio : 1;\n      }\n    }, {\n      key: \"qm\",\n      value: function qm(t) {\n        if (!(0 !== t.deltaX && this.Ps.handleScroll.mouseWheel || 0 !== t.deltaY && this.Ps.handleScale.mouseWheel)) return;\n        var i = this.mw(t),\n          s = i * t.deltaX / 100,\n          n = -i * t.deltaY / 100;\n        if (t.cancelable && t.preventDefault(), 0 !== n && this.Ps.handleScale.mouseWheel) {\n          var _i62 = Math.sign(n) * Math.min(1, Math.abs(n)),\n            _s46 = t.clientX - this.yp.getBoundingClientRect().left;\n          this.Qt().Mc(_s46, _i62);\n        }\n        0 !== s && this.Ps.handleScroll.mouseWheel && this.Qt().bc(-80 * s);\n      }\n    }, {\n      key: \"nw\",\n      value: function nw(t, i) {\n        var _this$Wm;\n        var s = t.nn();\n        3 === s && this.ww(), 3 !== s && 2 !== s || (this.gw(t), this.Mw(t, i), this.Xm.yt(), this.Am.forEach(function (t) {\n          t.Lv();\n        }), 3 === ((_this$Wm = this.Wm) === null || _this$Wm === void 0 ? void 0 : _this$Wm.nn()) && (this.Wm.vn(t), this.ww(), this.gw(this.Wm), this.Mw(this.Wm, i), t = this.Wm, this.Wm = null)), this.av(t);\n      }\n    }, {\n      key: \"Mw\",\n      value: function Mw(t, i) {\n        var _iterator37 = _createForOfIteratorHelper(t.pn()),\n          _step37;\n        try {\n          for (_iterator37.s(); !(_step37 = _iterator37.n()).done;) {\n            var _s47 = _step37.value;\n            this.mn(_s47, i);\n          }\n        } catch (err) {\n          _iterator37.e(err);\n        } finally {\n          _iterator37.f();\n        }\n      }\n    }, {\n      key: \"gw\",\n      value: function gw(t) {\n        var i = this.ts.$s();\n        for (var _s48 = 0; _s48 < i.length; _s48++) t.en(_s48).sn && i[_s48].Go();\n      }\n    }, {\n      key: \"mn\",\n      value: function mn(t, i) {\n        var s = this.ts.It();\n        switch (t.an) {\n          case 0:\n            s.Iu();\n            break;\n          case 1:\n            s.Au(t.Ft);\n            break;\n          case 2:\n            s.dn(t.Ft);\n            break;\n          case 3:\n            s.fn(t.Ft);\n            break;\n          case 4:\n            s.bu();\n            break;\n          case 5:\n            t.Ft.Tu(i) || s.fn(t.Ft.Ru(i));\n        }\n      }\n    }, {\n      key: \"Zu\",\n      value: function Zu(t) {\n        var _this52 = this;\n        null !== this.Wm ? this.Wm.vn(t) : this.Wm = t, this.Fm || (this.Fm = !0, this.Om = window.requestAnimationFrame(function (t) {\n          if (_this52.Fm = !1, _this52.Om = 0, null !== _this52.Wm) {\n            var _i63 = _this52.Wm;\n            _this52.Wm = null, _this52.nw(_i63, t);\n            var _iterator38 = _createForOfIteratorHelper(_i63.pn()),\n              _step38;\n            try {\n              for (_iterator38.s(); !(_step38 = _iterator38.n()).done;) {\n                var _s49 = _step38.value;\n                if (5 === _s49.an && !_s49.Ft.Tu(t)) {\n                  _this52.Qt()._n(_s49.Ft);\n                  break;\n                }\n              }\n            } catch (err) {\n              _iterator38.e(err);\n            } finally {\n              _iterator38.f();\n            }\n          }\n        }));\n      }\n    }, {\n      key: \"ww\",\n      value: function ww() {\n        this.Jm();\n      }\n    }, {\n      key: \"iw\",\n      value: function iw(t) {\n        this.$m.removeChild(t.Xf()), t.m();\n      }\n    }, {\n      key: \"Jm\",\n      value: function Jm() {\n        var t = this.ts.$s(),\n          i = t.length,\n          s = this.Am.length;\n        for (var _t60 = i; _t60 < s; _t60++) {\n          var _t61 = h(this.Am.pop());\n          this.$m.removeChild(_t61.Xf()), _t61.Kv().u(this), _t61.Xv().u(this), _t61.m();\n          var _i64 = this.zm.pop();\n          void 0 !== _i64 && this.iw(_i64);\n        }\n        for (var _n28 = s; _n28 < i; _n28++) {\n          var _i65 = new Is(this, t[_n28]);\n          if (_i65.Kv().i(this.bw.bind(this, _i65), this), _i65.Xv().i(this.xw.bind(this, _i65), this), this.Am.push(_i65), _n28 > 0) {\n            var _t62 = new ms(this, _n28 - 1, _n28);\n            this.zm.push(_t62), this.$m.insertBefore(_t62.Xf(), this.Xm.Xf());\n          }\n          this.$m.insertBefore(_i65.Xf(), this.Xm.Xf());\n        }\n        for (var _s50 = 0; _s50 < i; _s50++) {\n          var _i66 = t[_s50],\n            _n29 = this.Am[_s50];\n          _n29.hp() !== _i66 ? _n29.zv(_i66) : _n29.Av();\n        }\n        this.Qm(), this.pw();\n      }\n    }, {\n      key: \"Sw\",\n      value: function Sw(t, i, s, n) {\n        var e = new Map();\n        if (null !== t) {\n          this.ts.Ys().forEach(function (i) {\n            var s = i.Xs().Wr(t);\n            null !== s && e.set(i, s);\n          });\n        }\n        var r;\n        if (null !== t) {\n          var _this$ts$It$ss;\n          var _i67 = (_this$ts$It$ss = this.ts.It().ss(t)) === null || _this$ts$It$ss === void 0 ? void 0 : _this$ts$It$ss.originalTime;\n          void 0 !== _i67 && (r = _i67);\n        }\n        var h = this.Qt().hc(),\n          a = null !== h && h.n_ instanceof Ut ? h.n_ : void 0,\n          l = null !== h && void 0 !== h.e_ ? h.e_.Kn : void 0,\n          o = this.Cw(n);\n        return {\n          Pw: r,\n          Re: t !== null && t !== void 0 ? t : void 0,\n          yw: i !== null && i !== void 0 ? i : void 0,\n          kw: -1 !== o ? o : void 0,\n          Tw: a,\n          Rw: e,\n          Dw: l,\n          Ew: s !== null && s !== void 0 ? s : void 0\n        };\n      }\n    }, {\n      key: \"Cw\",\n      value: function Cw(t) {\n        var i = -1;\n        if (t) i = this.Am.indexOf(t);else {\n          var _t63 = this.Qt()._c().Us();\n          null !== _t63 && (i = this.Qt().$s().indexOf(_t63));\n        }\n        return i;\n      }\n    }, {\n      key: \"bw\",\n      value: function bw(t, i, s, n) {\n        var _this53 = this;\n        this.xv.p(function () {\n          return _this53.Sw(i, s, n, t);\n        });\n      }\n    }, {\n      key: \"xw\",\n      value: function xw(t, i, s, n) {\n        var _this54 = this;\n        this.Sv.p(function () {\n          return _this54.Sw(i, s, n, t);\n        });\n      }\n    }, {\n      key: \"Km\",\n      value: function Km(t, i, s) {\n        var _this$Qt$hc$h_,\n          _this$Qt$hc,\n          _this55 = this;\n        this.cw((_this$Qt$hc$h_ = (_this$Qt$hc = this.Qt().hc()) === null || _this$Qt$hc === void 0 ? void 0 : _this$Qt$hc.h_) !== null && _this$Qt$hc$h_ !== void 0 ? _this$Qt$hc$h_ : null), this.Ku.p(function () {\n          return _this55.Sw(t, i, s);\n        });\n      }\n    }, {\n      key: \"Qm\",\n      value: function Qm() {\n        var t = this.Ps.timeScale.visible ? \"\" : \"none\";\n        this.Xm.Xf().style.display = t;\n      }\n    }, {\n      key: \"ow\",\n      value: function ow() {\n        return this.Am[0].hp().Fo().N().visible;\n      }\n    }, {\n      key: \"_w\",\n      value: function _w() {\n        return this.Am[0].hp().Ho().N().visible;\n      }\n    }, {\n      key: \"Zm\",\n      value: function Zm() {\n        var _this56 = this;\n        return \"ResizeObserver\" in window && (this.Hm = new ResizeObserver(function (t) {\n          var i = t[t.length - 1];\n          i && _this56.Gm(i.contentRect.width, i.contentRect.height);\n        }), this.Hm.observe(this.Rp, {\n          box: \"border-box\"\n        }), !0);\n      }\n    }, {\n      key: \"sw\",\n      value: function sw() {\n        null !== this.Hm && this.Hm.disconnect(), this.Hm = null;\n      }\n    }]);\n  }();\n  function Us(t) {\n    return Boolean(t.handleScroll.mouseWheel || t.handleScale.mouseWheel);\n  }\n  function $s(t) {\n    return void 0 === t.open && void 0 === t.value;\n  }\n  function js(t) {\n    return function (t) {\n      return void 0 !== t.open;\n    }(t) || function (t) {\n      return void 0 !== t.value;\n    }(t);\n  }\n  function qs(t, i, s, n) {\n    var e = s.value,\n      r = {\n        Re: i,\n        wt: t,\n        Ft: [e, e, e, e],\n        Pw: n\n      };\n    return void 0 !== s.color && (r.R = s.color), r;\n  }\n  function Ys(t, i, s, n) {\n    var e = s.value,\n      r = {\n        Re: i,\n        wt: t,\n        Ft: [e, e, e, e],\n        Pw: n\n      };\n    return void 0 !== s.lineColor && (r.vt = s.lineColor), void 0 !== s.topColor && (r.mr = s.topColor), void 0 !== s.bottomColor && (r.wr = s.bottomColor), r;\n  }\n  function Ks(t, i, s, n) {\n    var e = s.value,\n      r = {\n        Re: i,\n        wt: t,\n        Ft: [e, e, e, e],\n        Pw: n\n      };\n    return void 0 !== s.topLineColor && (r.gr = s.topLineColor), void 0 !== s.bottomLineColor && (r.Mr = s.bottomLineColor), void 0 !== s.topFillColor1 && (r.br = s.topFillColor1), void 0 !== s.topFillColor2 && (r.Sr = s.topFillColor2), void 0 !== s.bottomFillColor1 && (r.Cr = s.bottomFillColor1), void 0 !== s.bottomFillColor2 && (r.Pr = s.bottomFillColor2), r;\n  }\n  function Xs(t, i, s, n) {\n    var e = {\n      Re: i,\n      wt: t,\n      Ft: [s.open, s.high, s.low, s.close],\n      Pw: n\n    };\n    return void 0 !== s.color && (e.R = s.color), e;\n  }\n  function Zs(t, i, s, n) {\n    var e = {\n      Re: i,\n      wt: t,\n      Ft: [s.open, s.high, s.low, s.close],\n      Pw: n\n    };\n    return void 0 !== s.color && (e.R = s.color), void 0 !== s.borderColor && (e.Ht = s.borderColor), void 0 !== s.wickColor && (e.vr = s.wickColor), e;\n  }\n  function Gs(t, i, s, n, e) {\n    var r = h(e)(s),\n      a = Math.max.apply(Math, _toConsumableArray(r)),\n      l = Math.min.apply(Math, _toConsumableArray(r)),\n      o = r[r.length - 1],\n      _ = [o, a, l, o],\n      u = s.time,\n      c = s.color,\n      d = _objectWithoutProperties(s, _excluded);\n    return {\n      Re: i,\n      wt: t,\n      Ft: _,\n      Pw: n,\n      se: d,\n      R: c\n    };\n  }\n  function Js(t) {\n    return void 0 !== t.Ft;\n  }\n  function Qs(t, i) {\n    return void 0 !== i.customValues && (t.Vw = i.customValues), t;\n  }\n  function tn(t) {\n    return function (i, s, n, e, r, h) {\n      return function (t, i) {\n        return i ? i(t) : $s(t);\n      }(n, h) ? Qs({\n        wt: i,\n        Re: s,\n        Pw: e\n      }, n) : Qs(t(i, s, n, e, r), n);\n    };\n  }\n  function sn(t) {\n    return {\n      Candlestick: tn(Zs),\n      Bar: tn(Xs),\n      Area: tn(Ys),\n      Baseline: tn(Ks),\n      Histogram: tn(qs),\n      Line: tn(qs),\n      Custom: tn(Gs)\n    }[t];\n  }\n  function nn(t) {\n    return {\n      Re: 0,\n      Bw: new Map(),\n      Hh: t\n    };\n  }\n  function en(t, i) {\n    if (void 0 !== t && 0 !== t.length) return {\n      Iw: i.key(t[0].wt),\n      Aw: i.key(t[t.length - 1].wt)\n    };\n  }\n  function rn(t) {\n    var i;\n    return t.forEach(function (t) {\n      void 0 === i && (i = t.Pw);\n    }), h(i);\n  }\n  var hn = /*#__PURE__*/function () {\n    function hn(t) {\n      _classCallCheck(this, hn);\n      this.zw = new Map(), this.Ow = new Map(), this.Lw = new Map(), this.Nw = [], this.o_ = t;\n    }\n    return _createClass(hn, [{\n      key: \"m\",\n      value: function m() {\n        this.zw.clear(), this.Ow.clear(), this.Lw.clear(), this.Nw = [];\n      }\n    }, {\n      key: \"Ww\",\n      value: function Ww(t, i) {\n        var _this57 = this;\n        var s = 0 !== this.zw.size,\n          n = !1;\n        var e = this.Ow.get(t);\n        if (void 0 !== e) if (1 === this.Ow.size) s = !1, n = !0, this.zw.clear();else {\n          var _iterator39 = _createForOfIteratorHelper(this.Nw),\n            _step39;\n          try {\n            for (_iterator39.s(); !(_step39 = _iterator39.n()).done;) {\n              var _i68 = _step39.value;\n              _i68.pointData.Bw[\"delete\"](t) && (n = !0);\n            }\n          } catch (err) {\n            _iterator39.e(err);\n          } finally {\n            _iterator39.f();\n          }\n        }\n        var r = [];\n        if (0 !== i.length) {\n          var _s51 = i.map(function (t) {\n              return t.time;\n            }),\n            _e21 = this.o_.createConverterToInternalObj(i),\n            _h9 = sn(t.Rr()),\n            _a10 = t.da(),\n            _l0 = t.pa();\n          r = i.map(function (i, r) {\n            var o = _e21(i.time),\n              _ = _this57.o_.key(o);\n            var u = _this57.zw.get(_);\n            void 0 === u && (u = nn(o), _this57.zw.set(_, u), n = !0);\n            var c = _h9(o, u.Re, i, _s51[r], _a10, _l0);\n            return u.Bw.set(t, c), c;\n          });\n        }\n        s && this.Fw(), this.Hw(t, r);\n        var h = -1;\n        if (n) {\n          var _t64 = [];\n          this.zw.forEach(function (i) {\n            _t64.push({\n              timeWeight: 0,\n              time: i.Hh,\n              pointData: i,\n              originalTime: rn(i.Bw)\n            });\n          }), _t64.sort(function (t, i) {\n            return _this57.o_.key(t.time) - _this57.o_.key(i.time);\n          }), h = this.Uw(_t64);\n        }\n        return this.$w(t, h, function (t, i, s) {\n          var n = en(t, s),\n            e = en(i, s);\n          if (void 0 !== n && void 0 !== e) return {\n            jw: !1,\n            zh: n.Aw >= e.Aw && n.Iw >= e.Iw\n          };\n        }(this.Ow.get(t), e, this.o_));\n      }\n    }, {\n      key: \"Ic\",\n      value: function Ic(t) {\n        return this.Ww(t, []);\n      }\n    }, {\n      key: \"qw\",\n      value: function qw(t, i, s) {\n        var _this58 = this;\n        var n = i;\n        !function (t) {\n          void 0 === t.Pw && (t.Pw = t.time);\n        }(n), this.o_.preprocessData(i);\n        var e = this.o_.createConverterToInternalObj([i])(i.time),\n          r = this.Lw.get(t);\n        if (!s && void 0 !== r && this.o_.key(e) < this.o_.key(r)) throw new Error(\"Cannot update oldest data, last time=\".concat(r, \", new time=\").concat(e));\n        var h = this.zw.get(this.o_.key(e));\n        if (s && void 0 === h) throw new Error(\"Cannot update non-existing data point when historicalUpdate is true\");\n        var a = void 0 === h;\n        void 0 === h && (h = nn(e), this.zw.set(this.o_.key(e), h));\n        var l = sn(t.Rr()),\n          o = t.da(),\n          _ = t.pa(),\n          u = l(e, h.Re, i, n.Pw, o, _);\n        h.Bw.set(t, u), s ? this.Yw(t, u, h.Re) : this.Kw(t, u);\n        var c = {\n          zh: Js(u),\n          jw: s\n        };\n        if (!a) return this.$w(t, -1, c);\n        var d = {\n            timeWeight: 0,\n            time: h.Hh,\n            pointData: h,\n            originalTime: rn(h.Bw)\n          },\n          f = xt(this.Nw, this.o_.key(d.time), function (t, i) {\n            return _this58.o_.key(t.time) < i;\n          });\n        this.Nw.splice(f, 0, d);\n        for (var _t65 = f; _t65 < this.Nw.length; ++_t65) an(this.Nw[_t65].pointData, _t65);\n        return this.o_.fillWeightsForPoints(this.Nw, f), this.$w(t, f, c);\n      }\n    }, {\n      key: \"Kw\",\n      value: function Kw(t, i) {\n        var s = this.Ow.get(t);\n        void 0 === s && (s = [], this.Ow.set(t, s));\n        var n = 0 !== s.length ? s[s.length - 1] : null;\n        null === n || this.o_.key(i.wt) > this.o_.key(n.wt) ? Js(i) && s.push(i) : Js(i) ? s[s.length - 1] = i : s.splice(-1, 1), this.Lw.set(t, i.wt);\n      }\n    }, {\n      key: \"Yw\",\n      value: function Yw(t, i, s) {\n        var n = this.Ow.get(t);\n        if (void 0 === n) return;\n        var e = xt(n, s, function (t, i) {\n          return t.Re < i;\n        });\n        Js(i) ? n[e] = i : n.splice(e, 1);\n      }\n    }, {\n      key: \"Hw\",\n      value: function Hw(t, i) {\n        0 !== i.length ? (this.Ow.set(t, i.filter(Js)), this.Lw.set(t, i[i.length - 1].wt)) : (this.Ow[\"delete\"](t), this.Lw[\"delete\"](t));\n      }\n    }, {\n      key: \"Fw\",\n      value: function Fw() {\n        var _iterator40 = _createForOfIteratorHelper(this.Nw),\n          _step40;\n        try {\n          for (_iterator40.s(); !(_step40 = _iterator40.n()).done;) {\n            var _t66 = _step40.value;\n            0 === _t66.pointData.Bw.size && this.zw[\"delete\"](this.o_.key(_t66.time));\n          }\n        } catch (err) {\n          _iterator40.e(err);\n        } finally {\n          _iterator40.f();\n        }\n      }\n    }, {\n      key: \"Uw\",\n      value: function Uw(t) {\n        var i = -1;\n        for (var _s52 = 0; _s52 < this.Nw.length && _s52 < t.length; ++_s52) {\n          var _n30 = this.Nw[_s52],\n            _e22 = t[_s52];\n          if (this.o_.key(_n30.time) !== this.o_.key(_e22.time)) {\n            i = _s52;\n            break;\n          }\n          _e22.timeWeight = _n30.timeWeight, an(_e22.pointData, _s52);\n        }\n        if (-1 === i && this.Nw.length !== t.length && (i = Math.min(this.Nw.length, t.length)), -1 === i) return -1;\n        for (var _s53 = i; _s53 < t.length; ++_s53) an(t[_s53].pointData, _s53);\n        return this.o_.fillWeightsForPoints(t, i), this.Nw = t, i;\n      }\n    }, {\n      key: \"Xw\",\n      value: function Xw() {\n        if (0 === this.Ow.size) return null;\n        var t = 0;\n        return this.Ow.forEach(function (i) {\n          0 !== i.length && (t = Math.max(t, i[i.length - 1].Re));\n        }), t;\n      }\n    }, {\n      key: \"$w\",\n      value: function $w(t, i, s) {\n        var n = {\n          Lo: new Map(),\n          It: {\n            ou: this.Xw()\n          }\n        };\n        if (-1 !== i) this.Ow.forEach(function (i, e) {\n          n.Lo.set(e, {\n            se: i,\n            Zw: e === t ? s : void 0\n          });\n        }), this.Ow.has(t) || n.Lo.set(t, {\n          se: [],\n          Zw: s\n        }), n.It.Gw = this.Nw, n.It.Jw = i;else {\n          var _i69 = this.Ow.get(t);\n          n.Lo.set(t, {\n            se: _i69 || [],\n            Zw: s\n          });\n        }\n        return n;\n      }\n    }]);\n  }();\n  function an(t, i) {\n    t.Re = i, t.Bw.forEach(function (t) {\n      t.Re = i;\n    });\n  }\n  function ln(t, i) {\n    return t.wt < i;\n  }\n  function on(t, i) {\n    return i < t.wt;\n  }\n  function _n(t, i, s) {\n    var n = i.Uh(),\n      e = i.bi(),\n      r = xt(t, n, ln),\n      h = St(t, e, on);\n    if (!s) return {\n      from: r,\n      to: h\n    };\n    var a = r,\n      l = h;\n    return r > 0 && r < t.length && t[r].wt >= n && (a = r - 1), h > 0 && h < t.length && t[h - 1].wt <= e && (l = h + 1), {\n      from: a,\n      to: l\n    };\n  }\n  var un = /*#__PURE__*/function () {\n    function un(t, i, s) {\n      _classCallCheck(this, un);\n      this.Qw = !0, this.tg = !0, this.ig = !0, this.sg = [], this.ng = null, this.Jn = t, this.Qn = i, this.eg = s;\n    }\n    return _createClass(un, [{\n      key: \"yt\",\n      value: function yt(t) {\n        this.Qw = !0, \"data\" === t && (this.tg = !0), \"options\" === t && (this.ig = !0);\n      }\n    }, {\n      key: \"Tt\",\n      value: function Tt() {\n        return this.Jn.Et() ? (this.rg(), null === this.ng ? null : this.hg) : null;\n      }\n    }, {\n      key: \"ag\",\n      value: function ag() {\n        var _this59 = this;\n        this.sg = this.sg.map(function (t) {\n          return _objectSpread(_objectSpread({}, t), _this59.Jn.Rh().Dr(t.wt));\n        });\n      }\n    }, {\n      key: \"lg\",\n      value: function lg() {\n        this.ng = null;\n      }\n    }, {\n      key: \"rg\",\n      value: function rg() {\n        this.tg && (this.og(), this.tg = !1), this.ig && (this.ag(), this.ig = !1), this.Qw && (this._g(), this.Qw = !1);\n      }\n    }, {\n      key: \"_g\",\n      value: function _g() {\n        var t = this.Jn.Wt(),\n          i = this.Qn.It();\n        if (this.lg(), i.Ki() || t.Ki()) return;\n        var s = i.Pe();\n        if (null === s) return;\n        if (0 === this.Jn.Xs().zr()) return;\n        var n = this.Jn.zt();\n        null !== n && (this.ng = _n(this.sg, s, this.eg), this.ug(t, i, n.Ft), this.cg());\n      }\n    }]);\n  }();\n  var cn = /*#__PURE__*/function () {\n    function cn(t, i) {\n      _classCallCheck(this, cn);\n      this.dg = t, this.qi = i;\n    }\n    return _createClass(cn, [{\n      key: \"nt\",\n      value: function nt(t, i, s) {\n        this.dg.draw(t, this.qi, i, s);\n      }\n    }]);\n  }();\n  var dn = /*#__PURE__*/function (_un) {\n    function dn(t, i, s) {\n      var _this60;\n      _classCallCheck(this, dn);\n      _this60 = _callSuper(this, dn, [t, i, !1]), _this60.sh = s, _this60.hg = new cn(_this60.sh.renderer(), function (i) {\n        var s = t.zt();\n        return null === s ? null : t.Wt().Nt(i, s.Ft);\n      });\n      return _this60;\n    }\n    _inherits(dn, _un);\n    return _createClass(dn, [{\n      key: \"fa\",\n      value: function fa(t) {\n        return this.sh.priceValueBuilder(t);\n      }\n    }, {\n      key: \"va\",\n      value: function va(t) {\n        return this.sh.isWhitespace(t);\n      }\n    }, {\n      key: \"og\",\n      value: function og() {\n        var t = this.Jn.Rh();\n        this.sg = this.Jn.Xs().Hr().map(function (i) {\n          return _objectSpread(_objectSpread({\n            wt: i.Re,\n            _t: NaN\n          }, t.Dr(i.Re)), {}, {\n            fg: i.se\n          });\n        });\n      }\n    }, {\n      key: \"ug\",\n      value: function ug(t, i) {\n        i._u(this.sg, m(this.ng));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        this.sh.update({\n          bars: this.sg.map(fn),\n          barSpacing: this.Qn.It().vu(),\n          visibleRange: this.ng\n        }, this.Jn.N());\n      }\n    }]);\n  }(un);\n  function fn(t) {\n    return {\n      x: t._t,\n      time: t.wt,\n      originalData: t.fg,\n      barColor: t.cr\n    };\n  }\n  var pn = {\n      color: \"#2196f3\"\n    },\n    vn = function vn(t, i, s) {\n      var n = l(s);\n      return new dn(t, i, n);\n    };\n  function mn(t) {\n    var i = {\n      value: t.Ft[3],\n      time: t.Pw\n    };\n    return void 0 !== t.Vw && (i.customValues = t.Vw), i;\n  }\n  function wn(t) {\n    var i = mn(t);\n    return void 0 !== t.R && (i.color = t.R), i;\n  }\n  function gn(t) {\n    var i = mn(t);\n    return void 0 !== t.vt && (i.lineColor = t.vt), void 0 !== t.mr && (i.topColor = t.mr), void 0 !== t.wr && (i.bottomColor = t.wr), i;\n  }\n  function Mn(t) {\n    var i = mn(t);\n    return void 0 !== t.gr && (i.topLineColor = t.gr), void 0 !== t.Mr && (i.bottomLineColor = t.Mr), void 0 !== t.br && (i.topFillColor1 = t.br), void 0 !== t.Sr && (i.topFillColor2 = t.Sr), void 0 !== t.Cr && (i.bottomFillColor1 = t.Cr), void 0 !== t.Pr && (i.bottomFillColor2 = t.Pr), i;\n  }\n  function bn(t) {\n    var i = {\n      open: t.Ft[0],\n      high: t.Ft[1],\n      low: t.Ft[2],\n      close: t.Ft[3],\n      time: t.Pw\n    };\n    return void 0 !== t.Vw && (i.customValues = t.Vw), i;\n  }\n  function xn(t) {\n    var i = bn(t);\n    return void 0 !== t.R && (i.color = t.R), i;\n  }\n  function Sn(t) {\n    var i = bn(t),\n      s = t.R,\n      n = t.Ht,\n      e = t.vr;\n    return void 0 !== s && (i.color = s), void 0 !== n && (i.borderColor = n), void 0 !== e && (i.wickColor = e), i;\n  }\n  function Cn(t) {\n    return {\n      Area: gn,\n      Line: wn,\n      Baseline: Mn,\n      Histogram: wn,\n      Bar: xn,\n      Candlestick: Sn,\n      Custom: Pn\n    }[t];\n  }\n  function Pn(t) {\n    var i = t.Pw;\n    return _objectSpread(_objectSpread({}, t.se), {}, {\n      time: i\n    });\n  }\n  var yn = {\n      vertLine: {\n        color: \"#9598A1\",\n        width: 1,\n        style: 3,\n        visible: !0,\n        labelVisible: !0,\n        labelBackgroundColor: \"#131722\"\n      },\n      horzLine: {\n        color: \"#9598A1\",\n        width: 1,\n        style: 3,\n        visible: !0,\n        labelVisible: !0,\n        labelBackgroundColor: \"#131722\"\n      },\n      mode: 1\n    },\n    kn = {\n      vertLines: {\n        color: \"#D6DCDE\",\n        style: 0,\n        visible: !0\n      },\n      horzLines: {\n        color: \"#D6DCDE\",\n        style: 0,\n        visible: !0\n      }\n    },\n    Tn = {\n      background: {\n        type: \"solid\",\n        color: \"#FFFFFF\"\n      },\n      textColor: \"#191919\",\n      fontSize: 12,\n      fontFamily: w,\n      panes: {\n        enableResize: !0,\n        separatorColor: \"#E0E3EB\",\n        separatorHoverColor: \"rgba(178, 181, 189, 0.2)\"\n      },\n      attributionLogo: !0,\n      colorSpace: \"srgb\",\n      colorParsers: []\n    },\n    Rn = {\n      autoScale: !0,\n      mode: 0,\n      invertScale: !1,\n      alignLabels: !0,\n      borderVisible: !0,\n      borderColor: \"#2B2B43\",\n      entireTextOnly: !1,\n      visible: !1,\n      ticksVisible: !1,\n      scaleMargins: {\n        bottom: .1,\n        top: .2\n      },\n      minimumWidth: 0,\n      ensureEdgeTickMarksVisible: !1\n    },\n    Dn = {\n      rightOffset: 0,\n      barSpacing: 6,\n      minBarSpacing: .5,\n      maxBarSpacing: 0,\n      fixLeftEdge: !1,\n      fixRightEdge: !1,\n      lockVisibleTimeRangeOnResize: !1,\n      rightBarStaysOnScroll: !1,\n      borderVisible: !0,\n      borderColor: \"#2B2B43\",\n      visible: !0,\n      timeVisible: !1,\n      secondsVisible: !0,\n      shiftVisibleRangeOnNewBar: !0,\n      allowShiftVisibleRangeOnWhitespaceReplacement: !1,\n      ticksVisible: !1,\n      uniformDistribution: !1,\n      minimumHeight: 0,\n      allowBoldLabels: !0,\n      ignoreWhitespaceIndices: !1\n    };\n  function En() {\n    return {\n      addDefaultPane: !0,\n      width: 0,\n      height: 0,\n      autoSize: !1,\n      layout: Tn,\n      crosshair: yn,\n      grid: kn,\n      overlayPriceScales: _objectSpread({}, Rn),\n      leftPriceScale: _objectSpread(_objectSpread({}, Rn), {}, {\n        visible: !1\n      }),\n      rightPriceScale: _objectSpread(_objectSpread({}, Rn), {}, {\n        visible: !0\n      }),\n      timeScale: Dn,\n      localization: {\n        locale: hs ? navigator.language : \"\",\n        dateFormat: \"dd MMM 'yy\"\n      },\n      handleScroll: {\n        mouseWheel: !0,\n        pressedMouseMove: !0,\n        horzTouchDrag: !0,\n        vertTouchDrag: !0\n      },\n      handleScale: {\n        axisPressedMouseMove: {\n          time: !0,\n          price: !0\n        },\n        axisDoubleClickReset: {\n          time: !0,\n          price: !0\n        },\n        mouseWheel: !0,\n        pinch: !0\n      },\n      kineticScroll: {\n        mouse: !1,\n        touch: !0\n      },\n      trackingMode: {\n        exitMode: 1\n      }\n    };\n  }\n  var Vn = /*#__PURE__*/function () {\n    function Vn(t, i, s) {\n      _classCallCheck(this, Vn);\n      this.Ff = t, this.pg = i, this.vg = s !== null && s !== void 0 ? s : 0;\n    }\n    return _createClass(Vn, [{\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        this.Ff.Qt().lc(this.pg, t, this.vg);\n      }\n    }, {\n      key: \"options\",\n      value: function options() {\n        return this.qi().N();\n      }\n    }, {\n      key: \"width\",\n      value: function width() {\n        return q(this.pg) ? this.Ff.lw(this.pg) : 0;\n      }\n    }, {\n      key: \"setVisibleRange\",\n      value: function setVisibleRange(t) {\n        this.setAutoScale(!1), this.qi().Fl(new dt(t.from, t.to));\n      }\n    }, {\n      key: \"getVisibleRange\",\n      value: function getVisibleRange() {\n        var t = this.qi().Qe();\n        return null === t ? null : {\n          from: t.$e(),\n          to: t.je()\n        };\n      }\n    }, {\n      key: \"setAutoScale\",\n      value: function setAutoScale(t) {\n        this.applyOptions({\n          autoScale: t\n        });\n      }\n    }, {\n      key: \"qi\",\n      value: function qi() {\n        return a(this.Ff.Qt().oc(this.pg, this.vg)).Wt;\n      }\n    }]);\n  }();\n  var Bn = /*#__PURE__*/function () {\n    function Bn(t, i, s, n) {\n      _classCallCheck(this, Bn);\n      this.Ff = t, this.Pt = s, this.mg = i, this.wg = n;\n    }\n    return _createClass(Bn, [{\n      key: \"getHeight\",\n      value: function getHeight() {\n        return this.Pt.$t();\n      }\n    }, {\n      key: \"setHeight\",\n      value: function setHeight(t) {\n        var i = this.Ff.Qt(),\n          s = i.Hc(this.Pt);\n        i.fc(s, t);\n      }\n    }, {\n      key: \"getStretchFactor\",\n      value: function getStretchFactor() {\n        return this.Pt.Vo();\n      }\n    }, {\n      key: \"setStretchFactor\",\n      value: function setStretchFactor(t) {\n        this.Pt.Bo(t), this.Ff.Qt().Bh();\n      }\n    }, {\n      key: \"paneIndex\",\n      value: function paneIndex() {\n        return this.Ff.Qt().Hc(this.Pt);\n      }\n    }, {\n      key: \"moveTo\",\n      value: function moveTo(t) {\n        var i = this.paneIndex();\n        i !== t && (r(t >= 0 && t < this.Ff.Uf().length, \"Invalid pane index\"), this.Ff.Qt().mc(i, t));\n      }\n    }, {\n      key: \"getSeries\",\n      value: function getSeries() {\n        var _this$Pt$Lo$map,\n          _this61 = this;\n        return (_this$Pt$Lo$map = this.Pt.Lo().map(function (t) {\n          return _this61.mg(t);\n        })) !== null && _this$Pt$Lo$map !== void 0 ? _this$Pt$Lo$map : [];\n      }\n    }, {\n      key: \"getHTMLElement\",\n      value: function getHTMLElement() {\n        var t = this.Ff.Uf();\n        return t && 0 !== t.length && t[this.paneIndex()] ? t[this.paneIndex()].Xf() : null;\n      }\n    }, {\n      key: \"attachPrimitive\",\n      value: function attachPrimitive(t) {\n        var _this62 = this;\n        this.Pt.ua(t), t.attached && t.attached({\n          chart: this.wg,\n          requestUpdate: function requestUpdate() {\n            return _this62.Pt.Qt().Bh();\n          }\n        });\n      }\n    }, {\n      key: \"detachPrimitive\",\n      value: function detachPrimitive(t) {\n        this.Pt.ca(t);\n      }\n    }, {\n      key: \"priceScale\",\n      value: function priceScale(t) {\n        if (null === this.Pt.Do(t)) throw new Error(\"Cannot find price scale with id: \".concat(t));\n        return new Vn(this.Ff, t, this.paneIndex());\n      }\n    }, {\n      key: \"setPreserveEmptyPane\",\n      value: function setPreserveEmptyPane(t) {\n        this.Pt.zo(t);\n      }\n    }, {\n      key: \"preserveEmptyPane\",\n      value: function preserveEmptyPane() {\n        return this.Pt.Oo();\n      }\n    }, {\n      key: \"addCustomSeries\",\n      value: function addCustomSeries(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        return this.wg.addCustomSeries(t, i, s);\n      }\n    }, {\n      key: \"addSeries\",\n      value: function addSeries(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        return this.wg.addSeries(t, i, this.paneIndex());\n      }\n    }]);\n  }();\n  var In = {\n    color: \"#FF0000\",\n    price: 0,\n    lineStyle: 2,\n    lineWidth: 1,\n    lineVisible: !0,\n    axisLabelVisible: !0,\n    title: \"\",\n    axisLabelColor: \"\",\n    axisLabelTextColor: \"\"\n  };\n  var An = /*#__PURE__*/function () {\n    function An(t) {\n      _classCallCheck(this, An);\n      this.ir = t;\n    }\n    return _createClass(An, [{\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        this.ir.hr(t);\n      }\n    }, {\n      key: \"options\",\n      value: function options() {\n        return this.ir.N();\n      }\n    }, {\n      key: \"gg\",\n      value: function gg() {\n        return this.ir;\n      }\n    }]);\n  }();\n  var zn = /*#__PURE__*/function () {\n    function zn(t, i, s, n, e, r) {\n      _classCallCheck(this, zn);\n      this.Mg = new o(), this.Jn = t, this.bg = i, this.xg = s, this.o_ = e, this.wg = n, this.Sg = r;\n    }\n    return _createClass(zn, [{\n      key: \"m\",\n      value: function m() {\n        this.Mg.m();\n      }\n    }, {\n      key: \"priceFormatter\",\n      value: function priceFormatter() {\n        return this.Jn.ra();\n      }\n    }, {\n      key: \"priceToCoordinate\",\n      value: function priceToCoordinate(t) {\n        var i = this.Jn.zt();\n        return null === i ? null : this.Jn.Wt().Nt(t, i.Ft);\n      }\n    }, {\n      key: \"coordinateToPrice\",\n      value: function coordinateToPrice(t) {\n        var i = this.Jn.zt();\n        return null === i ? null : this.Jn.Wt().Ts(t, i.Ft);\n      }\n    }, {\n      key: \"barsInLogicalRange\",\n      value: function barsInLogicalRange(t) {\n        if (null === t) return null;\n        var i = new yi(new Si(t.from, t.to)).y_(),\n          s = this.Jn.Xs();\n        if (s.Ki()) return null;\n        var n = s.Wr(i.Uh(), 1),\n          e = s.Wr(i.bi(), -1),\n          r = a(s.Or()),\n          h = a(s.Ks());\n        if (null !== n && null !== e && n.Re > e.Re) return {\n          barsBefore: t.from - r,\n          barsAfter: h - t.to\n        };\n        var l = {\n          barsBefore: null === n || n.Re === r ? t.from - r : n.Re - r,\n          barsAfter: null === e || e.Re === h ? h - t.to : h - e.Re\n        };\n        return null !== n && null !== e && (l.from = n.Pw, l.to = e.Pw), l;\n      }\n    }, {\n      key: \"setData\",\n      value: function setData(t) {\n        this.o_, this.Jn.Rr(), this.bg.Cg(this.Jn, t), this.Pg(\"full\");\n      }\n    }, {\n      key: \"update\",\n      value: function update(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : !1;\n        this.Jn.Rr(), this.bg.yg(this.Jn, t, i), this.Pg(\"update\");\n      }\n    }, {\n      key: \"dataByIndex\",\n      value: function dataByIndex(t, i) {\n        var s = this.Jn.Xs().Wr(t, i);\n        if (null === s) return null;\n        return Cn(this.seriesType())(s);\n      }\n    }, {\n      key: \"data\",\n      value: function data() {\n        var t = Cn(this.seriesType());\n        return this.Jn.Xs().Hr().map(function (i) {\n          return t(i);\n        });\n      }\n    }, {\n      key: \"subscribeDataChanged\",\n      value: function subscribeDataChanged(t) {\n        this.Mg.i(t);\n      }\n    }, {\n      key: \"unsubscribeDataChanged\",\n      value: function unsubscribeDataChanged(t) {\n        this.Mg._(t);\n      }\n    }, {\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        this.Jn.hr(t);\n      }\n    }, {\n      key: \"options\",\n      value: function options() {\n        return p(this.Jn.N());\n      }\n    }, {\n      key: \"priceScale\",\n      value: function priceScale() {\n        return this.xg.priceScale(this.Jn.Wt().wa(), this.getPane().paneIndex());\n      }\n    }, {\n      key: \"createPriceLine\",\n      value: function createPriceLine(t) {\n        var i = _(p(In), t),\n          s = this.Jn.Lh(i);\n        return new An(s);\n      }\n    }, {\n      key: \"removePriceLine\",\n      value: function removePriceLine(t) {\n        this.Jn.Nh(t.gg());\n      }\n    }, {\n      key: \"priceLines\",\n      value: function priceLines() {\n        return this.Jn.Wh().map(function (t) {\n          return new An(t);\n        });\n      }\n    }, {\n      key: \"seriesType\",\n      value: function seriesType() {\n        return this.Jn.Rr();\n      }\n    }, {\n      key: \"attachPrimitive\",\n      value: function attachPrimitive(t) {\n        var _this63 = this;\n        this.Jn.ua(t), t.attached && t.attached({\n          chart: this.wg,\n          series: this,\n          requestUpdate: function requestUpdate() {\n            return _this63.Jn.Qt().Bh();\n          },\n          horzScaleBehavior: this.o_\n        });\n      }\n    }, {\n      key: \"detachPrimitive\",\n      value: function detachPrimitive(t) {\n        this.Jn.ca(t), t.detached && t.detached(), this.Jn.Qt().Bh();\n      }\n    }, {\n      key: \"getPane\",\n      value: function getPane() {\n        var t = this.Jn,\n          i = a(this.Jn.Qt().Hn(t));\n        return this.Sg(i);\n      }\n    }, {\n      key: \"moveToPane\",\n      value: function moveToPane(t) {\n        this.Jn.Qt().Lc(this.Jn, t);\n      }\n    }, {\n      key: \"seriesOrder\",\n      value: function seriesOrder() {\n        var t = this.Jn.Qt().Hn(this.Jn);\n        return null === t ? -1 : t.Lo().indexOf(this.Jn);\n      }\n    }, {\n      key: \"setSeriesOrder\",\n      value: function setSeriesOrder(t) {\n        var i = this.Jn.Qt().Hn(this.Jn);\n        null !== i && i.Qo(this.Jn, t);\n      }\n    }, {\n      key: \"Pg\",\n      value: function Pg(t) {\n        this.Mg.v() && this.Mg.p(t);\n      }\n    }]);\n  }();\n  var On = /*#__PURE__*/function () {\n    function On(t, i, s) {\n      _classCallCheck(this, On);\n      this.kg = new o(), this.z_ = new o(), this.wm = new o(), this.ts = t, this.uh = t.It(), this.Xm = i, this.uh.Du().i(this.Tg.bind(this)), this.uh.Eu().i(this.Rg.bind(this)), this.Xm.Pm().i(this.Dg.bind(this)), this.o_ = s;\n    }\n    return _createClass(On, [{\n      key: \"m\",\n      value: function m() {\n        this.uh.Du().u(this), this.uh.Eu().u(this), this.Xm.Pm().u(this), this.kg.m(), this.z_.m(), this.wm.m();\n      }\n    }, {\n      key: \"scrollPosition\",\n      value: function scrollPosition() {\n        return this.uh.wu();\n      }\n    }, {\n      key: \"scrollToPosition\",\n      value: function scrollToPosition(t, i) {\n        i ? this.uh.ku(t, 1e3) : this.ts.fn(t);\n      }\n    }, {\n      key: \"scrollToRealTime\",\n      value: function scrollToRealTime() {\n        this.uh.yu();\n      }\n    }, {\n      key: \"getVisibleRange\",\n      value: function getVisibleRange() {\n        var t = this.uh.su();\n        return null === t ? null : {\n          from: t.from.originalTime,\n          to: t.to.originalTime\n        };\n      }\n    }, {\n      key: \"setVisibleRange\",\n      value: function setVisibleRange(t) {\n        var i = {\n            from: this.o_.convertHorzItemToInternal(t.from),\n            to: this.o_.convertHorzItemToInternal(t.to)\n          },\n          s = this.uh.hu(i);\n        this.ts.zc(s);\n      }\n    }, {\n      key: \"getVisibleLogicalRange\",\n      value: function getVisibleLogicalRange() {\n        var t = this.uh.iu();\n        return null === t ? null : {\n          from: t.Uh(),\n          to: t.bi()\n        };\n      }\n    }, {\n      key: \"setVisibleLogicalRange\",\n      value: function setVisibleLogicalRange(t) {\n        r(t.from <= t.to, \"The from index cannot be after the to index.\"), this.ts.zc(t);\n      }\n    }, {\n      key: \"resetTimeScale\",\n      value: function resetTimeScale() {\n        this.ts.cn();\n      }\n    }, {\n      key: \"fitContent\",\n      value: function fitContent() {\n        this.ts.Iu();\n      }\n    }, {\n      key: \"logicalToCoordinate\",\n      value: function logicalToCoordinate(t) {\n        var i = this.ts.It();\n        return i.Ki() ? null : i.jt(t);\n      }\n    }, {\n      key: \"coordinateToLogical\",\n      value: function coordinateToLogical(t) {\n        return this.uh.Ki() ? null : this.uh.uu(t);\n      }\n    }, {\n      key: \"timeToIndex\",\n      value: function timeToIndex(t, i) {\n        var s = this.o_.convertHorzItemToInternal(t);\n        return this.uh.J_(s, i);\n      }\n    }, {\n      key: \"timeToCoordinate\",\n      value: function timeToCoordinate(t) {\n        var i = this.timeToIndex(t, !1);\n        return null === i ? null : this.uh.jt(i);\n      }\n    }, {\n      key: \"coordinateToTime\",\n      value: function coordinateToTime(t) {\n        var i = this.ts.It(),\n          s = i.uu(t),\n          n = i.ss(s);\n        return null === n ? null : n.originalTime;\n      }\n    }, {\n      key: \"width\",\n      value: function width() {\n        return this.Xm.Zf().width;\n      }\n    }, {\n      key: \"height\",\n      value: function height() {\n        return this.Xm.Zf().height;\n      }\n    }, {\n      key: \"subscribeVisibleTimeRangeChange\",\n      value: function subscribeVisibleTimeRangeChange(t) {\n        this.kg.i(t);\n      }\n    }, {\n      key: \"unsubscribeVisibleTimeRangeChange\",\n      value: function unsubscribeVisibleTimeRangeChange(t) {\n        this.kg._(t);\n      }\n    }, {\n      key: \"subscribeVisibleLogicalRangeChange\",\n      value: function subscribeVisibleLogicalRangeChange(t) {\n        this.z_.i(t);\n      }\n    }, {\n      key: \"unsubscribeVisibleLogicalRangeChange\",\n      value: function unsubscribeVisibleLogicalRangeChange(t) {\n        this.z_._(t);\n      }\n    }, {\n      key: \"subscribeSizeChange\",\n      value: function subscribeSizeChange(t) {\n        this.wm.i(t);\n      }\n    }, {\n      key: \"unsubscribeSizeChange\",\n      value: function unsubscribeSizeChange(t) {\n        this.wm._(t);\n      }\n    }, {\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        this.uh.hr(t);\n      }\n    }, {\n      key: \"options\",\n      value: function options() {\n        return _objectSpread(_objectSpread({}, p(this.uh.N())), {}, {\n          barSpacing: this.uh.vu()\n        });\n      }\n    }, {\n      key: \"Tg\",\n      value: function Tg() {\n        this.kg.v() && this.kg.p(this.getVisibleRange());\n      }\n    }, {\n      key: \"Rg\",\n      value: function Rg() {\n        this.z_.v() && this.z_.p(this.getVisibleLogicalRange());\n      }\n    }, {\n      key: \"Dg\",\n      value: function Dg(t) {\n        this.wm.p(t.width, t.height);\n      }\n    }]);\n  }();\n  function Ln(t) {\n    if (void 0 === t || \"custom\" === t.type) return;\n    var i = t;\n    void 0 !== i.minMove && void 0 === i.precision && (i.precision = function (t) {\n      if (t >= 1) return 0;\n      var i = 0;\n      for (; i < 8; i++) {\n        var _s54 = Math.round(t);\n        if (Math.abs(_s54 - t) < 1e-8) return i;\n        t *= 10;\n      }\n      return i;\n    }(i.minMove));\n  }\n  function Nn(t) {\n    return function (t) {\n      if (f(t.handleScale)) {\n        var _i70 = t.handleScale;\n        t.handleScale = {\n          axisDoubleClickReset: {\n            time: _i70,\n            price: _i70\n          },\n          axisPressedMouseMove: {\n            time: _i70,\n            price: _i70\n          },\n          mouseWheel: _i70,\n          pinch: _i70\n        };\n      } else if (void 0 !== t.handleScale) {\n        var _t$handleScale = t.handleScale,\n          _i71 = _t$handleScale.axisPressedMouseMove,\n          _s55 = _t$handleScale.axisDoubleClickReset;\n        f(_i71) && (t.handleScale.axisPressedMouseMove = {\n          time: _i71,\n          price: _i71\n        }), f(_s55) && (t.handleScale.axisDoubleClickReset = {\n          time: _s55,\n          price: _s55\n        });\n      }\n      var i = t.handleScroll;\n      f(i) && (t.handleScroll = {\n        horzTouchDrag: i,\n        vertTouchDrag: i,\n        mouseWheel: i,\n        pressedMouseMove: i\n      });\n    }(t), t;\n  }\n  var Wn = /*#__PURE__*/function () {\n    function Wn(t, i, s) {\n      var _this64 = this;\n      _classCallCheck(this, Wn);\n      this.Eg = new Map(), this.Vg = new Map(), this.Bg = new o(), this.Ig = new o(), this.Ag = new o(), this.$u = new WeakMap(), this.zg = new hn(i);\n      var n = void 0 === s ? p(En()) : _(p(En()), Nn(s));\n      this.Og = i, this.Ff = new Hs(t, n, i), this.Ff.Kv().i(function (t) {\n        _this64.Bg.v() && _this64.Bg.p(_this64.Lg(t()));\n      }, this), this.Ff.Xv().i(function (t) {\n        _this64.Ig.v() && _this64.Ig.p(_this64.Lg(t()));\n      }, this), this.Ff.uc().i(function (t) {\n        _this64.Ag.v() && _this64.Ag.p(_this64.Lg(t()));\n      }, this);\n      var e = this.Ff.Qt();\n      this.Ng = new On(e, this.Ff.tw(), this.Og);\n    }\n    return _createClass(Wn, [{\n      key: \"remove\",\n      value: function remove() {\n        this.Ff.Kv().u(this), this.Ff.Xv().u(this), this.Ff.uc().u(this), this.Ng.m(), this.Ff.m(), this.Eg.clear(), this.Vg.clear(), this.Bg.m(), this.Ig.m(), this.Ag.m(), this.zg.m();\n      }\n    }, {\n      key: \"resize\",\n      value: function resize(t, i, s) {\n        this.autoSizeActive() || this.Ff.Gm(t, i, s);\n      }\n    }, {\n      key: \"addCustomSeries\",\n      value: function addCustomSeries(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var n = function (t) {\n          return {\n            type: \"Custom\",\n            isBuiltIn: !1,\n            defaultOptions: _objectSpread(_objectSpread({}, pn), t.defaultOptions()),\n            Wg: vn,\n            Fg: t\n          };\n        }(l(t));\n        return this.Hg(n, i, s);\n      }\n    }, {\n      key: \"addSeries\",\n      value: function addSeries(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        return this.Hg(t, i, s);\n      }\n    }, {\n      key: \"removeSeries\",\n      value: function removeSeries(t) {\n        var i = h(this.Eg.get(t)),\n          s = this.zg.Ic(i);\n        this.Ff.Qt().Ic(i), this.Ug(s), this.Eg[\"delete\"](t), this.Vg[\"delete\"](i);\n      }\n    }, {\n      key: \"Cg\",\n      value: function Cg(t, i) {\n        this.Ug(this.zg.Ww(t, i));\n      }\n    }, {\n      key: \"yg\",\n      value: function yg(t, i, s) {\n        this.Ug(this.zg.qw(t, i, s));\n      }\n    }, {\n      key: \"subscribeClick\",\n      value: function subscribeClick(t) {\n        this.Bg.i(t);\n      }\n    }, {\n      key: \"unsubscribeClick\",\n      value: function unsubscribeClick(t) {\n        this.Bg._(t);\n      }\n    }, {\n      key: \"subscribeCrosshairMove\",\n      value: function subscribeCrosshairMove(t) {\n        this.Ag.i(t);\n      }\n    }, {\n      key: \"unsubscribeCrosshairMove\",\n      value: function unsubscribeCrosshairMove(t) {\n        this.Ag._(t);\n      }\n    }, {\n      key: \"subscribeDblClick\",\n      value: function subscribeDblClick(t) {\n        this.Ig.i(t);\n      }\n    }, {\n      key: \"unsubscribeDblClick\",\n      value: function unsubscribeDblClick(t) {\n        this.Ig._(t);\n      }\n    }, {\n      key: \"priceScale\",\n      value: function priceScale(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return new Vn(this.Ff, t, i);\n      }\n    }, {\n      key: \"timeScale\",\n      value: function timeScale() {\n        return this.Ng;\n      }\n    }, {\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        this.Ff.hr(Nn(t));\n      }\n    }, {\n      key: \"options\",\n      value: function options() {\n        return this.Ff.N();\n      }\n    }, {\n      key: \"takeScreenshot\",\n      value: function takeScreenshot() {\n        return this.Ff.hw();\n      }\n    }, {\n      key: \"addPane\",\n      value: function addPane() {\n        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !1;\n        var i = this.Ff.Qt().Uc();\n        return i.zo(t), this.$g(i);\n      }\n    }, {\n      key: \"removePane\",\n      value: function removePane(t) {\n        this.Ff.Qt().dc(t);\n      }\n    }, {\n      key: \"swapPanes\",\n      value: function swapPanes(t, i) {\n        this.Ff.Qt().vc(t, i);\n      }\n    }, {\n      key: \"autoSizeActive\",\n      value: function autoSizeActive() {\n        return this.Ff.uw();\n      }\n    }, {\n      key: \"chartElement\",\n      value: function chartElement() {\n        return this.Ff.tp();\n      }\n    }, {\n      key: \"panes\",\n      value: function panes() {\n        var _this65 = this;\n        return this.Ff.Qt().$s().map(function (t) {\n          return _this65.$g(t);\n        });\n      }\n    }, {\n      key: \"paneSize\",\n      value: function paneSize() {\n        var t = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var i = this.Ff.fw(t);\n        return {\n          height: i.height,\n          width: i.width\n        };\n      }\n    }, {\n      key: \"setCrosshairPosition\",\n      value: function setCrosshairPosition(t, i, s) {\n        var n = this.Eg.get(s);\n        if (void 0 === n) return;\n        var e = this.Ff.Qt().Hn(n);\n        null !== e && this.Ff.Qt().Tc(t, i, e);\n      }\n    }, {\n      key: \"clearCrosshairPosition\",\n      value: function clearCrosshairPosition() {\n        this.Ff.Qt().Rc(!0);\n      }\n    }, {\n      key: \"horzBehaviour\",\n      value: function horzBehaviour() {\n        return this.Og;\n      }\n    }, {\n      key: \"Hg\",\n      value: function Hg(i) {\n        var _this66 = this;\n        var s = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var n = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        r(void 0 !== i.Wg), Ln(s.priceFormat), \"Candlestick\" === i.type && function (t) {\n          void 0 !== t.borderColor && (t.borderUpColor = t.borderColor, t.borderDownColor = t.borderColor), void 0 !== t.wickColor && (t.wickUpColor = t.wickColor, t.wickDownColor = t.wickColor);\n        }(s);\n        var e = _(p(t), p(i.defaultOptions), s),\n          h = i.Wg,\n          a = new Ut(this.Ff.Qt(), i.type, e, h, i.Fg);\n        this.Ff.Qt().Vc(a, n);\n        var l = new zn(a, this, this, this, this.Og, function (t) {\n          return _this66.$g(t);\n        });\n        return this.Eg.set(l, a), this.Vg.set(a, l), l;\n      }\n    }, {\n      key: \"Ug\",\n      value: function Ug(t) {\n        var i = this.Ff.Qt();\n        i.Dc(t.It.ou, t.It.Gw, t.It.Jw), t.Lo.forEach(function (t, i) {\n          return i.ht(t.se, t.Zw);\n        }), i.It().Y_(), i.pu();\n      }\n    }, {\n      key: \"jg\",\n      value: function jg(t) {\n        return h(this.Vg.get(t));\n      }\n    }, {\n      key: \"Lg\",\n      value: function Lg(t) {\n        var _this67 = this;\n        var i = new Map();\n        t.Rw.forEach(function (t, s) {\n          var n = s.Rr(),\n            e = Cn(n)(t);\n          if (\"Custom\" !== n) r(js(e));else {\n            var _t67 = s.pa();\n            r(!_t67 || !1 === _t67(e));\n          }\n          i.set(_this67.jg(s), e);\n        });\n        var s = void 0 !== t.Tw && this.Vg.has(t.Tw) ? this.jg(t.Tw) : void 0;\n        return {\n          time: t.Pw,\n          logical: t.Re,\n          point: t.yw,\n          paneIndex: t.kw,\n          hoveredSeries: s,\n          hoveredObjectId: t.Dw,\n          seriesData: i,\n          sourceEvent: t.Ew\n        };\n      }\n    }, {\n      key: \"$g\",\n      value: function $g(t) {\n        var _this68 = this;\n        var i = this.$u.get(t);\n        return i || (i = new Bn(this.Ff, function (t) {\n          return _this68.jg(t);\n        }, t, this), this.$u.set(t, i)), i;\n      }\n    }]);\n  }();\n  function Fn(t) {\n    if (d(t)) {\n      var _i72 = document.getElementById(t);\n      return r(null !== _i72, \"Cannot find element in DOM with id=\".concat(t)), _i72;\n    }\n    return t;\n  }\n  function Hn(t, i, s) {\n    var n = Fn(t),\n      e = new Wn(n, i, s);\n    return i.setOptions(e.options()), e;\n  }\n  var Un = /*#__PURE__*/function (_un2) {\n    function Un(t, i) {\n      _classCallCheck(this, Un);\n      return _callSuper(this, Un, [t, i, !0]);\n    }\n    _inherits(Un, _un2);\n    return _createClass(Un, [{\n      key: \"ug\",\n      value: function ug(t, i, s) {\n        i._u(this.sg, m(this.ng)), t.$l(this.sg, s, m(this.ng));\n      }\n    }, {\n      key: \"qg\",\n      value: function qg(t, i) {\n        return {\n          wt: t,\n          gt: i,\n          _t: NaN,\n          ut: NaN\n        };\n      }\n    }, {\n      key: \"og\",\n      value: function og() {\n        var _this69 = this;\n        var t = this.Jn.Rh();\n        this.sg = this.Jn.Xs().Hr().map(function (i) {\n          var s = i.Ft[3];\n          return _this69.Yg(i.Re, s, t);\n        });\n      }\n    }]);\n  }(un);\n  function $n(t, i, s, n, e, r, h) {\n    if (0 === i.length || n.from >= i.length || n.to <= 0) return;\n    var a = t.context,\n      l = t.horizontalPixelRatio,\n      o = t.verticalPixelRatio,\n      _ = i[n.from];\n    var u = r(t, _),\n      c = _;\n    if (n.to - n.from < 2) {\n      var _i73 = e / 2;\n      a.beginPath();\n      var _s56 = {\n          _t: _._t - _i73,\n          ut: _.ut\n        },\n        _n31 = {\n          _t: _._t + _i73,\n          ut: _.ut\n        };\n      a.moveTo(_s56._t * l, _s56.ut * o), a.lineTo(_n31._t * l, _n31.ut * o), h(t, u, _s56, _n31);\n    } else {\n      var _e23 = function _e23(i, s) {\n        h(t, u, c, s), a.beginPath(), u = i, c = s;\n      };\n      var _d = c;\n      a.beginPath(), a.moveTo(_._t * l, _.ut * o);\n      for (var _h0 = n.from + 1; _h0 < n.to; ++_h0) {\n        _d = i[_h0];\n        var _n32 = r(t, _d);\n        switch (s) {\n          case 0:\n            a.lineTo(_d._t * l, _d.ut * o);\n            break;\n          case 1:\n            a.lineTo(_d._t * l, i[_h0 - 1].ut * o), _n32 !== u && (_e23(_n32, _d), a.lineTo(_d._t * l, i[_h0 - 1].ut * o)), a.lineTo(_d._t * l, _d.ut * o);\n            break;\n          case 2:\n            {\n              var _Kn = Kn(i, _h0 - 1, _h0),\n                _Kn2 = _slicedToArray(_Kn, 2),\n                _t68 = _Kn2[0],\n                _s57 = _Kn2[1];\n              a.bezierCurveTo(_t68._t * l, _t68.ut * o, _s57._t * l, _s57.ut * o, _d._t * l, _d.ut * o);\n              break;\n            }\n        }\n        1 !== s && _n32 !== u && (_e23(_n32, _d), a.moveTo(_d._t * l, _d.ut * o));\n      }\n      (c !== _d || c === _d && 1 === s) && h(t, u, c, _d);\n    }\n  }\n  var jn = 6;\n  function qn(t, i) {\n    return {\n      _t: t._t - i._t,\n      ut: t.ut - i.ut\n    };\n  }\n  function Yn(t, i) {\n    return {\n      _t: t._t / i,\n      ut: t.ut / i\n    };\n  }\n  function Kn(t, i, s) {\n    var n = Math.max(0, i - 1),\n      e = Math.min(t.length - 1, s + 1);\n    var r, h;\n    return [(r = t[i], h = Yn(qn(t[s], t[n]), jn), {\n      _t: r._t + h._t,\n      ut: r.ut + h.ut\n    }), qn(t[s], Yn(qn(t[e], t[i]), jn))];\n  }\n  function Xn(t, i) {\n    var s = t.context;\n    s.strokeStyle = i, s.stroke();\n  }\n  var Zn = /*#__PURE__*/function (_P6) {\n    function Zn() {\n      var _this70;\n      _classCallCheck(this, Zn);\n      _this70 = _callSuper(this, Zn, arguments), _this70.rt = null;\n      return _this70;\n    }\n    _inherits(Zn, _P6);\n    return _createClass(Zn, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.rt = t;\n      }\n    }, {\n      key: \"et\",\n      value: function et(t) {\n        if (null === this.rt) return;\n        var _this$rt = this.rt,\n          i = _this$rt.ot,\n          s = _this$rt.lt,\n          e = _this$rt.Kg,\n          r = _this$rt.Xg,\n          h = _this$rt.ct,\n          a = _this$rt.Xt,\n          l = _this$rt.Zg;\n        if (null === s) return;\n        var o = t.context;\n        o.lineCap = \"butt\", o.lineWidth = h * t.verticalPixelRatio, n(o, a), o.lineJoin = \"round\";\n        var _ = this.Gg.bind(this);\n        void 0 !== r && $n(t, i, r, s, e, _, Xn), l && function (t, i, s, n, e) {\n          if (n.to - n.from <= 0) return;\n          var r = t.horizontalPixelRatio,\n            h = t.verticalPixelRatio,\n            a = t.context;\n          var l = null;\n          var o = Math.max(1, Math.floor(r)) % 2 / 2,\n            _ = s * h + o;\n          for (var _s58 = n.to - 1; _s58 >= n.from; --_s58) {\n            var _n33 = i[_s58];\n            if (_n33) {\n              var _i74 = e(t, _n33);\n              _i74 !== l && (a.beginPath(), null !== l && a.fill(), a.fillStyle = _i74, l = _i74);\n              var _s59 = Math.round(_n33._t * r) + o,\n                _u5 = _n33.ut * h;\n              a.moveTo(_s59, _u5), a.arc(_s59, _u5, _, 0, 2 * Math.PI);\n            }\n          }\n          a.fill();\n        }(t, i, l, s, _);\n      }\n    }]);\n  }(P);\n  var Gn = /*#__PURE__*/function (_Zn) {\n    function Gn() {\n      _classCallCheck(this, Gn);\n      return _callSuper(this, Gn, arguments);\n    }\n    _inherits(Gn, _Zn);\n    return _createClass(Gn, [{\n      key: \"Gg\",\n      value: function Gg(t, i) {\n        return i.vt;\n      }\n    }]);\n  }(Zn);\n  var Jn = /*#__PURE__*/function (_Un) {\n    function Jn() {\n      var _this71;\n      _classCallCheck(this, Jn);\n      _this71 = _callSuper(this, Jn, arguments), _this71.hg = new Gn();\n      return _this71;\n    }\n    _inherits(Jn, _Un);\n    return _createClass(Jn, [{\n      key: \"Yg\",\n      value: function Yg(t, i, s) {\n        return _objectSpread(_objectSpread({}, this.qg(t, i)), s.Dr(t));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        var t = this.Jn.N(),\n          i = {\n            ot: this.sg,\n            Xt: t.lineStyle,\n            Xg: t.lineVisible ? t.lineType : void 0,\n            ct: t.lineWidth,\n            Zg: t.pointMarkersVisible ? t.pointMarkersRadius || t.lineWidth / 2 + 2 : void 0,\n            lt: this.ng,\n            Kg: this.Qn.It().vu()\n          };\n        this.hg.ht(i);\n      }\n    }]);\n  }(Un);\n  var Qn = {\n    type: \"Line\",\n    isBuiltIn: !0,\n    defaultOptions: {\n      color: \"#2196f3\",\n      lineStyle: 0,\n      lineWidth: 3,\n      lineType: 0,\n      lineVisible: !0,\n      crosshairMarkerVisible: !0,\n      crosshairMarkerRadius: 4,\n      crosshairMarkerBorderColor: \"\",\n      crosshairMarkerBorderWidth: 2,\n      crosshairMarkerBackgroundColor: \"\",\n      lastPriceAnimation: 0,\n      pointMarkersVisible: !1\n    },\n    Wg: function Wg(t, i) {\n      return new Jn(t, i);\n    }\n  };\n  function te(t, i) {\n    return t.weight > i.weight ? t : i;\n  }\n  var ie = /*#__PURE__*/function () {\n    function ie() {\n      var _this72 = this;\n      _classCallCheck(this, ie);\n      this.Jg = new o(), this.Qg = function (t) {\n        var i = !1;\n        return function () {\n          for (var _len2 = arguments.length, s = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            s[_key2] = arguments[_key2];\n          }\n          i || (i = !0, queueMicrotask(function () {\n            t.apply(void 0, s), i = !1;\n          }));\n        };\n      }(function () {\n        return _this72.Jg.p(_this72.tM);\n      }), this.tM = 0;\n    }\n    return _createClass(ie, [{\n      key: \"iM\",\n      value: function iM() {\n        return this.Jg;\n      }\n    }, {\n      key: \"m\",\n      value: function m() {\n        this.Jg.m();\n      }\n    }, {\n      key: \"options\",\n      value: function options() {\n        return this.Ps;\n      }\n    }, {\n      key: \"setOptions\",\n      value: function setOptions(t) {\n        this.Ps = t;\n      }\n    }, {\n      key: \"preprocessData\",\n      value: function preprocessData(t) {}\n    }, {\n      key: \"updateFormatter\",\n      value: function updateFormatter(t) {\n        this.Ps && (this.Ps.localization = t);\n      }\n    }, {\n      key: \"createConverterToInternalObj\",\n      value: function createConverterToInternalObj(t) {\n        var _this73 = this;\n        return this.Qg(), function (t) {\n          return t > _this73.tM && (_this73.tM = t), t;\n        };\n      }\n    }, {\n      key: \"key\",\n      value: function key(t) {\n        return t;\n      }\n    }, {\n      key: \"cacheKey\",\n      value: function cacheKey(t) {\n        return t;\n      }\n    }, {\n      key: \"convertHorzItemToInternal\",\n      value: function convertHorzItemToInternal(t) {\n        return t;\n      }\n    }, {\n      key: \"formatHorzItem\",\n      value: function formatHorzItem(t) {\n        return this.sM(t);\n      }\n    }, {\n      key: \"formatTickmark\",\n      value: function formatTickmark(t) {\n        return this.sM(t.time);\n      }\n    }, {\n      key: \"maxTickMarkWeight\",\n      value: function maxTickMarkWeight(t) {\n        return t.reduce(te, t[0]).weight;\n      }\n    }, {\n      key: \"fillWeightsForPoints\",\n      value: function fillWeightsForPoints(t, i) {\n        for (var _n34 = i; _n34 < t.length; ++_n34) t[_n34].timeWeight = (s = t[_n34].time) % 120 == 0 ? 10 : s % 60 == 0 ? 9 : s % 36 == 0 ? 8 : s % 12 == 0 ? 7 : s % 6 == 0 ? 6 : s % 3 == 0 ? 5 : s % 1 == 0 ? 4 : 0;\n        var s;\n        this.tM = t[t.length - 1].time, this.Qg();\n      }\n    }, {\n      key: \"sM\",\n      value: function sM(t) {\n        var _this$Ps$localization;\n        if ((_this$Ps$localization = this.Ps.localization) !== null && _this$Ps$localization !== void 0 && _this$Ps$localization.timeFormatter) return this.Ps.localization.timeFormatter(t);\n        if (t < 12) return \"\".concat(t, \"M\");\n        var i = Math.floor(t / 12),\n          s = t % 12;\n        return 0 === s ? \"\".concat(i, \"Y\") : \"\".concat(i, \"Y\").concat(s, \"M\");\n      }\n    }]);\n  }();\n  var se = {\n      yieldCurve: {\n        baseResolution: 1,\n        minimumTimeRange: 120,\n        startTimeRange: 0\n      },\n      timeScale: {\n        ignoreWhitespaceIndices: !0\n      },\n      leftPriceScale: {\n        visible: !0\n      },\n      rightPriceScale: {\n        visible: !1\n      },\n      localization: {\n        priceFormatter: function priceFormatter(t) {\n          return t.toFixed(3) + \"%\";\n        }\n      }\n    },\n    ne = {\n      lastValueVisible: !1,\n      priceLineVisible: !1\n    };\n  var ee = /*#__PURE__*/function (_Wn) {\n    function ee(t, i) {\n      var _this74;\n      _classCallCheck(this, ee);\n      var s = _(se, i || {}),\n        n = new ie();\n      _this74 = _callSuper(this, ee, [t, n, s]), n.setOptions(_this74.options()), _this74._initWhitespaceSeries();\n      return _this74;\n    }\n    _inherits(ee, _Wn);\n    return _createClass(ee, [{\n      key: \"addSeries\",\n      value: function addSeries(t) {\n        var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var s = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        if (t.isBuiltIn && !1 === [\"Area\", \"Line\"].includes(t.type)) throw new Error(\"Yield curve only support Area and Line series\");\n        var n = _objectSpread(_objectSpread({}, ne), i);\n        return _superPropGet(ee, \"addSeries\", this, 3)([t, n, s]);\n      }\n    }, {\n      key: \"_initWhitespaceSeries\",\n      value: function _initWhitespaceSeries() {\n        var t = this.horzBehaviour(),\n          i = this.addSeries(Qn);\n        var s;\n        function n(n) {\n          var e = function (t, i) {\n              return {\n                le: Math.max(0, t.startTimeRange),\n                oe: Math.max(0, t.minimumTimeRange, i || 0),\n                nM: Math.max(1, t.baseResolution)\n              };\n            }(t.options().yieldCurve, n),\n            r = function (_ref22) {\n              var t = _ref22.le,\n                i = _ref22.oe,\n                s = _ref22.nM;\n              return \"\".concat(t, \"~\").concat(i, \"~\").concat(s);\n            }(e);\n          r !== s && (s = r, i.setData(function (_ref23) {\n            var t = _ref23.le,\n              i = _ref23.oe,\n              s = _ref23.nM;\n            return Array.from({\n              length: Math.floor((i - t) / s) + 1\n            }, function (i, n) {\n              return {\n                time: t + n * s\n              };\n            });\n          }(e)));\n        }\n        n(0), t.iM().i(n);\n      }\n    }]);\n  }(Wn);\n  function re(t, i) {\n    return t.weight > i.weight ? t : i;\n  }\n  var he = /*#__PURE__*/function () {\n    function he() {\n      _classCallCheck(this, he);\n    }\n    return _createClass(he, [{\n      key: \"options\",\n      value: function options() {\n        return this.Ps;\n      }\n    }, {\n      key: \"setOptions\",\n      value: function setOptions(t) {\n        this.Ps = t;\n      }\n    }, {\n      key: \"preprocessData\",\n      value: function preprocessData(t) {}\n    }, {\n      key: \"updateFormatter\",\n      value: function updateFormatter(t) {\n        this.Ps && (this.Ps.localization = t);\n      }\n    }, {\n      key: \"createConverterToInternalObj\",\n      value: function createConverterToInternalObj(t) {\n        return function (t) {\n          return t;\n        };\n      }\n    }, {\n      key: \"key\",\n      value: function key(t) {\n        return t;\n      }\n    }, {\n      key: \"cacheKey\",\n      value: function cacheKey(t) {\n        return t;\n      }\n    }, {\n      key: \"convertHorzItemToInternal\",\n      value: function convertHorzItemToInternal(t) {\n        return t;\n      }\n    }, {\n      key: \"formatHorzItem\",\n      value: function formatHorzItem(t) {\n        return t.toFixed(this.Cn());\n      }\n    }, {\n      key: \"formatTickmark\",\n      value: function formatTickmark(t, i) {\n        return t.time.toFixed(this.Cn());\n      }\n    }, {\n      key: \"maxTickMarkWeight\",\n      value: function maxTickMarkWeight(t) {\n        return t.reduce(re, t[0]).weight;\n      }\n    }, {\n      key: \"fillWeightsForPoints\",\n      value: function fillWeightsForPoints(t, i) {\n        for (var _n35 = i; _n35 < t.length; ++_n35) t[_n35].timeWeight = (s = t[_n35].time) === 100 * Math.ceil(s / 100) ? 8 : s === 50 * Math.ceil(s / 50) ? 7 : s === 25 * Math.ceil(s / 25) ? 6 : s === 10 * Math.ceil(s / 10) ? 5 : s === 5 * Math.ceil(s / 5) ? 4 : s === Math.ceil(s) ? 3 : 2 * s === Math.ceil(2 * s) ? 1 : 0;\n        var s;\n      }\n    }, {\n      key: \"Cn\",\n      value: function Cn() {\n        return this.Ps.localization.precision;\n      }\n    }]);\n  }();\n  function ae(t, i, s, n, e) {\n    var r = i.context,\n      h = i.horizontalPixelRatio,\n      a = i.verticalPixelRatio;\n    r.lineTo(e._t * h, t * a), r.lineTo(n._t * h, t * a), r.closePath(), r.fillStyle = s, r.fill();\n  }\n  var le = /*#__PURE__*/function (_P7) {\n    function le() {\n      var _this75;\n      _classCallCheck(this, le);\n      _this75 = _callSuper(this, le, arguments), _this75.rt = null;\n      return _this75;\n    }\n    _inherits(le, _P7);\n    return _createClass(le, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.rt = t;\n      }\n    }, {\n      key: \"et\",\n      value: function et(t) {\n        var _this$rt$eM;\n        if (null === this.rt) return;\n        var _this$rt2 = this.rt,\n          i = _this$rt2.ot,\n          s = _this$rt2.lt,\n          e = _this$rt2.Kg,\n          r = _this$rt2.ct,\n          h = _this$rt2.Xt,\n          a = _this$rt2.Xg,\n          l = (_this$rt$eM = this.rt.eM) !== null && _this$rt$eM !== void 0 ? _this$rt$eM : this.rt.rM ? 0 : t.mediaSize.height;\n        if (null === s) return;\n        var o = t.context;\n        o.lineCap = \"butt\", o.lineJoin = \"round\", o.lineWidth = r, n(o, h), o.lineWidth = 1, $n(t, i, a, s, e, this.hM.bind(this), ae.bind(null, l));\n      }\n    }]);\n  }(P);\n  var oe = /*#__PURE__*/function () {\n    function oe() {\n      _classCallCheck(this, oe);\n    }\n    return _createClass(oe, [{\n      key: \"aM\",\n      value: function aM(t, i) {\n        var s = this.lM,\n          n = i.oM,\n          e = i._M,\n          r = i.uM,\n          h = i.cM,\n          a = i.eM,\n          l = i.dM,\n          o = i.fM;\n        if (void 0 === this.pM || void 0 === s || s.oM !== n || s._M !== e || s.uM !== r || s.cM !== h || s.eM !== a || s.dM !== l || s.fM !== o) {\n          var _s60 = t.verticalPixelRatio,\n            _7 = a || l > 0 ? _s60 : 1,\n            _u6 = l * _7,\n            _c3 = o === t.bitmapSize.height ? o : o * _7,\n            _d2 = (a !== null && a !== void 0 ? a : 0) * _7,\n            _f2 = t.context.createLinearGradient(0, _u6, 0, _c3);\n          if (_f2.addColorStop(0, n), null != a) {\n            var _t69 = Yt((_d2 - _u6) / (_c3 - _u6), 0, 1);\n            _f2.addColorStop(_t69, e), _f2.addColorStop(_t69, r);\n          }\n          _f2.addColorStop(1, h), this.pM = _f2, this.lM = i;\n        }\n        return this.pM;\n      }\n    }]);\n  }();\n  var _e = /*#__PURE__*/function (_le) {\n    function _e() {\n      var _this76;\n      _classCallCheck(this, _e);\n      _this76 = _callSuper(this, _e, arguments), _this76.vM = new oe();\n      return _this76;\n    }\n    _inherits(_e, _le);\n    return _createClass(_e, [{\n      key: \"hM\",\n      value: function hM(t, i) {\n        var _s$dM, _s$fM;\n        var s = this.rt;\n        return this.vM.aM(t, {\n          oM: i.br,\n          _M: i.Sr,\n          uM: i.Cr,\n          cM: i.Pr,\n          eM: s.eM,\n          dM: (_s$dM = s.dM) !== null && _s$dM !== void 0 ? _s$dM : 0,\n          fM: (_s$fM = s.fM) !== null && _s$fM !== void 0 ? _s$fM : t.bitmapSize.height\n        });\n      }\n    }]);\n  }(le);\n  var ue = /*#__PURE__*/function (_Zn2) {\n    function ue() {\n      var _this77;\n      _classCallCheck(this, ue);\n      _this77 = _callSuper(this, ue, arguments), _this77.mM = new oe();\n      return _this77;\n    }\n    _inherits(ue, _Zn2);\n    return _createClass(ue, [{\n      key: \"Gg\",\n      value: function Gg(t, i) {\n        var _s$dM2, _s$fM2;\n        var s = this.rt;\n        return this.mM.aM(t, {\n          oM: i.gr,\n          _M: i.gr,\n          uM: i.Mr,\n          cM: i.Mr,\n          eM: s.eM,\n          dM: (_s$dM2 = s.dM) !== null && _s$dM2 !== void 0 ? _s$dM2 : 0,\n          fM: (_s$fM2 = s.fM) !== null && _s$fM2 !== void 0 ? _s$fM2 : t.bitmapSize.height\n        });\n      }\n    }]);\n  }(Zn);\n  var ce = /*#__PURE__*/function (_Un2) {\n    function ce(t, i) {\n      var _this78;\n      _classCallCheck(this, ce);\n      _this78 = _callSuper(this, ce, [t, i]), _this78.hg = new C(), _this78.wM = new _e(), _this78.gM = new ue(), _this78.hg.st([_this78.wM, _this78.gM]);\n      return _this78;\n    }\n    _inherits(ce, _Un2);\n    return _createClass(ce, [{\n      key: \"Yg\",\n      value: function Yg(t, i, s) {\n        return _objectSpread(_objectSpread({}, this.qg(t, i)), s.Dr(t));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        var t = this.Jn.zt();\n        if (null === t) return;\n        var i = this.Jn.N(),\n          s = this.Jn.Wt().Nt(i.baseValue.price, t.Ft),\n          n = this.Qn.It().vu();\n        if (null === this.ng || 0 === this.sg.length) return;\n        var e, r;\n        if (i.relativeGradient) {\n          e = this.sg[this.ng.from].ut, r = this.sg[this.ng.from].ut;\n          for (var _t70 = this.ng.from; _t70 < this.ng.to; _t70++) {\n            var _i75 = this.sg[_t70];\n            _i75.ut < e && (e = _i75.ut), _i75.ut > r && (r = _i75.ut);\n          }\n        }\n        this.wM.ht({\n          ot: this.sg,\n          ct: i.lineWidth,\n          Xt: i.lineStyle,\n          Xg: i.lineType,\n          eM: s,\n          dM: e,\n          fM: r,\n          rM: !1,\n          lt: this.ng,\n          Kg: n\n        }), this.gM.ht({\n          ot: this.sg,\n          ct: i.lineWidth,\n          Xt: i.lineStyle,\n          Xg: i.lineVisible ? i.lineType : void 0,\n          Zg: i.pointMarkersVisible ? i.pointMarkersRadius || i.lineWidth / 2 + 2 : void 0,\n          eM: s,\n          dM: e,\n          fM: r,\n          lt: this.ng,\n          Kg: n\n        });\n      }\n    }]);\n  }(Un);\n  var de = {\n    type: \"Baseline\",\n    isBuiltIn: !0,\n    defaultOptions: {\n      baseValue: {\n        type: \"price\",\n        price: 0\n      },\n      relativeGradient: !1,\n      topFillColor1: \"rgba(38, 166, 154, 0.28)\",\n      topFillColor2: \"rgba(38, 166, 154, 0.05)\",\n      topLineColor: \"rgba(38, 166, 154, 1)\",\n      bottomFillColor1: \"rgba(239, 83, 80, 0.05)\",\n      bottomFillColor2: \"rgba(239, 83, 80, 0.28)\",\n      bottomLineColor: \"rgba(239, 83, 80, 1)\",\n      lineWidth: 3,\n      lineStyle: 0,\n      lineType: 0,\n      lineVisible: !0,\n      crosshairMarkerVisible: !0,\n      crosshairMarkerRadius: 4,\n      crosshairMarkerBorderColor: \"\",\n      crosshairMarkerBorderWidth: 2,\n      crosshairMarkerBackgroundColor: \"\",\n      lastPriceAnimation: 0,\n      pointMarkersVisible: !1\n    },\n    Wg: function Wg(t, i) {\n      return new ce(t, i);\n    }\n  };\n  var fe = /*#__PURE__*/function (_le2) {\n    function fe() {\n      var _this79;\n      _classCallCheck(this, fe);\n      _this79 = _callSuper(this, fe, arguments), _this79.vM = new oe();\n      return _this79;\n    }\n    _inherits(fe, _le2);\n    return _createClass(fe, [{\n      key: \"hM\",\n      value: function hM(t, i) {\n        var _this$rt$dM, _this$rt3;\n        return this.vM.aM(t, {\n          oM: i.mr,\n          _M: \"\",\n          uM: \"\",\n          cM: i.wr,\n          dM: (_this$rt$dM = (_this$rt3 = this.rt) === null || _this$rt3 === void 0 ? void 0 : _this$rt3.dM) !== null && _this$rt$dM !== void 0 ? _this$rt$dM : 0,\n          fM: t.bitmapSize.height\n        });\n      }\n    }]);\n  }(le);\n  var pe = /*#__PURE__*/function (_Un3) {\n    function pe(t, i) {\n      var _this80;\n      _classCallCheck(this, pe);\n      _this80 = _callSuper(this, pe, [t, i]), _this80.hg = new C(), _this80.MM = new fe(), _this80.bM = new Gn(), _this80.hg.st([_this80.MM, _this80.bM]);\n      return _this80;\n    }\n    _inherits(pe, _Un3);\n    return _createClass(pe, [{\n      key: \"Yg\",\n      value: function Yg(t, i, s) {\n        return _objectSpread(_objectSpread({}, this.qg(t, i)), s.Dr(t));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        var t = this.Jn.N();\n        if (null === this.ng || 0 === this.sg.length) return;\n        var i;\n        if (t.relativeGradient) {\n          i = this.sg[this.ng.from].ut;\n          for (var _t71 = this.ng.from; _t71 < this.ng.to; _t71++) {\n            var _s61 = this.sg[_t71];\n            _s61.ut < i && (i = _s61.ut);\n          }\n        }\n        this.MM.ht({\n          Xg: t.lineType,\n          ot: this.sg,\n          Xt: t.lineStyle,\n          ct: t.lineWidth,\n          eM: null,\n          dM: i,\n          rM: t.invertFilledArea,\n          lt: this.ng,\n          Kg: this.Qn.It().vu()\n        }), this.bM.ht({\n          Xg: t.lineVisible ? t.lineType : void 0,\n          ot: this.sg,\n          Xt: t.lineStyle,\n          ct: t.lineWidth,\n          lt: this.ng,\n          Kg: this.Qn.It().vu(),\n          Zg: t.pointMarkersVisible ? t.pointMarkersRadius || t.lineWidth / 2 + 2 : void 0\n        });\n      }\n    }]);\n  }(Un);\n  var ve = {\n    type: \"Area\",\n    isBuiltIn: !0,\n    defaultOptions: {\n      topColor: \"rgba( 46, 220, 135, 0.4)\",\n      bottomColor: \"rgba( 40, 221, 100, 0)\",\n      invertFilledArea: !1,\n      relativeGradient: !1,\n      lineColor: \"#33D778\",\n      lineStyle: 0,\n      lineWidth: 3,\n      lineType: 0,\n      lineVisible: !0,\n      crosshairMarkerVisible: !0,\n      crosshairMarkerRadius: 4,\n      crosshairMarkerBorderColor: \"\",\n      crosshairMarkerBorderWidth: 2,\n      crosshairMarkerBackgroundColor: \"\",\n      lastPriceAnimation: 0,\n      pointMarkersVisible: !1\n    },\n    Wg: function Wg(t, i) {\n      return new pe(t, i);\n    }\n  };\n  var me = /*#__PURE__*/function (_P8) {\n    function me() {\n      var _this81;\n      _classCallCheck(this, me);\n      _this81 = _callSuper(this, me, arguments), _this81.qt = null, _this81.xM = 0, _this81.SM = 0;\n      return _this81;\n    }\n    _inherits(me, _P8);\n    return _createClass(me, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref24) {\n        var t = _ref24.context,\n          i = _ref24.horizontalPixelRatio,\n          s = _ref24.verticalPixelRatio;\n        if (null === this.qt || 0 === this.qt.Xs.length || null === this.qt.lt) return;\n        if (this.xM = this.CM(i), this.xM >= 2) {\n          Math.max(1, Math.floor(i)) % 2 != this.xM % 2 && this.xM--;\n        }\n        this.SM = this.qt.PM ? Math.min(this.xM, Math.floor(i)) : this.xM;\n        var n = null;\n        var e = this.SM <= this.xM && this.qt.vu >= Math.floor(1.5 * i);\n        for (var _r15 = this.qt.lt.from; _r15 < this.qt.lt.to; ++_r15) {\n          var _h1 = this.qt.Xs[_r15];\n          n !== _h1.cr && (t.fillStyle = _h1.cr, n = _h1.cr);\n          var _a11 = Math.floor(.5 * this.SM),\n            _l1 = Math.round(_h1._t * i),\n            _o7 = _l1 - _a11,\n            _8 = this.SM,\n            _u7 = _o7 + _8 - 1,\n            _c4 = Math.min(_h1.Kl, _h1.Xl),\n            _d3 = Math.max(_h1.Kl, _h1.Xl),\n            _f3 = Math.round(_c4 * s) - _a11,\n            _p = Math.round(_d3 * s) + _a11,\n            _v2 = Math.max(_p - _f3, this.SM);\n          t.fillRect(_o7, _f3, _8, _v2);\n          var _m = Math.ceil(1.5 * this.xM);\n          if (e) {\n            if (this.qt.yM) {\n              var _i76 = _l1 - _m;\n              var _n36 = Math.max(_f3, Math.round(_h1.Yl * s) - _a11),\n                _e24 = _n36 + _8 - 1;\n              _e24 > _f3 + _v2 - 1 && (_e24 = _f3 + _v2 - 1, _n36 = _e24 - _8 + 1), t.fillRect(_i76, _n36, _o7 - _i76, _e24 - _n36 + 1);\n            }\n            var _i77 = _l1 + _m;\n            var _n37 = Math.max(_f3, Math.round(_h1.Zl * s) - _a11),\n              _e25 = _n37 + _8 - 1;\n            _e25 > _f3 + _v2 - 1 && (_e25 = _f3 + _v2 - 1, _n37 = _e25 - _8 + 1), t.fillRect(_u7 + 1, _n37, _i77 - _u7, _e25 - _n37 + 1);\n          }\n        }\n      }\n    }, {\n      key: \"CM\",\n      value: function CM(t) {\n        var i = Math.floor(t);\n        return Math.max(i, Math.floor(function (t, i) {\n          return Math.floor(.3 * t * i);\n        }(a(this.qt).vu, t)));\n      }\n    }]);\n  }(P);\n  var we = /*#__PURE__*/function (_un3) {\n    function we(t, i) {\n      _classCallCheck(this, we);\n      return _callSuper(this, we, [t, i, !1]);\n    }\n    _inherits(we, _un3);\n    return _createClass(we, [{\n      key: \"ug\",\n      value: function ug(t, i, s) {\n        i._u(this.sg, m(this.ng)), t.ql(this.sg, s, m(this.ng));\n      }\n    }, {\n      key: \"kM\",\n      value: function kM(t, i, s) {\n        return {\n          wt: t,\n          jh: i.Ft[0],\n          qh: i.Ft[1],\n          Yh: i.Ft[2],\n          Kh: i.Ft[3],\n          _t: NaN,\n          Yl: NaN,\n          Kl: NaN,\n          Xl: NaN,\n          Zl: NaN\n        };\n      }\n    }, {\n      key: \"og\",\n      value: function og() {\n        var _this82 = this;\n        var t = this.Jn.Rh();\n        this.sg = this.Jn.Xs().Hr().map(function (i) {\n          return _this82.Yg(i.Re, i, t);\n        });\n      }\n    }]);\n  }(un);\n  var ge = /*#__PURE__*/function (_we) {\n    function ge() {\n      var _this83;\n      _classCallCheck(this, ge);\n      _this83 = _callSuper(this, ge, arguments), _this83.hg = new me();\n      return _this83;\n    }\n    _inherits(ge, _we);\n    return _createClass(ge, [{\n      key: \"Yg\",\n      value: function Yg(t, i, s) {\n        return _objectSpread(_objectSpread({}, this.kM(t, i, s)), s.Dr(t));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        var t = this.Jn.N();\n        this.hg.ht({\n          Xs: this.sg,\n          vu: this.Qn.It().vu(),\n          yM: t.openVisible,\n          PM: t.thinBars,\n          lt: this.ng\n        });\n      }\n    }]);\n  }(we);\n  var Me = {\n    type: \"Bar\",\n    isBuiltIn: !0,\n    defaultOptions: {\n      upColor: \"#26a69a\",\n      downColor: \"#ef5350\",\n      openVisible: !0,\n      thinBars: !0\n    },\n    Wg: function Wg(t, i) {\n      return new ge(t, i);\n    }\n  };\n  var be = /*#__PURE__*/function (_P9) {\n    function be() {\n      var _this84;\n      _classCallCheck(this, be);\n      _this84 = _callSuper(this, be, arguments), _this84.qt = null, _this84.xM = 0;\n      return _this84;\n    }\n    _inherits(be, _P9);\n    return _createClass(be, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"et\",\n      value: function et(t) {\n        if (null === this.qt || 0 === this.qt.Xs.length || null === this.qt.lt) return;\n        var i = t.horizontalPixelRatio;\n        if (this.xM = function (t, i) {\n          if (t >= 2.5 && t <= 4) return Math.floor(3 * i);\n          var s = 1 - .2 * Math.atan(Math.max(4, t) - 4) / (.5 * Math.PI),\n            n = Math.floor(t * s * i),\n            e = Math.floor(t * i),\n            r = Math.min(n, e);\n          return Math.max(Math.floor(i), r);\n        }(this.qt.vu, i), this.xM >= 2) {\n          Math.floor(i) % 2 != this.xM % 2 && this.xM--;\n        }\n        var s = this.qt.Xs;\n        this.qt.TM && this.RM(t, s, this.qt.lt), this.qt.Mi && this._v(t, s, this.qt.lt);\n        var n = this.DM(i);\n        (!this.qt.Mi || this.xM > 2 * n) && this.EM(t, s, this.qt.lt);\n      }\n    }, {\n      key: \"RM\",\n      value: function RM(t, i, s) {\n        if (null === this.qt) return;\n        var n = t.context,\n          e = t.horizontalPixelRatio,\n          r = t.verticalPixelRatio;\n        var h = \"\",\n          a = Math.min(Math.floor(e), Math.floor(this.qt.vu * e));\n        a = Math.max(Math.floor(e), Math.min(a, this.xM));\n        var l = Math.floor(.5 * a);\n        var o = null;\n        for (var _t72 = s.from; _t72 < s.to; _t72++) {\n          var _s62 = i[_t72];\n          _s62.pr !== h && (n.fillStyle = _s62.pr, h = _s62.pr);\n          var _9 = Math.round(Math.min(_s62.Yl, _s62.Zl) * r),\n            _u8 = Math.round(Math.max(_s62.Yl, _s62.Zl) * r),\n            _c5 = Math.round(_s62.Kl * r),\n            _d4 = Math.round(_s62.Xl * r);\n          var _f4 = Math.round(e * _s62._t) - l;\n          var _p2 = _f4 + a - 1;\n          null !== o && (_f4 = Math.max(o + 1, _f4), _f4 = Math.min(_f4, _p2));\n          var _v3 = _p2 - _f4 + 1;\n          n.fillRect(_f4, _c5, _v3, _9 - _c5), n.fillRect(_f4, _u8 + 1, _v3, _d4 - _u8), o = _p2;\n        }\n      }\n    }, {\n      key: \"DM\",\n      value: function DM(t) {\n        var i = Math.floor(1 * t);\n        this.xM <= 2 * i && (i = Math.floor(.5 * (this.xM - 1)));\n        var s = Math.max(Math.floor(t), i);\n        return this.xM <= 2 * s ? Math.max(Math.floor(t), Math.floor(1 * t)) : s;\n      }\n    }, {\n      key: \"_v\",\n      value: function _v(t, i, s) {\n        if (null === this.qt) return;\n        var n = t.context,\n          e = t.horizontalPixelRatio,\n          r = t.verticalPixelRatio;\n        var h = \"\";\n        var a = this.DM(e);\n        var l = null;\n        for (var _t73 = s.from; _t73 < s.to; _t73++) {\n          var _s63 = i[_t73];\n          _s63.dr !== h && (n.fillStyle = _s63.dr, h = _s63.dr);\n          var _o8 = Math.round(_s63._t * e) - Math.floor(.5 * this.xM);\n          var _0 = _o8 + this.xM - 1,\n            _u9 = Math.round(Math.min(_s63.Yl, _s63.Zl) * r),\n            _c6 = Math.round(Math.max(_s63.Yl, _s63.Zl) * r);\n          if (null !== l && (_o8 = Math.max(l + 1, _o8), _o8 = Math.min(_o8, _0)), this.qt.vu * e > 2 * a) V(n, _o8, _u9, _0 - _o8 + 1, _c6 - _u9 + 1, a);else {\n            var _t74 = _0 - _o8 + 1;\n            n.fillRect(_o8, _u9, _t74, _c6 - _u9 + 1);\n          }\n          l = _0;\n        }\n      }\n    }, {\n      key: \"EM\",\n      value: function EM(t, i, s) {\n        if (null === this.qt) return;\n        var n = t.context,\n          e = t.horizontalPixelRatio,\n          r = t.verticalPixelRatio;\n        var h = \"\";\n        var a = this.DM(e);\n        for (var _t75 = s.from; _t75 < s.to; _t75++) {\n          var _s64 = i[_t75];\n          var _l10 = Math.round(Math.min(_s64.Yl, _s64.Zl) * r),\n            _o9 = Math.round(Math.max(_s64.Yl, _s64.Zl) * r),\n            _1 = Math.round(_s64._t * e) - Math.floor(.5 * this.xM),\n            _u0 = _1 + this.xM - 1;\n          if (_s64.cr !== h) {\n            var _t76 = _s64.cr;\n            n.fillStyle = _t76, h = _t76;\n          }\n          this.qt.Mi && (_1 += a, _l10 += a, _u0 -= a, _o9 -= a), _l10 > _o9 || n.fillRect(_1, _l10, _u0 - _1 + 1, _o9 - _l10 + 1);\n        }\n      }\n    }]);\n  }(P);\n  var xe = /*#__PURE__*/function (_we2) {\n    function xe() {\n      var _this85;\n      _classCallCheck(this, xe);\n      _this85 = _callSuper(this, xe, arguments), _this85.hg = new be();\n      return _this85;\n    }\n    _inherits(xe, _we2);\n    return _createClass(xe, [{\n      key: \"Yg\",\n      value: function Yg(t, i, s) {\n        return _objectSpread(_objectSpread({}, this.kM(t, i, s)), s.Dr(t));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        var t = this.Jn.N();\n        this.hg.ht({\n          Xs: this.sg,\n          vu: this.Qn.It().vu(),\n          TM: t.wickVisible,\n          Mi: t.borderVisible,\n          lt: this.ng\n        });\n      }\n    }]);\n  }(we);\n  var Se = {\n    type: \"Candlestick\",\n    isBuiltIn: !0,\n    defaultOptions: {\n      upColor: \"#26a69a\",\n      downColor: \"#ef5350\",\n      wickVisible: !0,\n      borderVisible: !0,\n      borderColor: \"#378658\",\n      borderUpColor: \"#26a69a\",\n      borderDownColor: \"#ef5350\",\n      wickColor: \"#737375\",\n      wickUpColor: \"#26a69a\",\n      wickDownColor: \"#ef5350\"\n    },\n    Wg: function Wg(t, i) {\n      return new xe(t, i);\n    }\n  };\n  var Ce = /*#__PURE__*/function (_P0) {\n    function Ce() {\n      var _this86;\n      _classCallCheck(this, Ce);\n      _this86 = _callSuper(this, Ce, arguments), _this86.qt = null, _this86.VM = [];\n      return _this86;\n    }\n    _inherits(Ce, _P0);\n    return _createClass(Ce, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t, this.VM = [];\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref25) {\n        var t = _ref25.context,\n          i = _ref25.horizontalPixelRatio,\n          s = _ref25.verticalPixelRatio;\n        if (null === this.qt || 0 === this.qt.ot.length || null === this.qt.lt) return;\n        this.VM.length || this.BM(i);\n        var n = Math.max(1, Math.floor(s)),\n          e = Math.round(this.qt.IM * s) - Math.floor(n / 2),\n          r = e + n;\n        for (var _i78 = this.qt.lt.from; _i78 < this.qt.lt.to; _i78++) {\n          var _h10 = this.qt.ot[_i78],\n            _a12 = this.VM[_i78 - this.qt.lt.from],\n            _l11 = Math.round(_h10.ut * s);\n          var _o0 = void 0,\n            _10 = void 0;\n          t.fillStyle = _h10.cr, _l11 <= e ? (_o0 = _l11, _10 = r) : (_o0 = e, _10 = _l11 - Math.floor(n / 2) + n), t.fillRect(_a12.Uh, _o0, _a12.bi - _a12.Uh + 1, _10 - _o0);\n        }\n      }\n    }, {\n      key: \"BM\",\n      value: function BM(t) {\n        if (null === this.qt || 0 === this.qt.ot.length || null === this.qt.lt) return void (this.VM = []);\n        var i = Math.ceil(this.qt.vu * t) <= 1 ? 0 : Math.max(1, Math.floor(t)),\n          s = Math.round(this.qt.vu * t) - i;\n        this.VM = new Array(this.qt.lt.to - this.qt.lt.from);\n        for (var _i79 = this.qt.lt.from; _i79 < this.qt.lt.to; _i79++) {\n          var _n38 = this.qt.ot[_i79],\n            _e26 = Math.round(_n38._t * t);\n          var _r16 = void 0,\n            _h11 = void 0;\n          if (s % 2) {\n            var _t77 = (s - 1) / 2;\n            _r16 = _e26 - _t77, _h11 = _e26 + _t77;\n          } else {\n            var _t78 = s / 2;\n            _r16 = _e26 - _t78, _h11 = _e26 + _t78 - 1;\n          }\n          this.VM[_i79 - this.qt.lt.from] = {\n            Uh: _r16,\n            bi: _h11,\n            AM: _e26,\n            ne: _n38._t * t,\n            wt: _n38.wt\n          };\n        }\n        for (var _t79 = this.qt.lt.from + 1; _t79 < this.qt.lt.to; _t79++) {\n          var _s65 = this.VM[_t79 - this.qt.lt.from],\n            _n39 = this.VM[_t79 - this.qt.lt.from - 1];\n          _s65.wt === _n39.wt + 1 && _s65.Uh - _n39.bi !== i + 1 && (_n39.AM > _n39.ne ? _n39.bi = _s65.Uh - i - 1 : _s65.Uh = _n39.bi + i + 1);\n        }\n        var n = Math.ceil(this.qt.vu * t);\n        for (var _t80 = this.qt.lt.from; _t80 < this.qt.lt.to; _t80++) {\n          var _i80 = this.VM[_t80 - this.qt.lt.from];\n          _i80.bi < _i80.Uh && (_i80.bi = _i80.Uh);\n          var _s66 = _i80.bi - _i80.Uh + 1;\n          n = Math.min(_s66, n);\n        }\n        if (i > 0 && n < 4) for (var _t81 = this.qt.lt.from; _t81 < this.qt.lt.to; _t81++) {\n          var _i81 = this.VM[_t81 - this.qt.lt.from];\n          _i81.bi - _i81.Uh + 1 > n && (_i81.AM > _i81.ne ? _i81.bi -= 1 : _i81.Uh += 1);\n        }\n      }\n    }]);\n  }(P);\n  var Pe = /*#__PURE__*/function (_Un4) {\n    function Pe() {\n      var _this87;\n      _classCallCheck(this, Pe);\n      _this87 = _callSuper(this, Pe, arguments), _this87.hg = new Ce();\n      return _this87;\n    }\n    _inherits(Pe, _Un4);\n    return _createClass(Pe, [{\n      key: \"Yg\",\n      value: function Yg(t, i, s) {\n        return _objectSpread(_objectSpread({}, this.qg(t, i)), s.Dr(t));\n      }\n    }, {\n      key: \"cg\",\n      value: function cg() {\n        var t = {\n          ot: this.sg,\n          vu: this.Qn.It().vu(),\n          lt: this.ng,\n          IM: this.Jn.Wt().Nt(this.Jn.N().base, a(this.Jn.zt()).Ft)\n        };\n        this.hg.ht(t);\n      }\n    }]);\n  }(Un);\n  var ye = {\n    type: \"Histogram\",\n    isBuiltIn: !0,\n    defaultOptions: {\n      color: \"#26a69a\",\n      base: 0\n    },\n    Wg: function Wg(t, i) {\n      return new Pe(t, i);\n    }\n  };\n  var ke = /*#__PURE__*/function () {\n    function ke(t, i) {\n      _classCallCheck(this, ke);\n      this.Pt = t, this.zM = i, this.OM();\n    }\n    return _createClass(ke, [{\n      key: \"detach\",\n      value: function detach() {\n        this.Pt.detachPrimitive(this.zM);\n      }\n    }, {\n      key: \"getPane\",\n      value: function getPane() {\n        return this.Pt;\n      }\n    }, {\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        var _this$zM$hr, _this$zM;\n        (_this$zM$hr = (_this$zM = this.zM).hr) === null || _this$zM$hr === void 0 ? void 0 : _this$zM$hr.call(_this$zM, t);\n      }\n    }, {\n      key: \"OM\",\n      value: function OM() {\n        this.Pt.attachPrimitive(this.zM);\n      }\n    }]);\n  }();\n  var Te = {\n      visible: !0,\n      horzAlign: \"center\",\n      vertAlign: \"center\",\n      lines: []\n    },\n    Re = {\n      color: \"rgba(0, 0, 0, 0.5)\",\n      fontSize: 48,\n      fontFamily: w,\n      fontStyle: \"\",\n      text: \"\"\n    };\n  var De = /*#__PURE__*/function () {\n    function De(t) {\n      _classCallCheck(this, De);\n      this.LM = new Map(), this.qt = t;\n    }\n    return _createClass(De, [{\n      key: \"draw\",\n      value: function draw(t) {\n        var _this88 = this;\n        t.useMediaCoordinateSpace(function (t) {\n          if (!_this88.qt.visible) return;\n          var i = t.context,\n            s = t.mediaSize;\n          var n = 0;\n          var _iterator41 = _createForOfIteratorHelper(_this88.qt.lines),\n            _step41;\n          try {\n            for (_iterator41.s(); !(_step41 = _iterator41.n()).done;) {\n              var _t82 = _step41.value;\n              if (0 === _t82.text.length) continue;\n              i.font = _t82.k;\n              var _e27 = _this88.NM(i, _t82.text);\n              _e27 > s.width ? _t82.Su = s.width / _e27 : _t82.Su = 1, n += _t82.lineHeight * _t82.Su;\n            }\n          } catch (err) {\n            _iterator41.e(err);\n          } finally {\n            _iterator41.f();\n          }\n          var e = 0;\n          switch (_this88.qt.vertAlign) {\n            case \"top\":\n              e = 0;\n              break;\n            case \"center\":\n              e = Math.max((s.height - n) / 2, 0);\n              break;\n            case \"bottom\":\n              e = Math.max(s.height - n, 0);\n          }\n          var _iterator42 = _createForOfIteratorHelper(_this88.qt.lines),\n            _step42;\n          try {\n            for (_iterator42.s(); !(_step42 = _iterator42.n()).done;) {\n              var _t83 = _step42.value;\n              i.save(), i.fillStyle = _t83.color;\n              var _n40 = 0;\n              switch (_this88.qt.horzAlign) {\n                case \"left\":\n                  i.textAlign = \"left\", _n40 = _t83.lineHeight / 2;\n                  break;\n                case \"center\":\n                  i.textAlign = \"center\", _n40 = s.width / 2;\n                  break;\n                case \"right\":\n                  i.textAlign = \"right\", _n40 = s.width - 1 - _t83.lineHeight / 2;\n              }\n              i.translate(_n40, e), i.textBaseline = \"top\", i.font = _t83.k, i.scale(_t83.Su, _t83.Su), i.fillText(_t83.text, 0, _t83.WM), i.restore(), e += _t83.lineHeight * _t83.Su;\n            }\n          } catch (err) {\n            _iterator42.e(err);\n          } finally {\n            _iterator42.f();\n          }\n        });\n      }\n    }, {\n      key: \"NM\",\n      value: function NM(t, i) {\n        var s = this.FM(t.font);\n        var n = s.get(i);\n        return void 0 === n && (n = t.measureText(i).width, s.set(i, n)), n;\n      }\n    }, {\n      key: \"FM\",\n      value: function FM(t) {\n        var i = this.LM.get(t);\n        return void 0 === i && (i = new Map(), this.LM.set(t, i)), i;\n      }\n    }]);\n  }();\n  var Ee = /*#__PURE__*/function () {\n    function Ee(t) {\n      _classCallCheck(this, Ee);\n      this.Ps = Be(t);\n    }\n    return _createClass(Ee, [{\n      key: \"yt\",\n      value: function yt(t) {\n        this.Ps = Be(t);\n      }\n    }, {\n      key: \"renderer\",\n      value: function renderer() {\n        return new De(this.Ps);\n      }\n    }]);\n  }();\n  function Ve(t) {\n    return _objectSpread(_objectSpread({}, t), {}, {\n      k: g(t.fontSize, t.fontFamily, t.fontStyle),\n      lineHeight: t.lineHeight || 1.2 * t.fontSize,\n      WM: 0,\n      Su: 0\n    });\n  }\n  function Be(t) {\n    return _objectSpread(_objectSpread({}, t), {}, {\n      lines: t.lines.map(Ve)\n    });\n  }\n  function Ie(t) {\n    return _objectSpread(_objectSpread({}, Re), t);\n  }\n  function Ae(t) {\n    var _t$lines$map, _t$lines;\n    return _objectSpread(_objectSpread(_objectSpread({}, Te), t), {}, {\n      lines: (_t$lines$map = (_t$lines = t.lines) === null || _t$lines === void 0 ? void 0 : _t$lines.map(Ie)) !== null && _t$lines$map !== void 0 ? _t$lines$map : []\n    });\n  }\n  var ze = /*#__PURE__*/function () {\n    function ze(t) {\n      _classCallCheck(this, ze);\n      this.Ps = Ae(t), this.HM = [new Ee(this.Ps)];\n    }\n    return _createClass(ze, [{\n      key: \"updateAllViews\",\n      value: function updateAllViews() {\n        var _this89 = this;\n        this.HM.forEach(function (t) {\n          return t.yt(_this89.Ps);\n        });\n      }\n    }, {\n      key: \"paneViews\",\n      value: function paneViews() {\n        return this.HM;\n      }\n    }, {\n      key: \"attached\",\n      value: function attached(_ref26) {\n        var t = _ref26.requestUpdate;\n        this.UM = t;\n      }\n    }, {\n      key: \"detached\",\n      value: function detached() {\n        this.UM = void 0;\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        this.Ps = Ae(_objectSpread(_objectSpread({}, this.Ps), t)), this.UM && this.UM();\n      }\n    }]);\n  }();\n  var Oe = {\n    alpha: 1,\n    padding: 0\n  };\n  var Le = /*#__PURE__*/function () {\n    function Le(t) {\n      _classCallCheck(this, Le);\n      this.qt = t;\n    }\n    return _createClass(Le, [{\n      key: \"draw\",\n      value: function draw(t) {\n        var _this90 = this;\n        t.useMediaCoordinateSpace(function (t) {\n          var _this90$qt$alpha;\n          var i = t.context,\n            s = _this90.$M(_this90.qt, t.mediaSize);\n          s && _this90.qt.jM && (i.globalAlpha = (_this90$qt$alpha = _this90.qt.alpha) !== null && _this90$qt$alpha !== void 0 ? _this90$qt$alpha : 1, i.drawImage(_this90.qt.jM, s._t, s.ut, s.Qi, s.$t));\n        });\n      }\n    }, {\n      key: \"$M\",\n      value: function $M(t, i) {\n        var s = t.maxHeight,\n          n = t.maxWidth,\n          e = t.qM,\n          r = t.YM,\n          h = t.padding,\n          a = Math.round(i.width / 2),\n          l = Math.round(i.height / 2),\n          o = h !== null && h !== void 0 ? h : 0;\n        var _ = i.width - 2 * o,\n          u = i.height - 2 * o;\n        s && (u = Math.min(u, s)), n && (_ = Math.min(_, n));\n        var c = _ / r,\n          d = u / e,\n          f = Math.min(c, d),\n          p = r * f,\n          v = e * f;\n        return {\n          _t: a - .5 * p,\n          ut: l - .5 * v,\n          $t: v,\n          Qi: p\n        };\n      }\n    }]);\n  }();\n  var Ne = /*#__PURE__*/function () {\n    function Ne(t) {\n      _classCallCheck(this, Ne);\n      this.KM = null, this.XM = 0, this.ZM = 0, this.Ps = t, this.M = We(this.Ps, this.KM, this.XM, this.ZM);\n    }\n    return _createClass(Ne, [{\n      key: \"GM\",\n      value: function GM(t) {\n        void 0 !== t.JM && (this.XM = t.JM), void 0 !== t.QM && (this.ZM = t.QM), void 0 !== t.tb && (this.KM = t.tb), this.yt();\n      }\n    }, {\n      key: \"ib\",\n      value: function ib(t) {\n        this.Ps = t, this.yt();\n      }\n    }, {\n      key: \"zOrder\",\n      value: function zOrder() {\n        return \"bottom\";\n      }\n    }, {\n      key: \"yt\",\n      value: function yt() {\n        this.M = We(this.Ps, this.KM, this.XM, this.ZM);\n      }\n    }, {\n      key: \"renderer\",\n      value: function renderer() {\n        return new Le(this.M);\n      }\n    }]);\n  }();\n  function We(t, i, s, n) {\n    return _objectSpread(_objectSpread({}, t), {}, {\n      jM: i,\n      YM: s,\n      qM: n\n    });\n  }\n  function Fe(t) {\n    return _objectSpread(_objectSpread({}, Oe), t);\n  }\n  var He = /*#__PURE__*/function () {\n    function He(t, i) {\n      _classCallCheck(this, He);\n      this.sb = null, this.nb = t, this.Ps = Fe(i), this.HM = [new Ne(this.Ps)];\n    }\n    return _createClass(He, [{\n      key: \"updateAllViews\",\n      value: function updateAllViews() {\n        this.HM.forEach(function (t) {\n          return t.yt();\n        });\n      }\n    }, {\n      key: \"paneViews\",\n      value: function paneViews() {\n        return this.HM;\n      }\n    }, {\n      key: \"attached\",\n      value: function attached(t) {\n        var _this91 = this;\n        var i = t.requestUpdate;\n        this.eb = i, this.sb = new Image(), this.sb.onload = function () {\n          var _this91$sb$naturalHei, _this91$sb, _this91$sb$naturalWid, _this91$sb2;\n          var t = (_this91$sb$naturalHei = (_this91$sb = _this91.sb) === null || _this91$sb === void 0 ? void 0 : _this91$sb.naturalHeight) !== null && _this91$sb$naturalHei !== void 0 ? _this91$sb$naturalHei : 1,\n            i = (_this91$sb$naturalWid = (_this91$sb2 = _this91.sb) === null || _this91$sb2 === void 0 ? void 0 : _this91$sb2.naturalWidth) !== null && _this91$sb$naturalWid !== void 0 ? _this91$sb$naturalWid : 1;\n          _this91.HM.forEach(function (s) {\n            return s.GM({\n              QM: t,\n              JM: i,\n              tb: _this91.sb\n            });\n          }), _this91.eb && _this91.eb();\n        }, this.sb.src = this.nb;\n      }\n    }, {\n      key: \"detached\",\n      value: function detached() {\n        this.eb = void 0, this.sb = null;\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        this.Ps = Fe(_objectSpread(_objectSpread({}, this.Ps), t)), this.rb(), this.UM && this.UM();\n      }\n    }, {\n      key: \"UM\",\n      value: function UM() {\n        this.eb && this.eb();\n      }\n    }, {\n      key: \"rb\",\n      value: function rb() {\n        var _this92 = this;\n        this.HM.forEach(function (t) {\n          return t.ib(_this92.Ps);\n        });\n      }\n    }]);\n  }();\n  var Ue = /*#__PURE__*/function () {\n    function Ue(t, i) {\n      _classCallCheck(this, Ue);\n      this.Jn = t, this.ah = i, this.OM();\n    }\n    return _createClass(Ue, [{\n      key: \"detach\",\n      value: function detach() {\n        this.Jn.detachPrimitive(this.ah);\n      }\n    }, {\n      key: \"getSeries\",\n      value: function getSeries() {\n        return this.Jn;\n      }\n    }, {\n      key: \"applyOptions\",\n      value: function applyOptions(t) {\n        this.ah && this.ah.hr && this.ah.hr(t);\n      }\n    }, {\n      key: \"OM\",\n      value: function OM() {\n        this.Jn.attachPrimitive(this.ah);\n      }\n    }]);\n  }();\n  var $e = {\n    zOrder: \"normal\"\n  };\n  function je(t, i) {\n    return Xt(Math.min(Math.max(t, 12), 30) * i);\n  }\n  function qe(t, i) {\n    switch (t) {\n      case \"arrowDown\":\n      case \"arrowUp\":\n        return je(i, 1);\n      case \"circle\":\n        return je(i, .8);\n      case \"square\":\n        return je(i, .7);\n    }\n  }\n  function Ye(t) {\n    return function (t) {\n      var i = Math.ceil(t);\n      return i % 2 != 0 ? i - 1 : i;\n    }(je(t, 1));\n  }\n  function Ke(t) {\n    return Math.max(je(t, .1), 3);\n  }\n  function Xe(t, i, s) {\n    return i ? t : s ? Math.ceil(t / 2) : 0;\n  }\n  function Ze(t, i, s, n) {\n    var e = (qe(\"arrowUp\", n) - 1) / 2 * s.hb,\n      r = (Xt(n / 2) - 1) / 2 * s.hb;\n    i.beginPath(), t ? (i.moveTo(s._t - e, s.ut), i.lineTo(s._t, s.ut - e), i.lineTo(s._t + e, s.ut), i.lineTo(s._t + r, s.ut), i.lineTo(s._t + r, s.ut + e), i.lineTo(s._t - r, s.ut + e), i.lineTo(s._t - r, s.ut)) : (i.moveTo(s._t - e, s.ut), i.lineTo(s._t, s.ut + e), i.lineTo(s._t + e, s.ut), i.lineTo(s._t + r, s.ut), i.lineTo(s._t + r, s.ut - e), i.lineTo(s._t - r, s.ut - e), i.lineTo(s._t - r, s.ut)), i.fill();\n  }\n  function Ge(t, i, s, n, e, r) {\n    var h = (qe(\"arrowUp\", n) - 1) / 2,\n      a = (Xt(n / 2) - 1) / 2;\n    if (e >= i - a - 2 && e <= i + a + 2 && r >= (t ? s : s - h) - 2 && r <= (t ? s + h : s) + 2) return !0;\n    return function () {\n      if (e < i - h - 3 || e > i + h + 3 || r < (t ? s - h - 3 : s) || r > (t ? s : s + h + 3)) return !1;\n      var n = Math.abs(e - i);\n      return Math.abs(r - s) + 3 >= n / 2;\n    }();\n  }\n  var Je = /*#__PURE__*/function () {\n    function Je() {\n      _classCallCheck(this, Je);\n      this.qt = null, this.Ln = new it(), this.W = -1, this.F = \"\", this.Wp = \"\", this.ab = \"normal\";\n    }\n    return _createClass(Je, [{\n      key: \"ht\",\n      value: function ht(t) {\n        this.qt = t;\n      }\n    }, {\n      key: \"Nn\",\n      value: function Nn(t, i, s) {\n        this.W === t && this.F === i || (this.W = t, this.F = i, this.Wp = g(t, i), this.Ln.Vn()), this.ab = s;\n      }\n    }, {\n      key: \"Yn\",\n      value: function Yn(t, i) {\n        if (null === this.qt || null === this.qt.lt) return null;\n        for (var _s67 = this.qt.lt.from; _s67 < this.qt.lt.to; _s67++) {\n          var _n41$Kn;\n          var _n41 = this.qt.ot[_s67];\n          if (_n41 && tr(_n41, t, i)) return {\n            zOrder: \"normal\",\n            externalId: (_n41$Kn = _n41.Kn) !== null && _n41$Kn !== void 0 ? _n41$Kn : \"\"\n          };\n        }\n        return null;\n      }\n    }, {\n      key: \"draw\",\n      value: function draw(t) {\n        var _this93 = this;\n        \"aboveSeries\" !== this.ab && t.useBitmapCoordinateSpace(function (t) {\n          _this93.et(t);\n        });\n      }\n    }, {\n      key: \"drawBackground\",\n      value: function drawBackground(t) {\n        var _this94 = this;\n        \"aboveSeries\" === this.ab && t.useBitmapCoordinateSpace(function (t) {\n          _this94.et(t);\n        });\n      }\n    }, {\n      key: \"et\",\n      value: function et(_ref27) {\n        var t = _ref27.context,\n          i = _ref27.horizontalPixelRatio,\n          s = _ref27.verticalPixelRatio;\n        if (null !== this.qt && null !== this.qt.lt) {\n          t.textBaseline = \"middle\", t.font = this.Wp;\n          for (var _n42 = this.qt.lt.from; _n42 < this.qt.lt.to; _n42++) {\n            var _e28 = this.qt.ot[_n42];\n            void 0 !== _e28.ri && (_e28.ri.Qi = this.Ln.Ei(t, _e28.ri.lb), _e28.ri.$t = this.W, _e28.ri._t = _e28._t - _e28.ri.Qi / 2), Qe(_e28, t, i, s);\n          }\n        }\n      }\n    }]);\n  }();\n  function Qe(t, i, s, n) {\n    i.fillStyle = t.R, void 0 !== t.ri && function (t, i, s, n, e, r) {\n      t.save(), t.scale(e, r), t.fillText(i, s, n), t.restore();\n    }(i, t.ri.lb, t.ri._t, t.ri.ut, s, n), function (t, i, s) {\n      if (0 === t.zr) return;\n      switch (t.ob) {\n        case \"arrowDown\":\n          return void Ze(!1, i, s, t.zr);\n        case \"arrowUp\":\n          return void Ze(!0, i, s, t.zr);\n        case \"circle\":\n          return void function (t, i, s) {\n            var n = (qe(\"circle\", s) - 1) / 2;\n            t.beginPath(), t.arc(i._t, i.ut, n * i.hb, 0, 2 * Math.PI, !1), t.fill();\n          }(i, s, t.zr);\n        case \"square\":\n          return void function (t, i, s) {\n            var n = qe(\"square\", s),\n              e = (n - 1) * i.hb / 2,\n              r = i._t - e,\n              h = i.ut - e;\n            t.fillRect(r, h, n * i.hb, n * i.hb);\n          }(i, s, t.zr);\n      }\n      t.ob;\n    }(t, i, function (t, i, s) {\n      var n = Math.max(1, Math.floor(i)) % 2 / 2;\n      return {\n        _t: Math.round(t._t * i) + n,\n        ut: t.ut * s,\n        hb: i\n      };\n    }(t, s, n));\n  }\n  function tr(t, i, s) {\n    return !(void 0 === t.ri || !function (t, i, s, n, e, r) {\n      var h = n / 2;\n      return e >= t && e <= t + s && r >= i - h && r <= i + h;\n    }(t.ri._t, t.ri.ut, t.ri.Qi, t.ri.$t, i, s)) || function (t, i, s) {\n      if (0 === t.zr) return !1;\n      switch (t.ob) {\n        case \"arrowDown\":\n          return Ge(!0, t._t, t.ut, t.zr, i, s);\n        case \"arrowUp\":\n          return Ge(!1, t._t, t.ut, t.zr, i, s);\n        case \"circle\":\n          return function (t, i, s, n, e) {\n            var r = 2 + qe(\"circle\", s) / 2,\n              h = t - n,\n              a = i - e;\n            return Math.sqrt(h * h + a * a) <= r;\n          }(t._t, t.ut, t.zr, i, s);\n        case \"square\":\n          return function (t, i, s, n, e) {\n            var r = qe(\"square\", s),\n              h = (r - 1) / 2,\n              a = t - h,\n              l = i - h;\n            return n >= a && n <= a + r && e >= l && e <= l + r;\n          }(t._t, t.ut, t.zr, i, s);\n      }\n    }(t, i, s);\n  }\n  function ir(t) {\n    return \"atPriceTop\" === t || \"atPriceBottom\" === t || \"atPriceMiddle\" === t;\n  }\n  function sr(t, i, s, n, e, r, h, l) {\n    var o = function (t, i) {\n      if (ir(i.position) && void 0 !== i.price) return i.price;\n      if (\"value\" in (s = t) && \"number\" == typeof s.value) return t.value;\n      var s;\n      if (function (t) {\n        return \"open\" in t && \"high\" in t && \"low\" in t && \"close\" in t;\n      }(t)) {\n        if (\"inBar\" === i.position) return t.close;\n        if (\"aboveBar\" === i.position) return t.high;\n        if (\"belowBar\" === i.position) return t.low;\n      }\n    }(s, i);\n    if (void 0 === o) return;\n    var _ = ir(i.position),\n      c = l.timeScale(),\n      d = u(i.size) ? Math.max(i.size, 0) : 1,\n      f = Ye(c.options().barSpacing) * d,\n      p = f / 2;\n    t.zr = f;\n    switch (i.position) {\n      case \"inBar\":\n      case \"atPriceMiddle\":\n        return t.ut = a(h.priceToCoordinate(o)), void (void 0 !== t.ri && (t.ri.ut = t.ut + p + r + .6 * e));\n      case \"aboveBar\":\n      case \"atPriceTop\":\n        {\n          var _i82 = _ ? 0 : n._b;\n          return t.ut = a(h.priceToCoordinate(o)) - p - _i82, void 0 !== t.ri && (t.ri.ut = t.ut - p - .6 * e, n._b += 1.2 * e), void (_ || (n._b += f + r));\n        }\n      case \"belowBar\":\n      case \"atPriceBottom\":\n        {\n          var _i83 = _ ? 0 : n.ub;\n          return t.ut = a(h.priceToCoordinate(o)) + p + _i83, void 0 !== t.ri && (t.ri.ut = t.ut + p + r + .6 * e, n.ub += 1.2 * e), void (_ || (n.ub += f + r));\n        }\n    }\n  }\n  var nr = /*#__PURE__*/function () {\n    function nr(t, i, s) {\n      _classCallCheck(this, nr);\n      this.cb = [], this.St = !0, this.fb = !0, this.Gt = new Je(), this.ge = t, this.Dp = i, this.qt = {\n        ot: [],\n        lt: null\n      }, this.Ps = s;\n    }\n    return _createClass(nr, [{\n      key: \"renderer\",\n      value: function renderer() {\n        if (!this.ge.options().visible) return null;\n        this.St && this.pb();\n        var t = this.Dp.options().layout;\n        return this.Gt.Nn(t.fontSize, t.fontFamily, this.Ps.zOrder), this.Gt.ht(this.qt), this.Gt;\n      }\n    }, {\n      key: \"mb\",\n      value: function mb(t) {\n        this.cb = t, this.yt(\"data\");\n      }\n    }, {\n      key: \"yt\",\n      value: function yt(t) {\n        this.St = !0, \"data\" === t && (this.fb = !0);\n      }\n    }, {\n      key: \"wb\",\n      value: function wb(t) {\n        this.St = !0, this.Ps = t;\n      }\n    }, {\n      key: \"zOrder\",\n      value: function zOrder() {\n        return \"aboveSeries\" === this.Ps.zOrder ? \"top\" : this.Ps.zOrder;\n      }\n    }, {\n      key: \"pb\",\n      value: function pb() {\n        var t = this.Dp.timeScale(),\n          i = this.cb;\n        this.fb && (this.qt.ot = i.map(function (t) {\n          return {\n            wt: t.time,\n            _t: 0,\n            ut: 0,\n            zr: 0,\n            ob: t.shape,\n            R: t.color,\n            Kn: t.id,\n            gb: t.gb,\n            ri: void 0\n          };\n        }), this.fb = !1);\n        var s = this.Dp.options().layout;\n        this.qt.lt = null;\n        var n = t.getVisibleLogicalRange();\n        if (null === n) return;\n        var e = new Si(Math.floor(n.from), Math.ceil(n.to));\n        if (null === this.ge.data()[0]) return;\n        if (0 === this.qt.ot.length) return;\n        var r = NaN;\n        var h = Ke(t.options().barSpacing),\n          l = {\n            _b: h,\n            ub: h\n          };\n        this.qt.lt = _n(this.qt.ot, e, !0);\n        for (var _n43 = this.qt.lt.from; _n43 < this.qt.lt.to; _n43++) {\n          var _e29 = i[_n43];\n          _e29.time !== r && (l._b = h, l.ub = h, r = _e29.time);\n          var _o1 = this.qt.ot[_n43];\n          _o1._t = a(t.logicalToCoordinate(_e29.time)), void 0 !== _e29.text && _e29.text.length > 0 && (_o1.ri = {\n            lb: _e29.text,\n            _t: 0,\n            ut: 0,\n            Qi: 0,\n            $t: 0\n          });\n          var _11 = this.ge.dataByIndex(_e29.time, 0);\n          null !== _11 && sr(_o1, _e29, _11, l, s.fontSize, h, this.ge, this.Dp);\n        }\n        this.St = !1;\n      }\n    }]);\n  }();\n  function er(t) {\n    return _objectSpread(_objectSpread({}, $e), t);\n  }\n  var rr = /*#__PURE__*/function () {\n    function rr(t) {\n      _classCallCheck(this, rr);\n      this.sh = null, this.cb = [], this.Mb = [], this.bb = null, this.ge = null, this.Dp = null, this.xb = !0, this.Sb = null, this.Cb = null, this.Pb = null, this.yb = !0, this.Ps = er(t);\n    }\n    return _createClass(rr, [{\n      key: \"attached\",\n      value: function attached(t) {\n        var _this95 = this;\n        this.kb(), this.Dp = t.chart, this.ge = t.series, this.sh = new nr(this.ge, a(this.Dp), this.Ps), this.eb = t.requestUpdate, this.ge.subscribeDataChanged(function (t) {\n          return _this95.Pg(t);\n        }), this.yb = !0, this.UM();\n      }\n    }, {\n      key: \"UM\",\n      value: function UM() {\n        this.eb && this.eb();\n      }\n    }, {\n      key: \"detached\",\n      value: function detached() {\n        this.ge && this.bb && this.ge.unsubscribeDataChanged(this.bb), this.Dp = null, this.ge = null, this.sh = null, this.bb = null;\n      }\n    }, {\n      key: \"mb\",\n      value: function mb(t) {\n        this.yb = !0, this.cb = t, this.kb(), this.xb = !0, this.Cb = null, this.UM();\n      }\n    }, {\n      key: \"Tb\",\n      value: function Tb() {\n        return this.cb;\n      }\n    }, {\n      key: \"paneViews\",\n      value: function paneViews() {\n        return this.sh ? [this.sh] : [];\n      }\n    }, {\n      key: \"updateAllViews\",\n      value: function updateAllViews() {\n        this.Rb();\n      }\n    }, {\n      key: \"hitTest\",\n      value: function hitTest(t, i) {\n        var _this$sh$renderer$Yn, _this$sh$renderer;\n        return this.sh ? (_this$sh$renderer$Yn = (_this$sh$renderer = this.sh.renderer()) === null || _this$sh$renderer === void 0 ? void 0 : _this$sh$renderer.Yn(t, i)) !== null && _this$sh$renderer$Yn !== void 0 ? _this$sh$renderer$Yn : null : null;\n      }\n    }, {\n      key: \"autoscaleInfo\",\n      value: function autoscaleInfo(t, i) {\n        if (this.sh) {\n          var _t84 = this.Db();\n          if (_t84) return {\n            priceRange: null,\n            margins: _t84\n          };\n        }\n        return null;\n      }\n    }, {\n      key: \"hr\",\n      value: function hr(t) {\n        this.Ps = er(_objectSpread(_objectSpread({}, this.Ps), t)), this.UM && this.UM();\n      }\n    }, {\n      key: \"Db\",\n      value: function Db() {\n        var t = a(this.Dp).timeScale().options().barSpacing;\n        if (this.xb || t !== this.Pb) {\n          if (this.Pb = t, this.cb.length > 0) {\n            var _i84 = Ke(t),\n              _s68 = 1.5 * Ye(t) + 2 * _i84,\n              _n44 = this.Eb();\n            this.Sb = {\n              above: Xe(_s68, _n44.aboveBar, _n44.inBar),\n              below: Xe(_s68, _n44.belowBar, _n44.inBar)\n            };\n          } else this.Sb = null;\n          this.xb = !1;\n        }\n        return this.Sb;\n      }\n    }, {\n      key: \"Eb\",\n      value: function Eb() {\n        return null === this.Cb && (this.Cb = this.cb.reduce(function (t, i) {\n          return t[i.position] || (t[i.position] = !0), t;\n        }, {\n          inBar: !1,\n          aboveBar: !1,\n          belowBar: !1,\n          atPriceTop: !1,\n          atPriceBottom: !1,\n          atPriceMiddle: !1\n        })), this.Cb;\n      }\n    }, {\n      key: \"kb\",\n      value: function kb() {\n        var _this$ge,\n          _this96 = this;\n        if (!this.yb || !this.Dp || !this.ge) return;\n        var t = this.Dp.timeScale(),\n          i = (_this$ge = this.ge) === null || _this$ge === void 0 ? void 0 : _this$ge.data();\n        if (null == t.getVisibleLogicalRange() || !this.ge || 0 === i.length) return void (this.Mb = []);\n        var s = t.timeToIndex(a(i[0].time), !0);\n        this.Mb = this.cb.map(function (i, n) {\n          var e = t.timeToIndex(i.time, !0),\n            r = e < s ? 1 : -1,\n            h = a(_this96.ge).dataByIndex(e, r),\n            l = {\n              time: t.timeToIndex(a(h).time, !1),\n              position: i.position,\n              shape: i.shape,\n              color: i.color,\n              id: i.id,\n              gb: n,\n              text: i.text,\n              size: i.size,\n              price: i.price,\n              Pw: i.time\n            };\n          if (\"atPriceTop\" === i.position || \"atPriceBottom\" === i.position || \"atPriceMiddle\" === i.position) {\n            if (void 0 === i.price) throw new Error(\"Price is required for position \".concat(i.position));\n            return _objectSpread(_objectSpread({}, l), {}, {\n              position: i.position,\n              price: i.price\n            });\n          }\n          return _objectSpread(_objectSpread({}, l), {}, {\n            position: i.position,\n            price: i.price\n          });\n        }), this.yb = !1;\n      }\n    }, {\n      key: \"Rb\",\n      value: function Rb(t) {\n        this.sh && (this.kb(), this.sh.mb(this.Mb), this.sh.wb(this.Ps), this.sh.yt(t));\n      }\n    }, {\n      key: \"Pg\",\n      value: function Pg(t) {\n        this.yb = !0, this.UM();\n      }\n    }]);\n  }();\n  var hr = /*#__PURE__*/function (_Ue) {\n    function hr(t, i, s) {\n      var _this97;\n      _classCallCheck(this, hr);\n      _this97 = _callSuper(this, hr, [t, i]), s && _this97.setMarkers(s);\n      return _this97;\n    }\n    _inherits(hr, _Ue);\n    return _createClass(hr, [{\n      key: \"setMarkers\",\n      value: function setMarkers(t) {\n        this.ah.mb(t);\n      }\n    }, {\n      key: \"markers\",\n      value: function markers() {\n        return this.ah.Tb();\n      }\n    }]);\n  }(Ue);\n  var ar = /*#__PURE__*/function () {\n    function ar(t) {\n      _classCallCheck(this, ar);\n      this.cb = new Map(), this.Vb = t;\n    }\n    return _createClass(ar, [{\n      key: \"Bb\",\n      value: function Bb(t, i, s) {\n        var _this98 = this;\n        if (this.Ib(i), void 0 !== s) {\n          var _n45 = window.setTimeout(function () {\n              _this98.cb[\"delete\"](i), _this98.Ab();\n            }, s),\n            _e30 = _objectSpread(_objectSpread({}, t), {}, {\n              zb: _n45,\n              Ob: Date.now() + s\n            });\n          this.cb.set(i, _e30);\n        } else this.cb.set(i, _objectSpread(_objectSpread({}, t), {}, {\n          zb: void 0,\n          Ob: void 0\n        }));\n        this.Ab();\n      }\n    }, {\n      key: \"Ib\",\n      value: function Ib(t) {\n        var i = this.cb.get(t);\n        i && void 0 !== i.zb && window.clearTimeout(i.zb), this.cb[\"delete\"](t), this.Ab();\n      }\n    }, {\n      key: \"Lb\",\n      value: function Lb() {\n        var _iterator43 = _createForOfIteratorHelper(this.cb),\n          _step43;\n        try {\n          for (_iterator43.s(); !(_step43 = _iterator43.n()).done;) {\n            var _step43$value = _slicedToArray(_step43.value, 1),\n              _t85 = _step43$value[0];\n            this.Ib(_t85);\n          }\n        } catch (err) {\n          _iterator43.e(err);\n        } finally {\n          _iterator43.f();\n        }\n      }\n    }, {\n      key: \"Nb\",\n      value: function Nb() {\n        var t = Date.now(),\n          i = [];\n        var _iterator44 = _createForOfIteratorHelper(this.cb),\n          _step44;\n        try {\n          for (_iterator44.s(); !(_step44 = _iterator44.n()).done;) {\n            var _step44$value = _slicedToArray(_step44.value, 2),\n              _s69 = _step44$value[0],\n              _n46 = _step44$value[1];\n            !_n46.Ob || _n46.Ob > t ? i.push({\n              time: _n46.time,\n              sign: _n46.sign,\n              value: _n46.value\n            }) : this.Ib(_s69);\n          }\n        } catch (err) {\n          _iterator44.e(err);\n        } finally {\n          _iterator44.f();\n        }\n        return i;\n      }\n    }, {\n      key: \"Wb\",\n      value: function Wb(t) {\n        this.Vb = t;\n      }\n    }, {\n      key: \"Ab\",\n      value: function Ab() {\n        this.Vb && this.Vb();\n      }\n    }]);\n  }();\n  var lr = {\n    positiveColor: \"#22AB94\",\n    negativeColor: \"#F7525F\",\n    updateVisibilityDuration: 5e3\n  };\n  var or = /*#__PURE__*/function () {\n    function or(t, i, s, n) {\n      _classCallCheck(this, or);\n      this.qt = t, this.Fb = i, this.Hb = s, this.Ub = n;\n    }\n    return _createClass(or, [{\n      key: \"draw\",\n      value: function draw(t) {\n        var _this99 = this;\n        t.useBitmapCoordinateSpace(function (t) {\n          var i = t.context,\n            s = Math.max(1, Math.floor(t.horizontalPixelRatio)) % 2 / 2,\n            n = 4 * t.verticalPixelRatio + s;\n          _this99.qt.forEach(function (e) {\n            var r = Math.round(e._t * t.horizontalPixelRatio) + s;\n            i.beginPath();\n            var h = _this99.$b(e.jb);\n            i.fillStyle = h, i.arc(r, e.ut * t.verticalPixelRatio, n, 0, 2 * Math.PI, !1), i.fill(), e.jb && (i.strokeStyle = h, i.lineWidth = Math.floor(2 * t.horizontalPixelRatio), i.beginPath(), i.moveTo((e._t - 4.7) * t.horizontalPixelRatio + s, (e.ut - 7 * e.jb) * t.verticalPixelRatio), i.lineTo(e._t * t.horizontalPixelRatio + s, (e.ut - 7 * e.jb - 7 * e.jb * .5) * t.verticalPixelRatio), i.lineTo((e._t + 4.7) * t.horizontalPixelRatio + s, (e.ut - 7 * e.jb) * t.verticalPixelRatio), i.stroke());\n          });\n        });\n      }\n    }, {\n      key: \"$b\",\n      value: function $b(t) {\n        return 0 === t ? this.Fb : t > 0 ? this.Ub : this.Hb;\n      }\n    }]);\n  }();\n  var _r = /*#__PURE__*/function () {\n    function _r(t, i, s) {\n      _classCallCheck(this, _r);\n      this.qt = [], this.ge = t, this.uh = i, this.Ps = s;\n    }\n    return _createClass(_r, [{\n      key: \"yt\",\n      value: function yt(t) {\n        var _this100 = this;\n        this.qt = t.map(function (t) {\n          var i = _this100.ge.priceToCoordinate(t.value);\n          if (null === i) return null;\n          return {\n            _t: a(_this100.uh.timeToCoordinate(t.time)),\n            ut: i,\n            jb: t.sign\n          };\n        }).filter(v);\n      }\n    }, {\n      key: \"renderer\",\n      value: function renderer() {\n        var t = function (t, i) {\n          return function (t, i) {\n            return \"Area\" === i;\n          }(0, i) ? t.lineColor : t.color;\n        }(this.ge.options(), this.ge.seriesType());\n        return new or(this.qt, t, this.Ps.negativeColor, this.Ps.positiveColor);\n      }\n    }]);\n  }();\n  function ur(t, i) {\n    return \"Line\" === i || \"Area\" === i;\n  }\n  var cr = /*#__PURE__*/function () {\n    function cr(t) {\n      var _this101 = this;\n      _classCallCheck(this, cr);\n      this.Dp = void 0, this.ge = void 0, this.HM = [], this.o_ = null, this.qb = new Map(), this.Yb = new ar(function () {\n        return _this101.UM();\n      }), this.Ps = _objectSpread(_objectSpread({}, lr), t);\n    }\n    return _createClass(cr, [{\n      key: \"hr\",\n      value: function hr(t) {\n        this.Ps = _objectSpread(_objectSpread({}, this.Ps), t), this.UM();\n      }\n    }, {\n      key: \"mb\",\n      value: function mb(t) {\n        var _this102 = this;\n        this.Yb.Lb();\n        var i = this.o_;\n        i && t.forEach(function (t) {\n          _this102.Yb.Bb(t, i.key(t.time));\n        });\n      }\n    }, {\n      key: \"Tb\",\n      value: function Tb() {\n        return this.Yb.Nb();\n      }\n    }, {\n      key: \"UM\",\n      value: function UM() {\n        var _this$eb;\n        (_this$eb = this.eb) === null || _this$eb === void 0 ? void 0 : _this$eb.call(this);\n      }\n    }, {\n      key: \"attached\",\n      value: function attached(t) {\n        var i = t.chart,\n          s = t.series,\n          n = t.requestUpdate,\n          e = t.horzScaleBehavior;\n        this.Dp = i, this.ge = s, this.o_ = e;\n        var r = this.ge.seriesType();\n        if (\"Area\" !== r && \"Line\" !== r) throw new Error(\"UpDownMarkersPrimitive is only supported for Area and Line series types\");\n        this.HM = [new _r(this.ge, this.Dp.timeScale(), this.Ps)], this.eb = n, this.UM();\n      }\n    }, {\n      key: \"detached\",\n      value: function detached() {\n        this.Dp = void 0, this.ge = void 0, this.eb = void 0;\n      }\n    }, {\n      key: \"$p\",\n      value: function $p() {\n        return h(this.Dp);\n      }\n    }, {\n      key: \"Lo\",\n      value: function Lo() {\n        return h(this.ge);\n      }\n    }, {\n      key: \"updateAllViews\",\n      value: function updateAllViews() {\n        var _this103 = this;\n        this.HM.forEach(function (t) {\n          return t.yt(_this103.Tb());\n        });\n      }\n    }, {\n      key: \"paneViews\",\n      value: function paneViews() {\n        return this.HM;\n      }\n    }, {\n      key: \"ht\",\n      value: function ht(t) {\n        var _this104 = this;\n        if (!this.ge) throw new Error(\"Primitive not attached to series\");\n        var i = this.ge.seriesType();\n        this.qb.clear();\n        var s = this.o_;\n        s && t.forEach(function (t) {\n          js(t) && ur(0, i) && _this104.qb.set(s.key(t.time), t.value);\n        }), h(this.ge).setData(t);\n      }\n    }, {\n      key: \"yt\",\n      value: function yt(t, i) {\n        if (!this.ge || !this.o_) throw new Error(\"Primitive not attached to series\");\n        var s = this.ge.seriesType(),\n          n = this.o_.key(t.time);\n        if ($s(t) && this.qb[\"delete\"](n), js(t) && ur(0, s)) {\n          var _i85 = this.qb.get(n);\n          _i85 && this.Yb.Bb({\n            time: t.time,\n            value: t.value,\n            sign: dr(t.value, _i85)\n          }, n, this.Ps.updateVisibilityDuration);\n        }\n        h(this.ge).update(t, i);\n      }\n    }, {\n      key: \"Kb\",\n      value: function Kb() {\n        this.Yb.Lb();\n      }\n    }]);\n  }();\n  function dr(t, i) {\n    return t === i ? 0 : t - i > 0 ? 1 : -1;\n  }\n  var fr = /*#__PURE__*/function (_Ue2) {\n    function fr() {\n      _classCallCheck(this, fr);\n      return _callSuper(this, fr, arguments);\n    }\n    _inherits(fr, _Ue2);\n    return _createClass(fr, [{\n      key: \"setData\",\n      value: function setData(t) {\n        return this.ah.ht(t);\n      }\n    }, {\n      key: \"update\",\n      value: function update(t, i) {\n        return this.ah.yt(t, i);\n      }\n    }, {\n      key: \"markers\",\n      value: function markers() {\n        return this.ah.Tb();\n      }\n    }, {\n      key: \"setMarkers\",\n      value: function setMarkers(t) {\n        return this.ah.mb(t);\n      }\n    }, {\n      key: \"clearMarkers\",\n      value: function clearMarkers() {\n        return this.ah.Kb();\n      }\n    }]);\n  }(Ue);\n  var pr = _objectSpread(_objectSpread({}, t), {}, {\n    color: \"#2196f3\"\n  });\n  var vr = Object.freeze({\n    __proto__: null,\n    AreaSeries: ve,\n    BarSeries: Me,\n    BaselineSeries: de,\n    CandlestickSeries: Se,\n    get ColorType() {\n      return Vi;\n    },\n    get CrosshairMode() {\n      return $;\n    },\n    HistogramSeries: ye,\n    get LastPriceAnimationMode() {\n      return Di;\n    },\n    LineSeries: Qn,\n    get LineStyle() {\n      return s;\n    },\n    get LineType() {\n      return i;\n    },\n    get MismatchDirection() {\n      return Ct;\n    },\n    get PriceLineSource() {\n      return Ei;\n    },\n    get PriceScaleMode() {\n      return ci;\n    },\n    get TickMarkType() {\n      return Bi;\n    },\n    get TrackingModeExitMode() {\n      return Ri;\n    },\n    createChart: function createChart(t, i) {\n      return Hn(t, new Ji(), Ji.ad(i));\n    },\n    createChartEx: Hn,\n    createImageWatermark: function createImageWatermark(t, i, s) {\n      return new ke(t, new He(i, s));\n    },\n    createOptionsChart: function createOptionsChart(t, i) {\n      return Hn(t, new he(), i);\n    },\n    createSeriesMarkers: function createSeriesMarkers(t, i, s) {\n      var n = new hr(t, new rr(s !== null && s !== void 0 ? s : {}));\n      return i && n.setMarkers(i), n;\n    },\n    createTextWatermark: function createTextWatermark(t, i) {\n      return new ke(t, new ze(i));\n    },\n    createUpDownMarkers: function createUpDownMarkers(t) {\n      var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return new fr(t, new cr(i));\n    },\n    createYieldCurveChart: function createYieldCurveChart(t, i) {\n      var s = Fn(t);\n      return new ee(s, i);\n    },\n    customSeriesDefaultOptions: pr,\n    defaultHorzScaleBehavior: function defaultHorzScaleBehavior() {\n      return Ji;\n    },\n    isBusinessDay: Ai,\n    isUTCTimestamp: zi,\n    version: function version() {\n      return \"5.0.8\";\n    }\n  });\n  window.LightweightCharts = vr;\n}();\n\n//# sourceURL=webpack:///./web/dist/js/lightweight-charts.standalone.production.js?");

/***/ }),

/***/ "./web/js/chart.js":
/*!*************************!*\
  !*** ./web/js/chart.js ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n__webpack_require__(/*! ../dist/js/lightweight-charts.standalone.production.js */ \"./web/dist/js/lightweight-charts.standalone.production.js\");\nvar Papa = __webpack_require__(/*! papaparse */ \"./node_modules/papaparse/papaparse.min.js\");\nfunction createLineSeries(data) {\n  return data.map(function (row) {\n    return {\n      time: new Date(row.start).getTime(),\n      open: row.open,\n      high: row.high,\n      low: row.low,\n      close: row.close\n    };\n  });\n}\nfunction createMarkers(data) {\n  return data.map(function (row) {\n    if (row.position === '-' || !row.position) return null;\n    var isLong = Number(row.position) === 1;\n    return {\n      time: new Date(row.start).getTime(),\n      position: isLong ? 'belowBar' : 'aboveBar',\n      color: isLong ? 'green' : 'red',\n      shape: isLong ? 'arrowUp' : 'arrowDown',\n      text: \"RSI(6): \".concat(row.rsi_6)\n    };\n  }).filter(function (marker) {\n    return marker !== null;\n  });\n}\nfunction createChartElement(series, markers) {\n  console.log('Loading series:', series);\n  console.log('Loading markers:', markers);\n  var chartOptions = {\n    layout: {\n      textColor: 'black',\n      background: {\n        type: 'solid',\n        color: 'white'\n      }\n    }\n  };\n  var chart = LightweightCharts.createChart(document.getElementById('chart-container'), chartOptions);\n  var candlestickSeries = chart.addSeries(LightweightCharts.CandlestickSeries, {\n    upColor: '#26a69a',\n    downColor: '#ef5350',\n    borderVisible: false,\n    wickUpColor: '#26a69a',\n    wickDownColor: '#ef5350'\n  });\n  candlestickSeries.setData(series);\n  LightweightCharts.createSeriesMarkers(candlestickSeries, markers);\n  chart.timeScale().fitContent();\n}\nfunction papaComplete(results) {\n  var data = results.data;\n  var lineSeries = createLineSeries(data);\n  var markers = createMarkers(data);\n  createChartElement(lineSeries, markers);\n}\n(function () {\n  document.getElementById('fileInput').addEventListener('change', function (e) {\n    var file = e.target.files[0];\n    Papa.parse(file, {\n      complete: papaComplete,\n      header: true,\n      skipEmptyLines: true\n    });\n  });\n})();\n\n//# sourceURL=webpack:///./web/js/chart.js?");

/***/ })

/******/ });